!function o(s,a,u){function c(e,t){if(!a[e]){if(!s[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(f)return f(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var i=a[e]={exports:{}};s[e][0].call(i.exports,function(t){return c(s[e][1][t]||t)},i,i.exports,o,s,a,u)}return a[e].exports}for(var f="function"==typeof require&&require,t=0;t<u.length;t++)c(u[t]);return c}({1:[function(_,E,t){(function(e){"use strict";function o(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function s(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var f=_("util/"),n=Object.prototype.hasOwnProperty,l=Array.prototype.slice,r="foo"===function(){}.name;function a(t){return Object.prototype.toString.call(t)}function u(t){return!s(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var c=E.exports=t,i=/\s*function\s+([^\(\s]*)\s*/;function h(t){if(f.isFunction(t)){if(r)return t.name;var e=t.toString().match(i);return e&&e[1]}}function p(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function d(t){if(r||!f.isFunction(t))return f.inspect(t);var e=h(t);return"[Function"+(e?": "+e:"")+"]"}function g(t,e,r,n,i){throw new c.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function t(t,e){t||g(t,!0,e,"==",c.ok)}function y(t,e,r,n){if(t===e)return!0;if(s(t)&&s(e))return 0===o(t,e);if(f.isDate(t)&&f.isDate(e))return t.getTime()===e.getTime();if(f.isRegExp(t)&&f.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(u(t)&&u(e)&&a(t)===a(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===o(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(s(t)!==s(e))return!1;var i=(n=n||{actual:[],expected:[]}).actual.indexOf(t);return-1!==i&&i===n.expected.indexOf(e)||(n.actual.push(t),n.expected.push(e),function(t,e,r,n){if(null==t||null==e)return!1;if(f.isPrimitive(t)||f.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=v(t),o=v(e);if(i&&!o||!i&&o)return!1;if(i)return t=l.call(t),e=l.call(e),y(t,e,r);var s,a,u=w(t),c=w(e);if(u.length!==c.length)return!1;for(u.sort(),c.sort(),a=u.length-1;0<=a;a--)if(u[a]!==c[a])return!1;for(a=u.length-1;0<=a;a--)if(s=u[a],!y(t[s],e[s],r,n))return!1;return!0}(t,e,r,n))}return r?t===e:t==e}function v(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function m(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function b(t,e,r,n){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=function(t){var e;try{t()}catch(t){e=t}return e}(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!i&&g(i,r,"Missing expected exception"+n);var o="string"==typeof n,s=!t&&i&&!r;if((!t&&f.isError(i)&&o&&m(i,r)||s)&&g(i,r,"Got unwanted exception"+n),t&&i&&r&&!m(i,r)||!t&&i)throw i}c.AssertionError=function(t){var e;this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=p(d((e=this).actual),128)+" "+e.operator+" "+p(d(e.expected),128),this.generatedMessage=!0);var r=t.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,r);else{var n=new Error;if(n.stack){var i=n.stack,o=h(r),s=i.indexOf("\n"+o);if(0<=s){var a=i.indexOf("\n",s+1);i=i.substring(a+1)}this.stack=i}}},f.inherits(c.AssertionError,Error),c.fail=g,c.ok=t,c.equal=function(t,e,r){t!=e&&g(t,e,r,"==",c.equal)},c.notEqual=function(t,e,r){t==e&&g(t,e,r,"!=",c.notEqual)},c.deepEqual=function(t,e,r){y(t,e,!1)||g(t,e,r,"deepEqual",c.deepEqual)},c.deepStrictEqual=function(t,e,r){y(t,e,!0)||g(t,e,r,"deepStrictEqual",c.deepStrictEqual)},c.notDeepEqual=function(t,e,r){y(t,e,!1)&&g(t,e,r,"notDeepEqual",c.notDeepEqual)},c.notDeepStrictEqual=function t(e,r,n){y(e,r,!0)&&g(e,r,n,"notDeepStrictEqual",t)},c.strictEqual=function(t,e,r){t!==e&&g(t,e,r,"===",c.strictEqual)},c.notStrictEqual=function(t,e,r){t===e&&g(t,e,r,"!==",c.notStrictEqual)},c.throws=function(t,e,r){b(!0,t,e,r)},c.doesNotThrow=function(t,e,r){b(!1,t,e,r)},c.ifError=function(t){if(t)throw t};var w=Object.keys||function(t){var e=[];for(var r in t)n.call(t,r)&&e.push(r);return e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"util/":4}],2:[function(t,e,r){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],3:[function(t,e,r){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],4:[function(h,t,I){(function(n,i){var a=/%[sdj%]/g;I.format=function(t){if(!w(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(u(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(t).replace(a,function(t){if("%%"===t)return"%";if(i<=r)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}}),s=n[r];r<i;s=n[++r])m(s)||!f(s)?o+=" "+s:o+=" "+u(s);return o},I.deprecate=function(t,e){if(_(i.process))return function(){return I.deprecate(t,e).apply(this,arguments)};if(!0===n.noDeprecation)return t;var r=!1;return function(){if(!r){if(n.throwDeprecation)throw new Error(e);n.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}};var t,o={};function u(t,e){var r={seen:[],stylize:c};return 3<=arguments.length&&(r.depth=arguments[2]),4<=arguments.length&&(r.colors=arguments[3]),v(e)?r.showHidden=e:e&&I._extend(r,e),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),p(r,t,r.depth)}function s(t,e){var r=u.styles[e];return r?"["+u.colors[r][0]+"m"+t+"["+u.colors[r][1]+"m":t}function c(t,e){return t}function p(e,r,n){if(e.customInspect&&r&&S(r.inspect)&&r.inspect!==I.inspect&&(!r.constructor||r.constructor.prototype!==r)){var t=r.inspect(n,e);return w(t)||(t=p(e,t,n)),t}var i=function(t,e){if(_(e))return t.stylize("undefined","undefined");if(w(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(b(e))return t.stylize(""+e,"number");if(v(e))return t.stylize(""+e,"boolean");if(m(e))return t.stylize("null","null")}(e,r);if(i)return i;var o,s=Object.keys(r),a=(o={},s.forEach(function(t,e){o[t]=!0}),o);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),T(r)&&(0<=s.indexOf("message")||0<=s.indexOf("description")))return d(r);if(0===s.length){if(S(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(E(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(x(r))return e.stylize(Date.prototype.toString.call(r),"date");if(T(r))return d(r)}var c,f="",l=!1,h=["{","}"];(y(r)&&(l=!0,h=["[","]"]),S(r))&&(f=" [Function"+(r.name?": "+r.name:"")+"]");return E(r)&&(f=" "+RegExp.prototype.toString.call(r)),x(r)&&(f=" "+Date.prototype.toUTCString.call(r)),T(r)&&(f=" "+d(r)),0!==s.length||l&&0!=r.length?n<0?E(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=l?function(e,r,n,i,t){for(var o=[],s=0,a=r.length;s<a;++s)A(r,String(s))?o.push(g(e,r,n,i,String(s),!0)):o.push("");return t.forEach(function(t){t.match(/^\d+$/)||o.push(g(e,r,n,i,t,!0))}),o}(e,r,n,a,s):s.map(function(t){return g(e,r,n,a,t,l)}),e.seen.pop(),function(t,e,r){if(60<t.reduce(function(t,e){return 0,0<=e.indexOf("\n")&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0))return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(c,f,h)):h[0]+f+h[1]}function d(t){return"["+Error.prototype.toString.call(t)+"]"}function g(t,e,r,n,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),A(n,i)||(s="["+i+"]"),a||(t.seen.indexOf(u.value)<0?-1<(a=m(r)?p(t,u.value,null):p(t,u.value,r-1)).indexOf("\n")&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),_(s)){if(o&&i.match(/^\d+$/))return a;s=(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),t.stylize(s,"string"))}return s+": "+a}function y(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function m(t){return null===t}function b(t){return"number"==typeof t}function w(t){return"string"==typeof t}function _(t){return void 0===t}function E(t){return f(t)&&"[object RegExp]"===e(t)}function f(t){return"object"==typeof t&&null!==t}function x(t){return f(t)&&"[object Date]"===e(t)}function T(t){return f(t)&&("[object Error]"===e(t)||t instanceof Error)}function S(t){return"function"==typeof t}function e(t){return Object.prototype.toString.call(t)}function r(t){return t<10?"0"+t.toString(10):t.toString(10)}I.debuglog=function(e){if(_(t)&&(t=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(t)){var r=n.pid;o[e]=function(){var t=I.format.apply(I,arguments);console.error("%s %d: %s",e,r,t)}}else o[e]=function(){};return o[e]},(I.inspect=u).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},I.isArray=y,I.isBoolean=v,I.isNull=m,I.isNullOrUndefined=function(t){return null==t},I.isNumber=b,I.isString=w,I.isSymbol=function(t){return"symbol"==typeof t},I.isUndefined=_,I.isRegExp=E,I.isObject=f,I.isDate=x,I.isError=T,I.isFunction=S,I.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},I.isBuffer=h("./support/isBuffer");var l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I.log=function(){var t,e;console.log("%s - %s",(t=new Date,e=[r(t.getHours()),r(t.getMinutes()),r(t.getSeconds())].join(":"),[t.getDate(),l[t.getMonth()],e].join(" ")),I.format.apply(I,arguments))},I.inherits=h("inherits"),I._extend=function(t,e){if(!e||!f(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}}).call(this,h("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":3,_process:85,inherits:2}],5:[function(t,e,r){e.exports=t("./lib/autobahn.js")},{"./lib/autobahn.js":9}],6:[function(t,e,r){var o=t("crypto-js");r.sign=function(t,e){return o.HmacSHA256(e,t).toString(o.enc.Base64)},r.derive_key=function(t,e,r,n){var i={keySize:(n=n||32)/4,iterations:r=r||1e3,hasher:o.algo.SHA256};return o.PBKDF2(t,e,i).toString(o.enc.Base64)}},{"crypto-js":43}],7:[function(t,e,r){var i=t("tweetnacl"),o=t("../util.js"),n=t("../log.js"),u=t("../connection.js");function c(t,e){var r=o.htob(e.challenge),n=i.sign.detached(r,t.secretKey);return o.btoh(n)+o.btoh(r)}function f(t){return o.btoh(t.publicKey)}r.load_private_key=function(t,e){var r=o.atob(localStorage.getItem(t));return!r||e?(r=i.randomBytes(i.sign.seedLength),localStorage.setItem(t,o.btoa(r)),n.debug('new key seed "'+t+'" saved to local storage!')):n.debug('key seed "'+t+'" loaded from local storage!'),i.sign.keyPair.fromSeed(r)},r.delete_private_key=function(t){for(var e=0;e<5;++e)seed=i.randomBytes(i.sign.seedLength),localStorage.setItem(t,o.btoa(seed)),localStorage.setItem(t,""),localStorage.setItem(t,null)},r.sign_challenge=c,r.public_key=f,r.create_connection=function(t){var e=t.url,r=t.realm,n=t.authid,i=t.pkey,o=t.activation_code,s=t.request_new_activation_code,a=t.serializers;return t.debug&&(console.log(e),console.log(r),console.log(n),console.log(i),console.log(o),console.log(s),console.log(a)),authextra={pubkey:f(i),trustroot:null,challenge:null,channel_binding:null,activation_code:o,request_new_activation_code:s},new u.Connection({url:e,realm:r,authid:n,authmethods:["cryptosign"],onchallenge:function(t,e,r){if("cryptosign"==e)return c(i,r);throw"don't know how to authenticate using '"+e+"'"},authextra:authextra,serializers:t.serializers})}},{"../connection.js":11,"../log.js":12,"../util.js":26,tweetnacl:107}],8:[function(t,e,r){t("when"),t("when/function");r.auth=function(t,e,r){var n=t.defer();return navigator.id.watch({loggedInUser:e,onlogin:function(t){n.resolve(t)},onlogout:function(){t.leave("wamp.close.logout")}}),n.promise.then?n.promise:n}},{when:135,"when/function":111}],9:[function(g,t,y){(function(t){g("./polyfill.js");var e=g("../package.json"),r=g("when"),n=g("msgpack5"),i=g("cbor"),o=g("tweetnacl");"AUTOBAHN_DEBUG"in t&&AUTOBAHN_DEBUG&&(g("when/monitor/console"),"console"in t&&console.log("AutobahnJS debug enabled"));var s=g("./util.js"),a=g("./log.js"),u=g("./session.js"),c=g("./connection.js"),f=g("./configure.js"),l=g("./serializer.js"),h=g("./auth/persona.js"),p=g("./auth/cra.js"),d=g("./auth/cryptosign.js");y.version=e.version,y.transports=f.transports,y.Connection=c.Connection,y.Session=u.Session,y.Invocation=u.Invocation,y.Event=u.Event,y.Result=u.Result,y.Error=u.Error,y.Subscription=u.Subscription,y.Registration=u.Registration,y.Publication=u.Publication,y.serializer=l,y.auth_persona=h.auth,y.auth_cra=p,y.auth_cryptosign=d,y.when=r,y.msgpack=n,y.cbor=i,y.nacl=o,y.util=s,y.log=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../package.json":27,"./auth/cra.js":6,"./auth/cryptosign.js":7,"./auth/persona.js":8,"./configure.js":10,"./connection.js":11,"./log.js":12,"./polyfill.js":13,"./serializer.js":21,"./session.js":22,"./util.js":26,cbor:30,msgpack5:80,tweetnacl:107,when:135,"when/monitor/console":133}],10:[function(t,e,r){function n(){this._repository={}}n.prototype.register=function(t,e){this._repository[t]=e},n.prototype.isRegistered=function(t){return!!this._repository[t]},n.prototype.get=function(t){if(void 0!==this._repository[t])return this._repository[t];throw"no such transport: "+t},n.prototype.list=function(){var t=[];for(var e in this._repository)t.push(e);return t};var i=new n,o=t("./transport/websocket.js");i.register("websocket",o.Factory);var s=t("./transport/longpoll.js");i.register("longpoll",s.Factory);var a=t("./transport/rawsocket.js");i.register("rawsocket",a.Factory),r.transports=i},{"./transport/longpoll.js":23,"./transport/rawsocket.js":24,"./transport/websocket.js":25}],11:[function(i,t,s){(function(r){var n=i("when"),t=i("./session.js"),a=i("./util.js"),u=i("./log.js"),o=i("./autobahn.js"),e=function(t){var e=this;(e._options=t)&&t.use_es6_promises?e._defer="Promise"in r?function(){var r={};return r.promise=new Promise(function(t,e){r.resolve=t,r.reject=e}),r}:(u.debug("Warning: ES6 promises requested, but not found! Falling back to whenjs."),n.defer):t&&t.use_deferred?e._defer=t.use_deferred:e._defer=n.defer,e._options.transports||(e._options.transports=[{type:"websocket",url:e._options.url,tlsConfiguration:e._options.tlsConfiguration}]),e._transport_factories=[],e._init_transport_factories(),e._session=null,e._session_close_reason=null,e._session_close_message=null,void 0!==e._options.retry_if_unreachable?e._retry_if_unreachable=e._options.retry_if_unreachable:e._retry_if_unreachable=!0,e._max_retries=void 0!==e._options.max_retries?e._options.max_retries:15,e._initial_retry_delay=e._options.initial_retry_delay||1.5,e._max_retry_delay=e._options.max_retry_delay||300,e._retry_delay_growth=e._options.retry_delay_growth||1.5,e._retry_delay_jitter=e._options.retry_delay_jitter||.1,e._connect_successes=0,e._retry=!1,e._retry_count=0,e._retry_delay=e._initial_retry_delay,e._is_retrying=!1,e._retry_timer=null};e.prototype._create_transport=function(){for(var e=this,t=0;t<this._transport_factories.length;++t){var r=this._transport_factories[t];u.debug("trying to create WAMP transport of type: "+r.type);try{var n=r.create();if(n)return u.debug("using WAMP transport type: "+r.type),n}catch(t){var i="could not create WAMP transport '"+r.type+"': ";a.handle_error(e._options.on_internal_error,t,i)}}return u.warn("could not create any WAMP transport"),null},e.prototype._init_transport_factories=function(){var t,e,r,n=this;a.assert(this._options.transports,"No transport.factory specified"),this._options.transports;for(var i=0;i<this._options.transports.length;++i){(t=this._options.transports[i]).url||(t.url=this._options.url),t.serializers||(t.serializers=this._options.serializers),t.protocols||(t.protocols=this._options.protocols),a.assert(t.type,"No transport.type specified"),a.assert("string"==typeof t.type,"transport.type must be a string");try{(r=o.transports.get(t.type))&&(e=new r(t),this._transport_factories.push(e))}catch(t){a.handle_error(n._options.on_internal_error,t)}}},e.prototype._autoreconnect_reset_timer=function(){this._retry_timer&&clearTimeout(this._retry_timer),this._retry_timer=null},e.prototype._autoreconnect_reset=function(){var t=this;t._autoreconnect_reset_timer(),t._retry_count=0,t._retry_delay=t._initial_retry_delay,t._is_retrying=!1},e.prototype._autoreconnect_advance=function(){var t,e=this;return e._retry_delay_jitter&&(e._retry_delay=a.rand_normal(e._retry_delay,e._retry_delay*e._retry_delay_jitter)),e._retry_delay>e._max_retry_delay&&(e._retry_delay=e._max_retry_delay),e._retry_count+=1,t=e._retry&&(-1===e._max_retries||e._retry_count<=e._max_retries)?{count:e._retry_count,delay:e._retry_delay,will_retry:!0}:{count:null,delay:null,will_retry:!1},e._retry_delay_growth&&(e._retry_delay=e._retry_delay*e._retry_delay_growth),t},e.prototype.open=function(){var s=this;if(s._transport)throw"connection already open (or opening)";s._autoreconnect_reset(),s._retry=!0,function o(){try{s._transport=s._create_transport()}catch(t){a.handle_error(s._options.on_internal_error,t)}s._transport?(s._session=new t.Session(s._transport,s._defer,s._options.onchallenge,s._options.on_user_error,s._options.on_internal_error),s._session_close_reason=null,s._session_close_message=null,s._transport.onopen=function(){s._autoreconnect_reset(),s._connect_successes+=1,s._session.join(s._options.realm,s._options.authmethods,s._options.authid,s._options.authextra)},s._session.onjoin=function(t){if(s.onopen)try{t.transport=s._transport.info,s.onopen(s._session,t)}catch(t){a.handle_error(s._options.on_user_error,t,"Exception raised from app code while firing Connection.onopen()")}},s._session.onleave=function(t,e){s._session_close_reason=t,s._session_close_message=e.message||"",s._retry=!1,s._transport.close()},s._transport.onclose=function(t){s._autoreconnect_reset_timer();var e=s._transport=null;0===s._connect_successes?(e="unreachable",s._retry_if_unreachable||(s._retry=!1)):e=t.wasClean?"closed":"lost";var r=s._autoreconnect_advance();if(s.onclose){var n={reason:s._session_close_reason,message:s._session_close_message,retry_delay:r.delay,retry_count:r.count,will_retry:r.will_retry};try{var i=s.onclose(e,n)}catch(t){a.handle_error(s._options.on_user_error,t,"Exception raised from app code while firing Connection.onclose()")}}s._session&&(s._session._id=null,s._session=null,s._session_close_reason=null,s._session_close_message=null),s._retry&&!i&&(r.will_retry?(s._is_retrying=!0,u.debug("retrying in "+r.delay+" s"),s._retry_timer=setTimeout(o,1e3*r.delay)):u.debug("giving up trying to reconnect"))}):(s._retry=!1,s.onclose&&s.onclose("unsupported",{reason:null,message:null,retry_delay:null,retry_count:null,will_retry:!1}))}()},e.prototype.close=function(t,e){var r=this;if(!r._transport&&!r._is_retrying)throw"connection already closed";r._retry=!1,r._session&&r._session.isOpen?r._session.leave(t,e):r._transport&&r._transport.close()},Object.defineProperty(e.prototype,"defer",{get:function(){return this._defer}}),Object.defineProperty(e.prototype,"session",{get:function(){return this._session}}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return!(!this._session||!this._session.isOpen)}}),Object.defineProperty(e.prototype,"isConnected",{get:function(){return!!this._transport}}),Object.defineProperty(e.prototype,"transport",{get:function(){return this._transport?this._transport:{info:{type:"none",url:null,protocol:null}}}}),Object.defineProperty(e.prototype,"isRetrying",{get:function(){return this._is_retrying}}),s.Connection=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./autobahn.js":9,"./log.js":12,"./session.js":22,"./util.js":26,when:135}],12:[function(t,e,n){(function(t){var e=function(){};"AUTOBAHN_DEBUG"in t&&AUTOBAHN_DEBUG&&"console"in t&&(e=function(){console.log.apply(console,arguments)});var r=console.warn;n.debug=e,n.warn=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(t,e,r){t("./polyfill/object.js"),t("./polyfill/array.js"),t("./polyfill/string.js"),t("./polyfill/function.js"),t("./polyfill/console.js"),t("./polyfill/typedarray.js"),t("./polyfill/json.js")},{"./polyfill/array.js":14,"./polyfill/console.js":15,"./polyfill/function.js":16,"./polyfill/json.js":17,"./polyfill/object.js":18,"./polyfill/string.js":19,"./polyfill/typedarray.js":20}],14:[function(t,e,r){"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t){"use strict";var e,r,n,i;if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");if(e=(r=Object(this)).length>>>0,i=0,2<=arguments.length)n=arguments[1];else{for(;i<e&&!i in r;)i++;if(e<=i)throw new TypeError("Reduce of empty array with no initial value");n=r[i++]}for(;i<e;i++)i in r&&(n=t(n,r[i],i,r));return n}),"indexOf"in Array.prototype||(Array.prototype.indexOf=function(t,e){void 0===e&&(e=0),e<0&&(e+=this.length),e<0&&(e=0);for(var r=this.length;e<r;e++)if(e in this&&this[e]===t)return e;return-1}),"lastIndexOf"in Array.prototype||(Array.prototype.lastIndexOf=function(t,e){for(void 0===e&&(e=this.length-1),e<0&&(e+=this.length),e>this.length-1&&(e=this.length-1),e++;0<e--;)if(e in this&&this[e]===t)return e;return-1}),"forEach"in Array.prototype||(Array.prototype.forEach=function(t,e){for(var r=0,n=this.length;r<n;r++)r in this&&t.call(e,this[r],r,this)}),"map"in Array.prototype||(Array.prototype.map=function(t,e){for(var r=new Array(this.length),n=0,i=this.length;n<i;n++)n in this&&(r[n]=t.call(e,this[n],n,this));return r}),"filter"in Array.prototype||(Array.prototype.filter=function(t,e){for(var r,n=[],i=0,o=this.length;i<o;i++)i in this&&t.call(e,r=this[i],i,this)&&n.push(r);return n}),"every"in Array.prototype||(Array.prototype.every=function(t,e){for(var r=0,n=this.length;r<n;r++)if(r in this&&!t.call(e,this[r],r,this))return!1;return!0}),"some"in Array.prototype||(Array.prototype.some=function(t,e){for(var r=0,n=this.length;r<n;r++)if(r in this&&t.call(e,this[r],r,this))return!0;return!1}),"function"!=typeof Array.prototype.reduceRight&&(Array.prototype.reduceRight=function(t){"use strict";if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var e,r=Object(this),n=(r.length>>>0)-1;if(2<=arguments.length)e=arguments[1];else{for(;0<=n&&!n in r;)n--;if(n<0)throw new TypeError("Reduce of empty array with no initial value");e=r[n--]}for(;0<=n;n--)n in r&&(e=t(e,r[n],n,r));return e})},{}],15:[function(t,e,r){var n,i;(n="undefined"!=typeof console?console:void 0)||(n=window.console={log:function(t,e,r,n,i){},info:function(t,e,r,n,i){},warn:function(t,e,r,n,i){},error:function(t,e,r,n,i){},assert:function(t,e){}}),"object"==typeof n.log&&(n.log=Function.prototype.call.bind(n.log,n),n.info=Function.prototype.call.bind(n.info,n),n.warn=Function.prototype.call.bind(n.warn,n),n.error=Function.prototype.call.bind(n.error,n),n.debug=Function.prototype.call.bind(n.info,n)),"group"in n||(n.group=function(t){n.info("\n--- "+t+" ---\n")}),"groupEnd"in n||(n.groupEnd=function(){n.log("\n")}),"assert"in n||(n.assert=function(t,e){if(!t)try{throw new Error("assertion failed: "+e)}catch(t){setTimeout(function(){throw t},0)}}),"time"in n||(i={},n.time=function(t){i[t]=(new Date).getTime()},n.timeEnd=function(t){var e=(new Date).getTime(),r=t in i?e-i[t]:0;n.info(t+": "+r+"ms")})},{}],16:[function(t,e,r){Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,r=Array.prototype.slice.call(arguments,1);return function(){return e.apply(t,Array.prototype.concat.apply(r,arguments))}})},{}],17:[function(require,module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return t<10?"0"+t:t}var cx,escapable,gap,indent,meta,rep;function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var r,n,i,o,s,a=gap,u=e[t];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(t)),"function"==typeof rep&&(u=rep.call(e,t,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(u)){for(o=u.length,r=0;r<o;r+=1)s[r]=str(r,u)||"null";return i=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,i}if(rep&&"object"==typeof rep)for(o=rep.length,r=0;r<o;r+=1)"string"==typeof rep[r]&&(i=str(n=rep[r],u))&&s.push(quote(n)+(gap?": ":":")+i);else for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(i=str(n,u))&&s.push(quote(n)+(gap?": ":":")+i);return i=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,r){var n;if(indent=gap="","number"==typeof r)for(n=0;n<r;n+=1)indent+=" ";else"string"==typeof r&&(indent=r);if((rep=e)&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){var j;function walk(t,e){var r,n,i=t[e];if(i&&"object"==typeof i)for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(void 0!==(n=walk(i,r))?i[r]=n:delete i[r]);return reviver.call(t,e,i)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),exports.JSON=JSON},{}],18:[function(t,e,r){Object.create||(Object.create=function(){function e(){}return function(t){if(1!=arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}()),Object.keys||(Object.keys=function(){"use strict";var i=Object.prototype.hasOwnProperty,o=!{toString:null}.propertyIsEnumerable("toString"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=s.length;return function(t){if("object"!=typeof t&&("function"!=typeof t||null===t))throw new TypeError("Object.keys called on non-object");var e,r,n=[];for(e in t)i.call(t,e)&&n.push(e);if(o)for(r=0;r<a;r++)i.call(t,s[r])&&n.push(s[r]);return n}}())},{}],19:[function(t,e,r){"trim"in String.prototype||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")})},{}],20:[function(t,e,r){"undefined"==typeof Uint8Array&&function(p,d){"use strict";var g=void 0,y=1e5;function v(t){switch(typeof t){case"undefined":return"undefined";case"boolean":return"boolean";case"number":return"number";case"string":return"string";default:return null===t?"null":"object"}}function m(t){return Object.prototype.toString.call(t).replace(/^\[object *|\]$/g,"")}function b(t){return"function"==typeof t}function w(t){if(null===t||t===g)throw TypeError();return Object(t)}function _(t){return t>>0}function E(t){return t>>>0}var n,t,h=Math.LN2,x=Math.abs,T=Math.floor,S=Math.log,A=Math.max,I=Math.min,k=Math.pow,e=Math.round;function r(t,e){var r=32-e;return t<<r>>r}function i(t,e){var r=32-e;return t<<r>>>r}function C(t){return[255&t]}function O(t){return r(t[0],8)}function B(t){return[255&t]}function P(t){return i(t[0],8)}function L(t){return[(t=e(Number(t)))<0?0:255<t?255:255&t]}function j(t){return[t>>8&255,255&t]}function N(t){return r(t[0]<<8|t[1],16)}function R(t){return[t>>8&255,255&t]}function M(t){return i(t[0]<<8|t[1],16)}function D(t){return[t>>24&255,t>>16&255,t>>8&255,255&t]}function F(t){return r(t[0]<<24|t[1]<<16|t[2]<<8|t[3],32)}function U(t){return[t>>24&255,t>>16&255,t>>8&255,255&t]}function z(t){return i(t[0]<<24|t[1]<<16|t[2]<<8|t[3],32)}function o(t,e,r){var n,i,o,s,a,u,c,f=(1<<e-1)-1;function l(t){var e=T(t),r=t-e;return r<.5?e:.5<r?e+1:e%2?e+1:e}for(t!=t?(i=(1<<e)-1,o=k(2,r-1),n=0):t===1/0||t===-1/0?(i=(1<<e)-1,n=t<(o=0)?1:0):0===t?n=1/t==-1/(o=i=0)?1:0:(n=t<0,(t=x(t))>=k(2,1-f)?(i=I(T(S(t)/h),1023),2<=(o=l(t/k(2,i)*k(2,r)))/k(2,r)&&(i+=1,o=1),f<i?(i=(1<<e)-1,o=0):(i+=f,o-=k(2,r))):(i=0,o=l(t/k(2,1-f-r)))),a=[],s=r;s;s-=1)a.push(o%2?1:0),o=T(o/2);for(s=e;s;s-=1)a.push(i%2?1:0),i=T(i/2);for(a.push(n?1:0),a.reverse(),u=a.join(""),c=[];u.length;)c.push(parseInt(u.substring(0,8),2)),u=u.substring(8);return c}function s(t,e,r){var n,i,o,s,a,u,c,f,l=[];for(n=t.length;n;n-=1)for(o=t[n-1],i=8;i;i-=1)l.push(o%2?1:0),o>>=1;return l.reverse(),s=l.join(""),a=(1<<e-1)-1,u=parseInt(s.substring(0,1),2)?-1:1,c=parseInt(s.substring(1,1+e),2),f=parseInt(s.substring(1+e),2),c===(1<<e)-1?0!==f?NaN:u*(1/0):0<c?u*k(2,c-a)*(1+f/k(2,r)):0!==f?u*k(2,-(a-1))*(f/k(2,r)):u<0?-0:0}function Y(t){return s(t,11,52)}function V(t){return o(t,11,52)}function q(t){return s(t,8,23)}function X(t){return o(t,8,23)}n=Object.defineProperty,t=!function(){try{return Object.defineProperty({},"x",{})}catch(t){return!1}}(),n&&!t||(Object.defineProperty=function(t,e,r){if(n)try{return n(t,e,r)}catch(t){}if(t!==Object(t))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in r&&Object.prototype.__defineGetter__.call(t,e,r.get),Object.prototype.__defineSetter__&&"set"in r&&Object.prototype.__defineSetter__.call(t,e,r.set),"value"in r&&(t[e]=r.value),t}),function(){function i(t){if((t=_(t))<0)throw RangeError("ArrayBuffer size is not a small enough positive integer.");Object.defineProperty(this,"byteLength",{value:t}),Object.defineProperty(this,"_bytes",{value:Array(t)});for(var e=0;e<t;e+=1)this._bytes[e]=0}function o(){if(!arguments.length||"object"!=typeof arguments[0])return function(t){if((t=_(t))<0)throw RangeError("length is not a small enough positive integer.");Object.defineProperty(this,"length",{value:t}),Object.defineProperty(this,"byteLength",{value:t*this.BYTES_PER_ELEMENT}),Object.defineProperty(this,"buffer",{value:new i(this.byteLength)}),Object.defineProperty(this,"byteOffset",{value:0})}.apply(this,arguments);if(1<=arguments.length&&"object"===v(arguments[0])&&arguments[0]instanceof o)return function(t){if(this.constructor!==t.constructor)throw TypeError();var e=t.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new i(e)}),Object.defineProperty(this,"byteLength",{value:e}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:t.length});for(var r=0;r<this.length;r+=1)this._setter(r,t._getter(r))}.apply(this,arguments);if(1<=arguments.length&&"object"===v(arguments[0])&&!(arguments[0]instanceof o)&&!(arguments[0]instanceof i||"ArrayBuffer"===m(arguments[0])))return function(t){var e=t.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new i(e)}),Object.defineProperty(this,"byteLength",{value:e}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:t.length});for(var r=0;r<this.length;r+=1){var n=t[r];this._setter(r,Number(n))}}.apply(this,arguments);if(1<=arguments.length&&"object"===v(arguments[0])&&(arguments[0]instanceof i||"ArrayBuffer"===m(arguments[0])))return function(t,e,r){if((e=E(e))>t.byteLength)throw RangeError("byteOffset out of range");if(e%this.BYTES_PER_ELEMENT)throw RangeError("buffer length minus the byteOffset is not a multiple of the element size.");if(r===g){var n=t.byteLength-e;if(n%this.BYTES_PER_ELEMENT)throw RangeError("length of buffer minus byteOffset not a multiple of the element size");r=n/this.BYTES_PER_ELEMENT}else n=(r=E(r))*this.BYTES_PER_ELEMENT;if(e+n>t.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:t}),Object.defineProperty(this,"byteLength",{value:n}),Object.defineProperty(this,"byteOffset",{value:e}),Object.defineProperty(this,"length",{value:r})}.apply(this,arguments);throw TypeError()}p.ArrayBuffer=p.ArrayBuffer||i,Object.defineProperty(o,"from",{value:function(t){return new this(t)}}),Object.defineProperty(o,"of",{value:function(){return new this(arguments)}});var s={};function t(t,e,r){var n=function(){Object.defineProperty(this,"constructor",{value:n}),o.apply(this,arguments),function(r){if(r.length>y)throw RangeError("Array too large for polyfill");function t(e){Object.defineProperty(r,e,{get:function(){return r._getter(e)},set:function(t){r._setter(e,t)},enumerable:!0,configurable:!1})}var e;for(e=0;e<r.length;e+=1)t(e)}(this)};"__proto__"in n?n.__proto__=o:(n.from=o.from,n.of=o.of),n.BYTES_PER_ELEMENT=t;var i=function(){};return i.prototype=s,n.prototype=new i,Object.defineProperty(n.prototype,"BYTES_PER_ELEMENT",{value:t}),Object.defineProperty(n.prototype,"_pack",{value:e}),Object.defineProperty(n.prototype,"_unpack",{value:r}),n}o.prototype=s,Object.defineProperty(o.prototype,"_getter",{value:function(t){if(arguments.length<1)throw SyntaxError("Not enough arguments");if((t=E(t))>=this.length)return g;var e,r,n=[];for(e=0,r=this.byteOffset+t*this.BYTES_PER_ELEMENT;e<this.BYTES_PER_ELEMENT;e+=1,r+=1)n.push(this.buffer._bytes[r]);return this._unpack(n)}}),Object.defineProperty(o.prototype,"get",{value:o.prototype._getter}),Object.defineProperty(o.prototype,"_setter",{value:function(t,e){if(arguments.length<2)throw SyntaxError("Not enough arguments");if(!((t=E(t))>=this.length)){var r,n,i=this._pack(e);for(r=0,n=this.byteOffset+t*this.BYTES_PER_ELEMENT;r<this.BYTES_PER_ELEMENT;r+=1,n+=1)this.buffer._bytes[n]=i[r]}}}),Object.defineProperty(o.prototype,"constructor",{value:o}),Object.defineProperty(o.prototype,"copyWithin",{value:function(t,e){var r=arguments[2],n=w(this),i=E(n.length);i=A(i,0);var o,s=_(t);o=s<0?A(i+s,0):I(s,i);var a,u,c,f=_(e);a=f<0?A(i+f,0):I(f,i),c=(u=r===g?i:_(r))<0?A(i+u,0):I(u,i);var l,h=I(c-a,i-o);for(from<o&&o<a+h?(l=-1,a=a+h-1,o=o+h-1):l=1;0<count;)n._setter(o,n._getter(a)),a+=l,o+=l,h-=1;return n}}),Object.defineProperty(o.prototype,"every",{value:function(t){if(this===g||null===this)throw TypeError();var e=Object(this),r=E(e.length);if(!b(t))throw TypeError();for(var n=arguments[1],i=0;i<r;i++)if(!t.call(n,e._getter(i),i,e))return!1;return!0}}),Object.defineProperty(o.prototype,"fill",{value:function(t){var e=arguments[1],r=arguments[2],n=w(this),i=E(n.length);i=A(i,0);var o,s,a,u=_(e);for(o=u<0?A(i+u,0):I(u,i),a=(s=r===g?i:_(r))<0?A(i+s,0):I(s,i);o<a;)n._setter(o,t),o+=1;return n}}),Object.defineProperty(o.prototype,"filter",{value:function(t){if(this===g||null===this)throw TypeError();var e=Object(this),r=E(e.length);if(!b(t))throw TypeError();for(var n=[],i=arguments[1],o=0;o<r;o++){var s=e._getter(o);t.call(i,s,o,e)&&n.push(s)}return new this.constructor(n)}}),Object.defineProperty(o.prototype,"find",{value:function(t){var e=w(this),r=E(e.length);if(!b(t))throw TypeError();for(var n=1<arguments.length?arguments[1]:g,i=0;i<r;){var o=e._getter(i),s=t.call(n,o,i,e);if(Boolean(s))return o;++i}return g}}),Object.defineProperty(o.prototype,"findIndex",{value:function(t){var e=w(this),r=E(e.length);if(!b(t))throw TypeError();for(var n=1<arguments.length?arguments[1]:g,i=0;i<r;){var o=e._getter(i),s=t.call(n,o,i,e);if(Boolean(s))return i;++i}return-1}}),Object.defineProperty(o.prototype,"forEach",{value:function(t){if(this===g||null===this)throw TypeError();var e=Object(this),r=E(e.length);if(!b(t))throw TypeError();for(var n=arguments[1],i=0;i<r;i++)t.call(n,e._getter(i),i,e)}}),Object.defineProperty(o.prototype,"indexOf",{value:function(t){if(this===g||null===this)throw TypeError();var e=Object(this),r=E(e.length);if(0===r)return-1;var n,i=0;if(0<arguments.length&&((n=Number(arguments[1]))!==i?i=0:0!==n&&n!==1/0&&n!==-1/0&&(i=(0<n||-1)*T(x(n)))),r<=i)return-1;for(var o=0<=i?i:A(r-x(i),0);o<r;o++)if(e._getter(o)===t)return o;return-1}}),Object.defineProperty(o.prototype,"join",{value:function(t){if(this===g||null===this)throw TypeError();for(var e=Object(this),r=E(e.length),n=Array(r),i=0;i<r;++i)n[i]=e._getter(i);return n.join(t===g?",":t)}}),Object.defineProperty(o.prototype,"lastIndexOf",{value:function(t){if(this===g||null===this)throw TypeError();var e=Object(this),r=E(e.length);if(0===r)return-1;var n=r;1<arguments.length&&((n=Number(arguments[1]))!=n?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(0<n||-1)*T(x(n))));for(var i=0<=n?I(n,r-1):r-x(n);0<=i;i--)if(e._getter(i)===t)return i;return-1}}),Object.defineProperty(o.prototype,"map",{value:function(t){if(this===g||null===this)throw TypeError();var e=Object(this),r=E(e.length);if(!b(t))throw TypeError();var n=[];n.length=r;for(var i=arguments[1],o=0;o<r;o++)n[o]=t.call(i,e._getter(o),o,e);return new this.constructor(n)}}),Object.defineProperty(o.prototype,"reduce",{value:function(t){if(this===g||null===this)throw TypeError();var e=Object(this),r=E(e.length);if(!b(t))throw TypeError();if(0===r&&1===arguments.length)throw TypeError();var n,i=0;for(n=2<=arguments.length?arguments[1]:e._getter(i++);i<r;)n=t.call(g,n,e._getter(i),i,e),i++;return n}}),Object.defineProperty(o.prototype,"reduceRight",{value:function(t){if(this===g||null===this)throw TypeError();var e=Object(this),r=E(e.length);if(!b(t))throw TypeError();if(0===r&&1===arguments.length)throw TypeError();var n,i=r-1;for(n=2<=arguments.length?arguments[1]:e._getter(i--);0<=i;)n=t.call(g,n,e._getter(i),i,e),i--;return n}}),Object.defineProperty(o.prototype,"reverse",{value:function(){if(this===g||null===this)throw TypeError();for(var t=Object(this),e=E(t.length),r=T(e/2),n=0,i=e-1;n<r;++n,--i){var o=t._getter(n);t._setter(n,t._getter(i)),t._setter(i,o)}return t}}),Object.defineProperty(o.prototype,"set",{value:function(t,e){if(arguments.length<1)throw SyntaxError("Not enough arguments");var r,n,i,o,s,a,u,c,f,l;if("object"==typeof t&&t.constructor===this.constructor){if(r=t,(i=E(e))+r.length>this.length)throw RangeError("Offset plus length of array is out of range");if(c=this.byteOffset+i*this.BYTES_PER_ELEMENT,f=r.length*this.BYTES_PER_ELEMENT,r.buffer===this.buffer){for(l=[],s=0,a=r.byteOffset;s<f;s+=1,a+=1)l[s]=r.buffer._bytes[a];for(s=0,u=c;s<f;s+=1,u+=1)this.buffer._bytes[u]=l[s]}else for(s=0,a=r.byteOffset,u=c;s<f;s+=1,a+=1,u+=1)this.buffer._bytes[u]=r.buffer._bytes[a]}else{if("object"!=typeof t||void 0===t.length)throw TypeError("Unexpected argument type(s)");if(o=E((n=t).length),(i=E(e))+o>this.length)throw RangeError("Offset plus length of array is out of range");for(s=0;s<o;s+=1)a=n[s],this._setter(i+s,Number(a))}}}),Object.defineProperty(o.prototype,"slice",{value:function(t,e){for(var r=w(this),n=E(r.length),i=_(t),o=i<0?A(n+i,0):I(i,n),s=e===g?n:_(e),a=s<0?A(n+s,0):I(s,n),u=a-o,c=new r.constructor(u),f=0;o<a;){var l=r._getter(o);c._setter(f,l),++o,++f}return c}}),Object.defineProperty(o.prototype,"some",{value:function(t){if(this===g||null===this)throw TypeError();var e=Object(this),r=E(e.length);if(!b(t))throw TypeError();for(var n=arguments[1],i=0;i<r;i++)if(t.call(n,e._getter(i),i,e))return!0;return!1}}),Object.defineProperty(o.prototype,"sort",{value:function(t){if(this===g||null===this)throw TypeError();for(var e=Object(this),r=E(e.length),n=Array(r),i=0;i<r;++i)n[i]=e._getter(i);for(t?n.sort(t):n.sort(),i=0;i<r;++i)e._setter(i,n[i]);return e}}),Object.defineProperty(o.prototype,"subarray",{value:function(t,e){function r(t,e,r){return t<e?e:r<t?r:t}t=_(t),e=_(e),arguments.length<1&&(t=0),arguments.length<2&&(e=this.length),t<0&&(t=this.length+t),e<0&&(e=this.length+e),t=r(t,0,this.length);var n=(e=r(e,0,this.length))-t;return n<0&&(n=0),new this.constructor(this.buffer,this.byteOffset+t*this.BYTES_PER_ELEMENT,n)}});var e=t(1,C,O),r=t(1,B,P),n=t(1,L,P),a=t(2,j,N),u=t(2,R,M),c=t(4,D,F),f=t(4,U,z),l=t(4,X,q),h=t(8,V,Y);p.Int8Array=d.Int8Array=p.Int8Array||e,p.Uint8Array=d.Uint8Array=p.Uint8Array||r,p.Uint8ClampedArray=d.Uint8ClampedArray=p.Uint8ClampedArray||n,p.Int16Array=d.Int16Array=p.Int16Array||a,p.Uint16Array=d.Uint16Array=p.Uint16Array||u,p.Int32Array=d.Int32Array=p.Int32Array||c,p.Uint32Array=d.Uint32Array=p.Uint32Array||f,p.Float32Array=d.Float32Array=p.Float32Array||l,p.Float64Array=d.Float64Array=p.Float64Array||h}(),function(){function u(t,e){return b(t.get)?t.get(e):t[e]}var t,c=(t=new p.Uint16Array([4660]),18===u(new p.Uint8Array(t.buffer),0));function e(t,e,r){if(!(t instanceof ArrayBuffer||"ArrayBuffer"===m(t)))throw TypeError();if((e=E(e))>t.byteLength)throw RangeError("byteOffset out of range");if(e+(r=r===g?t.byteLength-e:E(r))>t.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:t}),Object.defineProperty(this,"byteLength",{value:r}),Object.defineProperty(this,"byteOffset",{value:e})}function r(o){return function(t,e){if((t=E(t))+o.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");t+=this.byteOffset;for(var r=new p.Uint8Array(this.buffer,t,o.BYTES_PER_ELEMENT),n=[],i=0;i<o.BYTES_PER_ELEMENT;i+=1)n.push(u(r,i));return Boolean(e)===Boolean(c)&&n.reverse(),u(new o(new p.Uint8Array(n).buffer),0)}}function n(a){return function(t,e,r){if((t=E(t))+a.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");var n,i=new a([e]),o=new p.Uint8Array(i.buffer),s=[];for(n=0;n<a.BYTES_PER_ELEMENT;n+=1)s.push(u(o,n));Boolean(r)===Boolean(c)&&s.reverse(),new Uint8Array(this.buffer,t,a.BYTES_PER_ELEMENT).set(s)}}Object.defineProperty(e.prototype,"getUint8",{value:r(p.Uint8Array)}),Object.defineProperty(e.prototype,"getInt8",{value:r(p.Int8Array)}),Object.defineProperty(e.prototype,"getUint16",{value:r(p.Uint16Array)}),Object.defineProperty(e.prototype,"getInt16",{value:r(p.Int16Array)}),Object.defineProperty(e.prototype,"getUint32",{value:r(p.Uint32Array)}),Object.defineProperty(e.prototype,"getInt32",{value:r(p.Int32Array)}),Object.defineProperty(e.prototype,"getFloat32",{value:r(p.Float32Array)}),Object.defineProperty(e.prototype,"getFloat64",{value:r(p.Float64Array)}),Object.defineProperty(e.prototype,"setUint8",{value:n(p.Uint8Array)}),Object.defineProperty(e.prototype,"setInt8",{value:n(p.Int8Array)}),Object.defineProperty(e.prototype,"setUint16",{value:n(p.Uint16Array)}),Object.defineProperty(e.prototype,"setInt16",{value:n(p.Int16Array)}),Object.defineProperty(e.prototype,"setUint32",{value:n(p.Uint32Array)}),Object.defineProperty(e.prototype,"setInt32",{value:n(p.Int32Array)}),Object.defineProperty(e.prototype,"setFloat32",{value:n(p.Float32Array)}),Object.defineProperty(e.prototype,"setFloat64",{value:n(p.Float64Array)}),p.DataView=p.DataView||e}()}(r,window),"undefined"!=typeof window&&("Uint8ClampedArray"in window||(window.Uint8ClampedArray=window.Uint8Array))},{}],21:[function(t,e,r){var n=t("./log.js");function i(t,e){this.replacer=t,this.reviver=e,this.SERIALIZER_ID="json",this.BINARY=!1}i.prototype.serialize=function(t){try{return JSON.stringify(t,this.replacer)}catch(t){throw n.warn("JSON encoding error",t),t}},i.prototype.unserialize=function(t){try{return JSON.parse(t,this.reviver)}catch(t){throw n.warn("JSON decoding error",t),t}},r.JSONSerializer=i;try{var o=t("msgpack5")({forceFloat64:!0});function s(){this.SERIALIZER_ID="msgpack",this.BINARY=!0}s.prototype.serialize=function(t){try{return o.encode(t)}catch(t){throw n.warn("MessagePack encoding error",t),t}},s.prototype.unserialize=function(t){try{return o.decode(t)}catch(t){throw n.warn("MessagePack decoding error",t),t}},r.MsgpackSerializer=s}catch(t){n.warn("msgpack serializer not available",t)}try{var a=t("cbor");function u(){this.SERIALIZER_ID="cbor",this.BINARY=!0}u.prototype.serialize=function(t){try{return a.encode(t)}catch(t){throw n.warn("CBOR encoding error",t),t}},u.prototype.unserialize=function(t){try{return a.decodeFirstSync(t)}catch(t){throw n.warn("CBOR decoding error",t),t}},r.CBORSerializer=u}catch(t){n.warn("cbor serializer not available",t)}},{"./log.js":12,cbor:30,msgpack5:80}],22:[function(e,t,r){(function(s){e("when");var l=e("when/function"),a=e("./log.js"),h=e("./util.js");Date.now=Date.now||function(){return+new Date};var p={caller:{features:{caller_identification:!0,call_canceling:!0,progressive_call_results:!0}},callee:{features:{caller_identification:!0,pattern_based_registration:!0,shared_registration:!0,progressive_call_results:!0,registration_revocation:!0}},publisher:{features:{publisher_identification:!0,subscriber_blackwhite_listing:!0,publisher_exclusion:!0}},subscriber:{features:{publisher_identification:!0,pattern_based_subscription:!0,subscription_revocation:!0}}},c=function(t,e,r,n,i){var o=this;o.procedure=t,o.progress=e,o.caller=r,o.caller_authid=n,o.caller_authrole=i},d=function(t,e,r,n,i,o){var s=this;s.publication=t,s.topic=e,s.publisher=r,s.publisher_authid=n,s.publisher_authrole=i,s.retained=o},g=function(t,e){this.args=t||[],this.kwargs=e||{}},y=function(t,e,r){this.error=t,this.args=e||[],this.kwargs=r||{}},v=function(t,e,r,n,i){var o=this;o.topic=t,o.handler=e,o.options=r||{},o.session=n,o.id=i,o.active=!0,o._on_unsubscribe=n._defer(),o._on_unsubscribe.promise.then?o.on_unsubscribe=o._on_unsubscribe.promise:o.on_unsubscribe=o._on_unsubscribe};v.prototype.unsubscribe=function(){return this.session.unsubscribe(this)};var m=function(t,e,r,n,i){var o=this;o.procedure=t,o.endpoint=e,o.options=r||{},o.session=n,o.id=i,o.active=!0,o._on_unregister=n._defer(),o._on_unregister.promise.then?o.on_unregister=o._on_unregister.promise:o.on_unregister=o._on_unregister};m.prototype.unregister=function(){return this.session.unregister(this)};var u=function(t){this.id=t},f=1,b=2,w=3,_=4,E=5,x=6,T=8,S=16,A=17,I=32,k=33,C=34,O=35,B=36,P=48,L=49,j=50,N=64,R=65,M=66,D=67,F=68,U=70,t=function(t,e,r,n,i){var f=this;f._socket=t,f._defer=e,f._onchallenge=r,f._on_user_error=n,f._on_internal_error=i,f._id=null,f._realm=null,f._features=null,f._goodbye_sent=!1,f._transport_is_closing=!1,f._publish_reqs={},f._subscribe_reqs={},f._unsubscribe_reqs={},f._call_reqs={},f._register_reqs={},f._unregister_reqs={},f._subscriptions={},f._registrations={},f._invocations={},f._prefixes={},f._caller_disclose_me=!1,f._publisher_disclose_me=!1,f._send_wamp=function(t){a.debug(t),f._socket.send(t)},f._protocol_violation=function(t){f._socket.close(3002,"protocol violation: "+t),h.handle_error(f._on_internal_error,y("failing transport due to protocol violation: "+t))},f._MESSAGE_MAP={},f._MESSAGE_MAP[T]={};var o=0;f._new_request_id=function(){return o<9007199254740992?o+=1:o=1,o},f._process_SUBSCRIBED=function(t){var e=t[1],r=t[2];if(e in f._subscribe_reqs){var n=f._subscribe_reqs[e],i=n[0],o=n[1],s=n[2],a=n[3];r in f._subscriptions||(f._subscriptions[r]=[]);var u=new v(o,s,a,f,r);f._subscriptions[r].push(u),i.resolve(u),delete f._subscribe_reqs[e]}else f._protocol_violation("SUBSCRIBED received for non-pending request ID "+e)},f._MESSAGE_MAP[k]=f._process_SUBSCRIBED,f._process_SUBSCRIBE_ERROR=function(t){var e=t[2];if(e in f._subscribe_reqs){t[3];var r=new y(t[4],t[5],t[6]);f._subscribe_reqs[e][0].reject(r),delete f._subscribe_reqs[e]}else f._protocol_violation("SUBSCRIBE-ERROR received for non-pending request ID "+e)},f._MESSAGE_MAP[T][I]=f._process_SUBSCRIBE_ERROR,f._process_UNSUBSCRIBED=function(t){var e=t[1];if(e in f._unsubscribe_reqs){var r=f._unsubscribe_reqs[e],n=r[0];if((a=r[1])in f._subscriptions){for(var i=f._subscriptions[a],o=0;o<i.length;++o)i[o].active=!1,i[o]._on_unsubscribe.resolve();delete f._subscriptions[a]}n.resolve(!0),delete f._unsubscribe_reqs[e]}else if(0===e){var s=t[2],a=s.subscription,u=s.reason;if(a in f._subscriptions){for(i=f._subscriptions[a],o=0;o<i.length;++o)i[o].active=!1,i[o]._on_unsubscribe.resolve(u);delete f._subscriptions[a]}else f._protocol_violation("non-voluntary UNSUBSCRIBED received for non-existing subscription ID "+a)}else f._protocol_violation("UNSUBSCRIBED received for non-pending request ID "+e)},f._MESSAGE_MAP[O]=f._process_UNSUBSCRIBED,f._process_UNSUBSCRIBE_ERROR=function(t){var e=t[2];if(e in f._unsubscribe_reqs){t[3];var r=new y(t[4],t[5],t[6]),n=f._unsubscribe_reqs[e],i=n[0];n[1];i.reject(r),delete f._unsubscribe_reqs[e]}else f._protocol_violation("UNSUBSCRIBE-ERROR received for non-pending request ID "+e)},f._MESSAGE_MAP[T][C]=f._process_UNSUBSCRIBE_ERROR,f._process_PUBLISHED=function(t){var e=t[1],r=t[2];if(e in f._publish_reqs){var n=f._publish_reqs[e],i=n[0],o=(n[1],new u(r));i.resolve(o),delete f._publish_reqs[e]}else f._protocol_violation("PUBLISHED received for non-pending request ID "+e)},f._MESSAGE_MAP[A]=f._process_PUBLISHED,f._process_PUBLISH_ERROR=function(t){var e=t[2];if(e in f._publish_reqs){t[3];var r=new y(t[4],t[5],t[6]),n=f._publish_reqs[e],i=n[0];n[1];i.reject(r),delete f._publish_reqs[e]}else f._protocol_violation("PUBLISH-ERROR received for non-pending request ID "+e)},f._MESSAGE_MAP[T][S]=f._process_PUBLISH_ERROR,f._process_EVENT=function(t){var e=t[1];if(e in f._subscriptions)for(var r=t[2],n=t[3],i=t[4]||[],o=t[5]||{},s=f._subscriptions[e],a=new d(r,n.topic||s[0]&&s[0].topic,n.publisher,n.publisher_authid,n.publisher_authrole,n.retained||!1),u=0;u<s.length;++u){var c=s[u];try{c.handler(i,o,a,c)}catch(t){h.handle_error(f._on_user_error,t,"Exception raised in event handler:")}}else f._protocol_violation("EVENT received for non-subscribed subscription ID "+e)},f._MESSAGE_MAP[B]=f._process_EVENT,f._process_REGISTERED=function(t){var e=t[1],r=t[2];if(e in f._register_reqs){var n=f._register_reqs[e],i=n[0],o=n[1],s=n[2],a=n[3],u=new m(o,s,a,f,r);f._registrations[r]=u,i.resolve(u),delete f._register_reqs[e]}else f._protocol_violation("REGISTERED received for non-pending request ID "+e)},f._MESSAGE_MAP[R]=f._process_REGISTERED,f._process_REGISTER_ERROR=function(t){var e=t[2];if(e in f._register_reqs){t[3];var r=new y(t[4],t[5],t[6]);f._register_reqs[e][0].reject(r),delete f._register_reqs[e]}else f._protocol_violation("REGISTER-ERROR received for non-pending request ID "+e)},f._MESSAGE_MAP[T][N]=f._process_REGISTER_ERROR,f._process_UNREGISTERED=function(t){var e=t[1];if(e in f._unregister_reqs){var r=f._unregister_reqs[e],n=r[0];(i=r[1]).id in f._registrations&&delete f._registrations[i.id],i.active=!1,n.resolve(),delete f._unregister_reqs[e]}else if(0===e){var i,o=t[2],s=o.registration,a=o.reason;if(s in f._registrations)(i=f._registrations[s]).active=!1,i._on_unregister.resolve(a),delete f._registrations[s];else f._protocol_violation("non-voluntary UNREGISTERED received for non-existing registration ID "+s)}else f._protocol_violation("UNREGISTERED received for non-pending request ID "+e)},f._MESSAGE_MAP[D]=f._process_UNREGISTERED,f._process_UNREGISTER_ERROR=function(t){var e=t[2];if(e in f._unregister_reqs){t[3];var r=new y(t[4],t[5],t[6]),n=f._unregister_reqs[e],i=n[0];n[1];i.reject(r),delete f._unregister_reqs[e]}else f._protocol_violation("UNREGISTER-ERROR received for non-pending request ID "+e)},f._MESSAGE_MAP[T][M]=f._process_UNREGISTER_ERROR,f._process_RESULT=function(t){var e=t[1];if(e in f._call_reqs){var r=t[2],n=t[3]||[],i=t[4]||{},o=null;1<n.length||0<Object.keys(i).length?o=new g(n,i):0<n.length&&(o=n[0]);var s=f._call_reqs[e],a=s[0],u=s[1];r.progress?u&&u.receive_progress&&a.notify(o):(a.resolve(o),delete f._call_reqs[e])}else f._protocol_violation("CALL-RESULT received for non-pending request ID "+e)},f._MESSAGE_MAP[j]=f._process_RESULT,f._process_CALL_ERROR=function(t){var e=t[2];if(e in f._call_reqs){t[3];var r=new y(t[4],t[5],t[6]),n=f._call_reqs[e],i=n[0];n[1];i.reject(r),delete f._call_reqs[e]}else f._protocol_violation("CALL-ERROR received for non-pending request ID "+e)},f._MESSAGE_MAP[T][P]=f._process_CALL_ERROR,f._process_INVOCATION=function(t){var i=t[1],e=t[2],r=t[3];if(e in f._registrations){var n=f._registrations[e],o=t[4]||[],s=t[5]||{},a=null;r.receive_progress&&(a=function(t,e){var r=[U,i,{progress:!0}];t=t||[],e=e||{};var n=Object.keys(e).length;(t.length||n)&&(r.push(t),n&&r.push(e)),f._send_wamp(r)});var u=new c(r.procedure||n.procedure,a,r.caller,r.caller_authid,r.caller_authrole);l.call(n.endpoint,o,s,u).then(function(t){var e=[U,i,{}];if(t instanceof g){var r=Object.keys(t.kwargs).length;(t.args.length||r)&&(e.push(t.args),r&&e.push(t.kwargs))}else e.push([t]);f._send_wamp(e)},function(t){var e=[T,F,i,{}];if(t instanceof y){e.push(t.error);var r=Object.keys(t.kwargs).length;(t.args.length||r)&&(e.push(t.args),r&&e.push(t.kwargs))}else e.push("wamp.error.runtime_error"),e.push([t]);f._send_wamp(e),h.handle_error(f._on_user_error,t,"Exception raised in invocation handler:")})}else f._protocol_violation("INVOCATION received for non-registered registration ID "+i)},f._MESSAGE_MAP[F]=f._process_INVOCATION,f._socket.onmessage=function(t){var e=t[0];if(f._id)if(e===x){if(!f._goodbye_sent){var r=[x,{},"wamp.error.goodbye_and_out"];f._send_wamp(r)}f._id=null,f._realm=null,f._features=null;s=t[1],a=t[2];f.onleave&&f.onleave(a,s)}else if(e===T){var n=t[1];n in f._MESSAGE_MAP[T]?f._MESSAGE_MAP[e][n](t):f._protocol_violation("unexpected ERROR message with request_type "+n)}else e in f._MESSAGE_MAP?f._MESSAGE_MAP[e](t):f._protocol_violation("unexpected message type "+e);else if(e===b){f._id=t[1];var i=t[2];if(f._features={},i.roles.broker&&(f._features.subscriber={},f._features.publisher={},i.roles.broker.features)){for(var o in p.publisher.features)f._features.publisher[o]=p.publisher.features[o]&&i.roles.broker.features[o];for(var o in p.subscriber.features)f._features.subscriber[o]=p.subscriber.features[o]&&i.roles.broker.features[o]}if(i.roles.dealer&&(f._features.caller={},f._features.callee={},i.roles.dealer.features)){for(var o in p.caller.features)f._features.caller[o]=p.caller.features[o]&&i.roles.dealer.features[o];for(var o in p.callee.features)f._features.callee[o]=p.callee.features[o]&&i.roles.dealer.features[o]}f.onjoin&&f.onjoin(t[2])}else if(e===w){var s=t[1],a=t[2];f.onleave&&f.onleave(a,s)}else if(e===_)if(f._onchallenge){var u=t[1],c=t[2];l.call(f._onchallenge,f,u,c).then(function(t){if("string"==typeof t)var e=[E,t,{}];else if("object"==typeof t){var r=t[0],n=t[1];e=[E,r,n]}f._send_wamp(e)},function(t){h.handle_error(f._on_user_error,t,"onchallenge() raised: ");var e=[w,{message:"sorry, I cannot authenticate (onchallenge handler raised an exception)"},"wamp.error.cannot_authenticate"];f._send_wamp(e),f._socket.close(3e3)})}else{h.handle_error(f._on_internal_error,y("received WAMP challenge, but no onchallenge() handler set"));t=[w,{message:"sorry, I cannot authenticate (no onchallenge handler set)"},"wamp.error.cannot_authenticate"];f._send_wamp(t),f._socket.close(3e3)}else f._protocol_violation("unexpected message type "+e)},"performance"in s&&"now"in performance?f._created=performance.now():f._created=Date.now()};Object.defineProperty(t.prototype,"defer",{get:function(){return this._defer}}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id}}),Object.defineProperty(t.prototype,"realm",{get:function(){return this._realm}}),Object.defineProperty(t.prototype,"isOpen",{get:function(){return null!==this.id}}),Object.defineProperty(t.prototype,"features",{get:function(){return this._features}}),Object.defineProperty(t.prototype,"caller_disclose_me",{get:function(){return this._caller_disclose_me},set:function(t){this._caller_disclose_me=t}}),Object.defineProperty(t.prototype,"publisher_disclose_me",{get:function(){return this._publisher_disclose_me},set:function(t){this._publisher_disclose_me=t}}),Object.defineProperty(t.prototype,"subscriptions",{get:function(){for(var t=Object.keys(this._subscriptions),e=[],r=0;r<t.length;++r)e.push(this._subscriptions[t[r]]);return e}}),Object.defineProperty(t.prototype,"registrations",{get:function(){for(var t=Object.keys(this._registrations),e=[],r=0;r<t.length;++r)e.push(this._registrations[t[r]]);return e}}),t.prototype.log=function(){var t=this;if("console"in s){var e=null;if(t._id&&t._created){var r=null;r="performance"in s&&"now"in performance?performance.now()-t._created:Date.now()-t._created,e="WAMP session "+t._id+" on '"+t._realm+"' at "+Math.round(1e3*r)/1e3+" ms"}else e="WAMP session";if("group"in console){console.group(e);for(var n=0;n<arguments.length;n+=1)console.log(arguments[n]);console.groupEnd()}else{var i=[e+": "];for(n=0;n<arguments.length;n+=1)i.push(arguments[n]);console.log.apply(console,i)}}},t.prototype.join=function(t,e,r,n){h.assert(!t||"string"==typeof t,"Session.join: <realm> must be a string"),h.assert(!e||Array.isArray(e),"Session.join: <authmethods> must be an array []"),h.assert(!r||"string"==typeof r,"Session.join: <authid> must be a string");if(this.isOpen)throw"session already open";this._goodbye_sent=!1,this._realm=t;var i={};i.roles=p,e&&(i.authmethods=e),r&&(i.authid=r),n&&(i.authextra=n);var o=[f,t,i];this._send_wamp(o)},t.prototype.leave=function(t,e){h.assert(!t||"string"==typeof t,"Session.leave: <reason> must be a string"),h.assert(!e||"string"==typeof e,"Session.leave: <message> must be a string");if(!this.isOpen)throw"session not open";t||(t="wamp.close.normal");var r={};e&&(r.message=e);var n=[x,r,t];this._send_wamp(n),this._goodbye_sent=!0},t.prototype.call=function(t,e,r,n){h.assert("string"==typeof t,"Session.call: <procedure> must be a string"),h.assert(!e||Array.isArray(e),"Session.call: <args> must be an array []"),h.assert(!r||r instanceof Object,"Session.call: <kwargs> must be an object {}"),h.assert(!n||n instanceof Object,"Session.call: <options> must be an object {}");var i=this;if(!i.isOpen)throw"session not open";void 0===(n=n||{}).disclose_me&&i._caller_disclose_me&&(n.disclose_me=!0);var o=i._defer(),s=i._new_request_id();i._call_reqs[s]=[o,n];var a,u=[P,s,n,i.resolve(t)];return e?(u.push(e),r&&u.push(r)):r&&(u.push([]),u.push(r)),i._send_wamp(u),(a=o.promise.then?o.promise:o).cancel=function(t){var e=[L,s,t||{}];(i._send_wamp(e),!(s in i._call_reqs)||t&&t.mode&&"kill"===t.mode)||(i._call_reqs[s][0].reject(new y("Cancelled")),delete i._call_reqs[s])},a},t.prototype.publish=function(t,e,r,n){h.assert("string"==typeof t,"Session.publish: <topic> must be a string"),h.assert(!e||Array.isArray(e),"Session.publish: <args> must be an array []"),h.assert(!r||r instanceof Object,"Session.publish: <kwargs> must be an object {}"),h.assert(!n||n instanceof Object,"Session.publish: <options> must be an object {}");var i=this;if(!i.isOpen)throw"session not open";void 0===(n=n||{}).disclose_me&&i._publisher_disclose_me&&(n.disclose_me=!0);var o=null,s=i._new_request_id();n.acknowledge&&(o=i._defer(),i._publish_reqs[s]=[o,n]);var a=[S,s,n,i.resolve(t)];if(e?(a.push(e),r&&a.push(r)):r&&(a.push([]),a.push(r)),i._send_wamp(a),o)return o.promise.then?o.promise:o},t.prototype.subscribe=function(t,e,r){h.assert("string"==typeof t,"Session.subscribe: <topic> must be a string"),h.assert("function"==typeof e,"Session.subscribe: <handler> must be a function"),h.assert(!r||r instanceof Object,"Session.subscribe: <options> must be an object {}");var n=this;if(!n.isOpen)throw"session not open";var i=n._new_request_id(),o=n._defer();n._subscribe_reqs[i]=[o,t,e,r];var s=[I,i];return r?s.push(r):s.push({}),s.push(n.resolve(t)),n._send_wamp(s),o.promise.then?o.promise:o},t.prototype.register=function(t,e,r){h.assert("string"==typeof t,"Session.register: <procedure> must be a string"),h.assert("function"==typeof e,"Session.register: <endpoint> must be a function"),h.assert(!r||r instanceof Object,"Session.register: <options> must be an object {}");var n=this;if(!n.isOpen)throw"session not open";var i=n._new_request_id(),o=n._defer();n._register_reqs[i]=[o,t,e,r];var s=[N,i];return r?s.push(r):s.push({}),s.push(n.resolve(t)),n._send_wamp(s),o.promise.then?o.promise:o},t.prototype.unsubscribe=function(t){h.assert(t instanceof v,"Session.unsubscribe: <subscription> must be an instance of class autobahn.Subscription");var e=this;if(!e.isOpen)throw"session not open";if(!(t.active&&t.id in e._subscriptions))throw"subscription not active";var r=e._subscriptions[t.id],n=r.indexOf(t);if(-1===n)throw"subscription not active";r.splice(n,1),t.active=!1;var i=e._defer();if(r.length)i.resolve(!1);else{var o=e._new_request_id();e._unsubscribe_reqs[o]=[i,t.id];var s=[C,o,t.id];e._send_wamp(s)}return i.promise.then?i.promise:i},t.prototype.unregister=function(t){h.assert(t instanceof m,"Session.unregister: <registration> must be an instance of class autobahn.Registration");var e=this;if(!e.isOpen)throw"session not open";if(!(t.active&&t.id in e._registrations))throw"registration not active";var r=e._new_request_id(),n=e._defer();e._unregister_reqs[r]=[n,t];var i=[M,r,t.id];return e._send_wamp(i),n.promise.then?n.promise:n},t.prototype.prefix=function(t,e){h.assert("string"==typeof t,"Session.prefix: <prefix> must be a string"),h.assert(!e||"string"==typeof e,"Session.prefix: <uri> must be a string or falsy");e?this._prefixes[t]=e:t in this._prefixes&&delete this._prefixes[t]},t.prototype.resolve=function(t){h.assert("string"==typeof t,"Session.resolve: <curie> must be a string");var e=t.indexOf(":");if(0<=e){var r=t.substring(0,e);return r in this._prefixes?this._prefixes[r]+"."+t.substring(e+1):t}return t},r.Session=t,r.Invocation=c,r.Event=d,r.Result=g,r.Error=y,r.Subscription=v,r.Registration=m,r.Publication=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./log.js":12,"./util.js":26,when:135,"when/function":111}],23:[function(t,e,r){t("when");var a=t("../util.js"),u=t("../log.js"),n=t("../serializer.js");function i(t){a.assert(void 0!==t.url,"options.url missing"),a.assert("string"==typeof t.url,"options.url must be a string"),this._options=t}i.prototype.type="longpoll",i.prototype.create=function(){var r=this;u.debug("longpoll.Factory.create");var s={protocol:void 0};return s.serializer=new n.JSONSerializer,s.send=void 0,s.close=void 0,s.onmessage=function(){},s.onopen=function(){},s.onclose=function(){},s.info={type:"longpoll",url:null,protocol:"wamp.2.json"},s._run=function(){var e=null,i=!1,o=r._options.request_timeout||12e3;a.http_post(r._options.url+"/open",JSON.stringify({protocols:["wamp.2.json"]}),o).then(function(t){e=JSON.parse(t);var n=r._options.url+"/"+e.transport;s.info.url=n,u.debug("longpoll.Transport: open",e),s.close=function(t,e){if(i)throw"transport is already closing";i=!0,a.http_post(n+"/close",null,o).then(function(){u.debug("longpoll.Transport: transport closed");s.onclose({code:1e3,reason:"transport closed",wasClean:!0})},function(t){u.debug("longpoll.Transport: could not close transport",t.code,t.text)})},s.send=function(t){if(i)throw"transport is closing or closed already";1,u.debug("longpoll.Transport: sending message ...",t);var e=JSON.stringify(t);a.http_post(n+"/send",e,o).then(function(){u.debug("longpoll.Transport: message sent")},function(t){u.debug("longpoll.Transport: could not send message",t.code,t.text),i=!0;var e={code:1001,reason:"transport send failure (HTTP/POST status "+t.code+" - '"+t.text+"')",wasClean:!1};s.onclose(e)})},function r(){1,u.debug("longpoll.Transport: polling for message ..."),a.http_post(n+"/receive",null,o).then(function(t){if(t){var e=JSON.parse(t);u.debug("longpoll.Transport: message received",e),s.onmessage(e)}i||r()},function(t){u.debug("longpoll.Transport: could not receive message",t.code,t.text),i=!0;var e={code:1001,reason:"transport receive failure (HTTP/POST status "+t.code+" - '"+t.text+"')",wasClean:!1};s.onclose(e)})}(),s.onopen()},function(t){u.debug("longpoll.Transport: could not open transport",t.code,t.text),i=!0;var e={code:1001,reason:"transport open failure (HTTP/POST status "+t.code+" - '"+t.text+"')",wasClean:!1};s.onclose(e)})},s._run(),s},r.Factory=i},{"../log.js":12,"../serializer.js":21,"../util.js":26,when:135}],24:[function(c,t,f){(function(t,o){var n=c("../util.js"),s=c("../log.js"),e=c("../serializer.js"),i=c("events").EventEmitter;function r(t){t.protocols?n.assert(Array.isArray(t.protocols),"options.protocols must be an array"):t.protocols=["wamp.2.json"],t.rawsocket_max_len_exp=t.rawsocket_max_len_exp||24,this._options=t}function a(t,e){this._options={_peer_serializer:null,_peer_max_len_exp:0},this._options=n.defaults(this._options,e,this.DEFAULT_OPTIONS),n.assert(this._options.serializer in this.SERIALIZERS,"Unsupported serializer: "+this._options.serializer),n.assert(9<=this._options.max_len_exp&&this._options.max_len_exp<=36,"Message length out of bounds [9, 36]: "+this._options.max_len_exp),n.assert(!this._options.autoping||Number.isInteger(this._options.autoping)&&0<=this._options.autoping,"Autoping interval must be positive"),n.assert(!this._options.ping_timeout||Number.isInteger(this._options.ping_timeout)&&0<=this._options.ping_timeout,"Ping timeout duration must be positive"),n.assert(!this._options.packet_timeout||Number.isInteger(this._options.packet_timeout)&&0<=this._options.packet_timeout,"Packet timeout duration must be positive"),n.assert(!this._options.autoping||!this._options.ping_timeout||this._options.autoping>this._options.ping_timeout,"Autoping interval ("+this._options.autoping+") must be lower than ping timeout ("+this._options.ping_timeout+")"),this._ping_timeout=null,this._ping_payload=null,this._ping_interval=null,this._status=this.STATUS.UNINITIATED,this._stream=t,this._emitter=new i,this._buffer=new o(4),this._bufferLen=0,this._msgLen=0;var r=this;this._stream.on("data",function(t){r._read(t)}),this._stream.on("connect",function(){r._handshake()});["close","drain","end","error","timeout"].forEach(function(e){r._stream.on(e,function(t){r._emitter.emit(e,t)})})}r.prototype.type="rawsocket",r.prototype.create=function(){var n=this,i={protocol:void 0};if(i.serializer=new e.JSONSerializer,i.send=void 0,i.close=void 0,i.onmessage=function(){},i.onopen=function(){},i.onclose=function(){},i.info={type:"rawsocket",url:null,protocol:"wamp.2.json"},!t.process||!t.process.versions.node)throw"No RawSocket support in browser";return function(){var t,r,e=c("net");if(n._options.path)connectionOptions={path:n._options.path,allowHalfOpen:!0};else{if(!n._options.port)throw"You must specify a host/port combination or a unix socket path to connect to";connectionOptions={port:n._options.port||8e3,host:n._options.host||"localhost",allowHalfOpen:!0}}t=e.connect(connectionOptions),(r=new a(t,{serializer:"json",max_len_exp:n._options.rawsocket_max_len_exp})).on("connect",function(t){s.debug("RawSocket transport negociated"),i.onopen(t)}),r.on("data",function(t){s.debug("RawSocket transport received",t),i.onmessage(t)}),r.on("close",function(t){s.debug("RawSocket transport closed"),i.onclose({code:999,reason:"",wasClean:!t})}),r.on("error",function(t){s.debug("RawSocket transport error",t)}),i.close=function(t,e){s.debug("RawSocket transport closing",t,e),r.close()},i.send=function(t){s.debug("RawSocket transport sending",t),r.write(t)}}(),i},a.prototype._MAGIC_BYTE=127,a.prototype.SERIALIZERS={json:1},a.prototype.STATUS={CLOSED:-1,UNINITIATED:0,NEGOCIATING:1,NEGOCIATED:2,RXHEAD:3,RXDATA:4,RXPING:5,RXPONG:6},a.prototype.ERRORS={0:"illegal (must not be used)",1:"serializer unsupported",2:"maximum message length unacceptable",3:"use of reserved bits (unsupported feature)",4:"maximum connection count reached"},a.prototype.MSGTYPES={WAMP:0,PING:1,PONG:2},a.prototype.DEFAULT_OPTIONS={fail_on_ping_timeout:!0,strict_pong:!0,ping_timeout:2e3,autoping:0,max_len_exp:24,serializer:"json",packet_timeout:2e3},a.prototype.close=function(){return this._status=this.STATUS.CLOSED,this._stream.end(),this.STATUS.CLOSED},a.prototype.write=function(t,e,r){(e=void 0===e?0:e)===this.MSGTYPES.WAMP&&(t=JSON.stringify(t));var n=o.byteLength(t,"utf8");if(n>Math.pow(2,this._options._peer_max_len_exp))this._emitter.emit("error",new u("Frame too big"));else{var i=new o(n+4);i.writeUInt8(e,0),i.writeUIntBE(n,1,3),i.write(t,4),this._stream.write(i,r)}},a.prototype.ping=function(t){if(t=t||255,Number.isInteger(t))for(var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&~\"#'{([-|`_\\^@)]=},?;.:/!*$<>",r=Math.max(1,t),n=0;n<r;n++)t+=e.charAt(Math.random()*e.length|0);return this._ping_payload=t,this.write(t,this.MSGTYPES.PING,this._setupPingTimeout.bind(this))},a.prototype._setupPingTimeout=function(){this._options.ping_timeout&&(this._ping_timeout=setTimeout(this._onPingTimeout.bind(this),this._options.ping_timeout))},a.prototype._clearPingTimeout=function(){this._ping_timeout&&(clearTimeout(this._ping_timeout),this._ping_timeout=null)},a.prototype._setupAutoPing=function(){this._clearAutoPing(),this._options.autoping&&(this._autoping_interval=setInterval(this.ping.bind(this),this._options.autoping))},a.prototype._clearAutoPing=function(){this._autoping_interval&&(clearInterval(this._autoping_interval),this._autoping_interval=null)},a.prototype._onPingTimeout=function(){this._emitter.emit("error",new u("PING timeout")),this._options.fail_on_ping_timeout&&this.close()},a.prototype._read=function(t){var e,r;switch(this._status){case this.STATUS.CLOSED:case this.STATUS.UNINITIATED:this._emitter.emit("error",u("Unexpected packet"));break;case this.STATUS.NEGOCIATING:e=this._handleHandshake,r=4;break;case this.STATUS.NEGOCIATED:case this.STATUS.RXHEAD:this._status=this.STATUS.RXHEAD,e=this._handleHeaderPacket,r=4;break;case this.STATUS.RXDATA:e=this._handleDataPacket,r=this._msgLen;break;case this.STATUS.RXPING:e=this._handlePingPacket,r=this._msgLen;break;case this.STATUS.RXPONG:e=this._handlePongPacket,r=this._msgLen}var n=this._splitBytes(t,r);n&&(this._status=e.call(this,n[0]),0<n[1].length&&this._read(n[1]))},a.prototype._handshake=function(){if(this._status!==this.STATUS.UNINITIATED)throw"Handshake packet already sent";var t=new o(4);t.writeUInt8(this._MAGIC_BYTE,0),t.writeUInt8(this._options.max_len_exp-9<<4|this.SERIALIZERS[this._options.serializer],1),t.writeUInt8(0,2),t.writeUInt8(0,3),this._stream.write(t),this._status=this.STATUS.NEGOCIATING},a.prototype._splitBytes=function(t,e){if(e!==this._buffer.length&&(this._buffer=new o(e),this._bufferLen=0),t.copy(this._buffer,this._bufferLen),this._bufferLen+t.length<e)return this._bufferLen+=t.length,null;var r=this._buffer.slice(),n=t.slice(e-this._bufferLen);return this._bufferLen=0,[r,n]},a.prototype._handleHandshake=function(t){if(t[0]!==this._MAGIC_BYTE)return this._emitter.emit("error",new u("Invalid magic byte. Expected 0x"+this._MAGIC_BYTE.toString(16)+", got 0x"+t[0].toString(16))),this.close();if(0!=(15&t[1]))return this._options._peer_max_len_exp=9+(t[1]>>4),this._options._peer_serializer=15&t[1],this._options._peer_serializer!==this.SERIALIZERS.json?(this._emitter.emit("error",new u("Unsupported serializer: 0x"+this._options._peer_serializer.toString(16))),this.close()):(this._emitter.emit("connect"),this._setupAutoPing(),this.STATUS.NEGOCIATED);var e=t[1]>>4;return this._emitter.emit("error",new u("Peer failed handshake: "+(this.ERRORS[e]||"0x"+e.toString(16)))),this.close()},a.prototype._handleHeaderPacket=function(t){var e=15&t[0];switch(this._msgLen=t.readUIntBE(1,3),e){case this.MSGTYPES.WAMP:return this.STATUS.RXDATA;case this.MSGTYPES.PING:return this.STATUS.RXPING;case this.MSGTYPES.PONG:return this.STATUS.RXPONG;default:return this._emitter.emit("error",new u("Invalid frame type: 0x"+e.toString(16))),this.close()}},a.prototype._handleDataPacket=function(t){var e;try{e=JSON.parse(t.toString("utf8"))}catch(t){return this._emitter.emit("error",new u("Invalid JSON frame")),this.STATUS.RXHEAD}return this._emitter.emit("data",e),this.STATUS.RXHEAD},a.prototype._handlePingPacket=function(t){return this.write(t.toString("utf8"),this.MSGTYPES.PONG),this.STATUS.RXHEAD},a.prototype._handlePongPacket=function(t){return this._clearPingTimeout(),this._options.strict_pong&&this._ping_payload!==t.toString("utf8")?(this._emitter.emit("error",new u("PONG response payload doesn't match PING.")),this.close()):this.STATUS.RXHEAD},a.prototype.on=function(t,e){return this._emitter.on(t,e)},a.prototype.once=function(t,e){return this._emitter.once(t,e)},a.prototype.removeListener=function(t,e){return this._emitter.removeListener(t,e)};var u=f.ProtocolError=function(t){Error.apply(this,Array.prototype.splice.call(arguments)),Error.captureStackTrace(this,this.constructor),this.message=t,this.name="ProtocolError"};u.prototype=Object.create(Error.prototype),f.Factory=r,f.Protocol=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},c("buffer").Buffer)},{"../log.js":12,"../serializer.js":21,"../util.js":26,buffer:32,events:70,net:31}],25:[function(f,t,o){(function(t){var r=f("../util.js"),i=f("../log.js"),n=f("../serializer.js");function e(e){r.assert(void 0!==e.url,"options.url missing"),r.assert("string"==typeof e.url,"options.url must be a string"),e.serializers?r.assert(Array.isArray(e.serializers),"options.serializers must be an array"):(e.serializers=[new n.JSONSerializer],n.MsgpackSerializer&&e.serializers.push(new n.MsgpackSerializer)),e.protocols?r.assert(Array.isArray(e.protocols),"options.protocols must be an array"):(e.protocols=[],e.serializers.forEach(function(t){e.protocols.push("wamp.2."+t.SERIALIZER_ID)})),e.autoping_interval?(r.assert(0<e.autoping_interval,"options.autoping_interval must be greater than 0"),e.autoping_interval=1e3*e.autoping_interval):e.autoping_interval=1e4,e.autoping_timeout?(r.assert(0<e.autoping_timeout,"options.autoping_timeout must be greater than 0"),e.autoping_timeout=1e3*e.autoping_timeout):e.autoping_timeout=5e3,e.autoping_size?r.assert(4<=e.autoping_size&&e.autoping_size<=125,"options.autoping_size must be between 4 and 125"):e.autoping_size=4,this._options=e}e.prototype.type="websocket",e.prototype.create=function(){var u=this,c={protocol:void 0,serializer:void 0,send:void 0,close:void 0,onmessage:function(){},onopen:function(){},onclose:function(){}};return c.info={type:"websocket",url:u._options.url,protocol:null},t.process&&t.process.versions.node&&!t.process.versions.hasOwnProperty("electron")?function(){var n,t,i,o,e=f("ws"),s=f("randombytes"),r={agent:u._options.agent,headers:u._options.headers};function a(){o=new Date}u._options.protocols&&(t=u._options.protocols,Array.isArray(t)&&(t=t.join(",")),r.protocol=t),u._options.url.startsWith("wss://")&&(r.ca=u._options.tlsConfiguration.ca,r.cert=u._options.tlsConfiguration.cert,r.key=u._options.tlsConfiguration.key,r.rejectUnauthorized=!1),n=new e(u._options.url,t,r),c.send=function(t){var e=c.serializer.serialize(t);n.send(e,{binary:c.serializer.BINARY})},c.close=function(t,e){n.close()},n.on("open",function(){a();var t=n.protocol.split(".")[2];for(var e in u._options.serializers){var r=u._options.serializers[e];if(r.SERIALIZER_ID==t){c.serializer=r;break}}c.info.protocol=n.protocol,n.isAlive=!0,i=setInterval(function(){if(!1===n.isAlive)return clearInterval(i),n.terminate();new Date-o<u._options.autoping_interval||(n.isAlive=!1,n.ping(s(u._options.autoping_size)))},u._options.autoping_interval),c.onopen()}),n.on("pong",function(){a(),this.isAlive=!0}),n.on("message",function(t,e){a();var r=c.serializer.unserialize(t);c.onmessage(r)}),n.on("close",function(t,e){null!=i&&clearInterval(i);var r={code:t,reason:e,wasClean:1e3===t};c.onclose(r)}),n.on("error",function(t){null!=i&&clearInterval(i);c.onclose({code:1006,reason:"",wasClean:!1})})}():function(){var n;if("WebSocket"in t)(n=u._options.protocols?new t.WebSocket(u._options.url,u._options.protocols):new t.WebSocket(u._options.url)).binaryType="arraybuffer";else{if(!("MozWebSocket"in t))throw"browser does not support WebSocket or WebSocket in Web workers";n=u._options.protocols?new t.MozWebSocket(u._options.url,u._options.protocols):new t.MozWebSocket(u._options.url)}n.onmessage=function(t){i.debug("WebSocket transport receive",t.data);var e=c.serializer.unserialize(t.data);c.onmessage(e)},n.onopen=function(){var t=n.protocol.split(".")[2];for(var e in u._options.serializers){var r=u._options.serializers[e];if(r.SERIALIZER_ID==t){c.serializer=r;break}}c.info.protocol=n.protocol,c.onopen()},n.onclose=function(t){var e={code:t.code,reason:t.message,wasClean:t.wasClean};c.onclose(e)},c.send=function(t){var e=c.serializer.serialize(t);i.debug("WebSocket transport send",e),n.send(e)},c.close=function(t,e){n.close(t,e)}}(),c},o.Factory=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../log.js":12,"../serializer.js":21,"../util.js":26,randombytes:30,ws:30}],26:[function(t,e,i){(function(r){var o=t("./log.js"),s=t("when");i.atob=function(t){return t?new Uint8Array(atob(t).split("").map(function(t){return t.charCodeAt(0)})):null},i.btoa=function(t){return t?btoa(String.fromCharCode.apply(null,t)):null},i.btoh=function(t){if(t){for(var e="",r=0;r<t.length;++r)e+=("0"+(255&t[r]).toString(16)).slice(-2);return e}return null},i.htob=function(t){if(t){if("string"!=typeof t)throw new TypeError("Expected input to be a string");if(t.length%2!=0)throw new RangeError("Expected string to be an even number of characters");for(var e=new Uint8Array(t.length/2),r=0;r<t.length;r+=2)e[r/2]=parseInt(t.substring(r,r+2),16);return e}return null};var n=function(t,e){if(!t)throw n.useDebugger||"AUTOBAHN_DEBUG"in r&&AUTOBAHN_DEBUG,new Error(e||"Assertion failed!")},a=function(){if(0===arguments.length)return{};var r=arguments[0],n=!1,t=arguments.length;"boolean"==typeof arguments[t-1]&&(n=arguments[t-1],t-=1);for(var e=function(t){var e=o[t];t in r?n&&"object"==typeof e&&"object"==typeof r[t]&&a(r[t],e):r[t]=e},i=1;i<t;i++){var o=arguments[i];if(o){if("object"!=typeof o)throw new Error("Expected argument at index "+i+" to be an object");Object.keys(o).forEach(e)}}return r};i.handle_error=function(t,e,r){"function"==typeof t?t(e,r):console.error(r||"Unhandled exception raised: ",e)},i.rand_normal=function(t,e){for(var r,n,i;1<=(i=(r=2*Math.random()-1)*r+(n=2*Math.random()-1)*n)||0==i;);return(t||0)+r*Math.sqrt(-2*Math.log(i)/i)*(e||1)},i.assert=n,i.http_post=function(t,e,r){o.debug("new http_post request",t,e,r);var n=s.defer(),i=new XMLHttpRequest;return i.withCredentials=!0,i.onreadystatechange=function(){if(4===i.readyState){var t=1223===i.status?204:i.status;if(200===t&&n.resolve(i.responseText),204===t)n.resolve();else{var e=null;try{e=i.statusText}catch(t){}n.reject({code:t,text:e})}}},i.open("POST",t,!0),i.setRequestHeader("Content-type","application/json; charset=utf-8"),0<r&&(i.timeout=r,i.ontimeout=function(){n.reject({code:501,text:"request timeout"})}),e?i.send(e):i.send(),n.promise.then?n.promise:n},i.defaults=a,i.new_global_id=function(){return Math.floor(9007199254740992*Math.random())+1}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./log.js":12,when:135}],27:[function(t,e,r){e.exports={_from:"autobahn@*",_id:"autobahn@18.10.2",_inBundle:!1,_integrity:"sha512-IjQZqzGvwBDQct/sGjPO1TZ5OONSOLP/+e3P97kMzvO17bomf1fIzge0DbdO+dxvmUSP2B/IZVFaGXD+n+xA6A==",_location:"/autobahn",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"autobahn@*",name:"autobahn",escapedName:"autobahn",rawSpec:"*",saveSpec:null,fetchSpec:"*"},_requiredBy:["/kognijs-rsb"],_resolved:"https://registry.npmjs.org/autobahn/-/autobahn-18.10.2.tgz",_shasum:"60b79bf7bd0a5e97c2b8701c52058ea76d6ce86e",_spec:"autobahn@*",_where:"/Users/alneuman/kognihome/kognijs/node_modules/kognijs-rsb",author:{name:"Crossbar.io Technologies GmbH"},browser:{ws:!1,"lib/transport/rawsocket.js":!1,cbor:!1,randombytes:!1},bugs:{url:"https://github.com/crossbario/autobahn-js/issues"},bundleDependencies:!1,dependencies:{bufferutil:">= 1.2.1",cbor:">= 3.0.0","crypto-js":">=3.1.8",msgpack5:">= 3.6.0",randombytes:">=2.0.6",tweetnacl:">= 0.14.3","utf-8-validate":">= 1.2.1",when:">= 3.7.7",ws:">= 1.1.4"},deprecated:!1,description:"An implementation of The Web Application Messaging Protocol (WAMP).",devDependencies:{browserify:">= 13.1.1","deep-equal":">= 1.0.1","google-closure-compiler":"^20170218.0.0",nodeunit:">= 0.10.2"},engines:{node:">= 4.2.6"},homepage:"https://github.com/crossbario/autobahn-js#readme",keywords:["WAMP","WebSocket","RPC","PubSub"],license:"MIT",main:"index.js",name:"autobahn",optionalDependencies:{bufferutil:">= 1.2.1","utf-8-validate":">= 1.2.1"},repository:{type:"git",url:"git://github.com/crossbario/autobahn-js.git"},scripts:{test:"nodeunit test/test.js"},version:"18.10.2"}},{}],28:[function(t,e,r){"use strict";r.byteLength=function(t){var e=p(t),r=e[0],n=e[1];return 3*(r+n)/4-n},r.toByteArray=function(t){for(var e,r=p(t),n=r[0],i=r[1],o=new h((c=n,f=i,3*(c+f)/4-f)),s=0,a=0<i?n-4:n,u=0;u<a;u+=4)e=l[t.charCodeAt(u)]<<18|l[t.charCodeAt(u+1)]<<12|l[t.charCodeAt(u+2)]<<6|l[t.charCodeAt(u+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=255&e;var c,f;2===i&&(e=l[t.charCodeAt(u)]<<2|l[t.charCodeAt(u+1)]>>4,o[s++]=255&e);1===i&&(e=l[t.charCodeAt(u)]<<10|l[t.charCodeAt(u+1)]<<4|l[t.charCodeAt(u+2)]>>2,o[s++]=e>>8&255,o[s++]=255&e);return o},r.fromByteArray=function(t){for(var e,r=t.length,n=r%3,i=[],o=0,s=r-n;o<s;o+=16383)i.push(u(t,o,s<o+16383?s:o+16383));1===n?(e=t[r-1],i.push(a[e>>2]+a[e<<4&63]+"==")):2===n&&(e=(t[r-2]<<8)+t[r-1],i.push(a[e>>10]+a[e>>4&63]+a[e<<2&63]+"="));return i.join("")};for(var a=[],l=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)a[i]=n[i],l[n.charCodeAt(i)]=i;function p(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function u(t,e,r){for(var n,i,o=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(a[(i=n)>>18&63]+a[i>>12&63]+a[i>>6&63]+a[63&i]);return o.join("")}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},{}],29:[function(t,e,r){"use strict";var n=t("readable-stream").Duplex,i=t("util"),h=t("safe-buffer").Buffer;function c(t){if(!(this instanceof c))return new c(t);if(this._bufs=[],this.length=0,"function"==typeof t){this._callback=t;var e=function(t){this._callback&&(this._callback(t),this._callback=null)}.bind(this);this.on("pipe",function(t){t.on("error",e)}),this.on("unpipe",function(t){t.removeListener("error",e)})}else this.append(t);n.call(this)}i.inherits(c,n),c.prototype._offset=function(t){var e,r=0,n=0;if(0===t)return[0,0];for(;n<this._bufs.length;n++){if(t<(e=r+this._bufs[n].length)||n==this._bufs.length-1)return[n,t-r];r=e}},c.prototype._reverseOffset=function(t){for(var e=t[0],r=t[1],n=0;n<e;n++)r+=this._bufs[n].length;return r},c.prototype.append=function(t){var e=0;if(h.isBuffer(t))this._appendBuffer(t);else if(Array.isArray(t))for(;e<t.length;e++)this.append(t[e]);else if(t instanceof c)for(;e<t._bufs.length;e++)this.append(t._bufs[e]);else null!=t&&("number"==typeof t&&(t=t.toString()),this._appendBuffer(h.from(t)));return this},c.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length},c.prototype._write=function(t,e,r){this._appendBuffer(t),"function"==typeof r&&r()},c.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)},c.prototype.end=function(t){n.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},c.prototype.get=function(t){if(!(t>this.length||t<0)){var e=this._offset(t);return this._bufs[e[0]][e[1]]}},c.prototype.slice=function(t,e){return"number"==typeof t&&t<0&&(t+=this.length),"number"==typeof e&&e<0&&(e+=this.length),this.copy(null,0,t,e)},c.prototype.copy=function(t,e,r,n){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof n||n>this.length)&&(n=this.length),r>=this.length)return t||h.alloc(0);if(n<=0)return t||h.alloc(0);var i,o,s=!!t,a=this._offset(r),u=n-r,c=u,f=s&&e||0,l=a[1];if(0===r&&n==this.length){if(!s)return 1===this._bufs.length?this._bufs[0]:h.concat(this._bufs,this.length);for(o=0;o<this._bufs.length;o++)this._bufs[o].copy(t,f),f+=this._bufs[o].length;return t}if(c<=this._bufs[a[0]].length-l)return s?this._bufs[a[0]].copy(t,e,l,l+c):this._bufs[a[0]].slice(l,l+c);for(s||(t=h.allocUnsafe(u)),o=a[0];o<this._bufs.length;o++){if(!((i=this._bufs[o].length-l)<c)){this._bufs[o].copy(t,f,l,l+c);break}this._bufs[o].copy(t,f,l),f+=i,c-=i,l&&(l=0)}return t},c.prototype.shallowSlice=function(t,e){t=t||0,e=e||this.length,t<0&&(t+=this.length),e<0&&(e+=this.length);var r=this._offset(t),n=this._offset(e),i=this._bufs.slice(r[0],n[0]+1);return 0==n[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),0!=r[1]&&(i[0]=i[0].slice(r[1])),new c(i)},c.prototype.toString=function(t,e,r){return this.slice(e,r).toString(t)},c.prototype.consume=function(t){for(;this._bufs.length;){if(!(t>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},c.prototype.duplicate=function(){for(var t=0,e=new c;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},c.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},c.prototype.indexOf=function(t,e,r){if(void 0===r&&"string"==typeof e&&(r=e,e=void 0),"function"==typeof t||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof t?t=h.from([t]):"string"==typeof t?t=h.from(t,r):t instanceof c?t=t.slice():h.isBuffer(t)||(t=h.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),0===t.length)return e>this.length?this.length:e;for(var n=this._offset(e),i=n[0],o=n[1];i<this._bufs.length;i++){for(var s=this._bufs[i];o<s.length;){if(s.length-o>=t.length){var a=s.indexOf(t,o);if(-1!==a)return this._reverseOffset([i,a]);o=s.length-t.length+1}else{var u=this._reverseOffset([i,o]);if(this._match(u,t))return u;o++}}o=0}return-1},c.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(var r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0},function(){var e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(var t in e)!function(r){c.prototype[r]=null===e[r]?function(t,e){return this.slice(t,t+e)[r](0,e)}:function(t){return this.slice(t,t+e[r])[r](0)}}(t)}(),e.exports=c},{"readable-stream":97,"safe-buffer":100,util:110}],30:[function(t,e,r){},{}],31:[function(t,e,r){arguments[4][30][0].apply(r,arguments)},{dup:30}],32:[function(t,e,r){"use strict";var n=t("base64-js"),o=t("ieee754");r.Buffer=l,r.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},r.INSPECT_MAX_BYTES=50;var i=2147483647;function s(t){if(i<t)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return e.__proto__=l.prototype,e}function l(t,e,r){if("number"!=typeof t)return a(t,e,r);if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return c(t)}function a(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!l.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|p(t,e),n=s(r),i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e);if(ArrayBuffer.isView(t))return f(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(R(t,ArrayBuffer)||t&&R(t.buffer,ArrayBuffer))return function(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r);return n.__proto__=l.prototype,n}(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return l.from(n,e,r);var i=function(t){if(l.isBuffer(t)){var e=0|h(t.length),r=s(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||M(t.length)?s(0):f(t);if("Buffer"===t.type&&Array.isArray(t.data))return f(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return l.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function c(t){return u(t),s(t<0?0:0|h(t))}function f(t){for(var e=t.length<0?0:0|h(t.length),r=s(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function h(t){if(i<=t)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|t}function p(t,e){if(l.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||R(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=2<arguments.length&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return L(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return j(t).length;default:if(i)return n?-1:L(t).length;e=(""+e).toLowerCase(),i=!0}}function d(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function g(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),M(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=l.from(e,n)),l.isBuffer(e))return 0===e.length?-1:y(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):y(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,r,n,i){var o,s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a/=s=2,u/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var f=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*s}else-1!==f&&(o-=o-f),f=-1}else for(a<r+u&&(r=a-u),o=r;0<=o;o--){for(var l=!0,h=0;h<u;h++)if(c(t,o+h)!==c(e,h)){l=!1;break}if(l)return o}return-1}function v(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?i<(n=Number(n))&&(n=i):n=i;var o=e.length;o/2<n&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(M(a))return s;t[r+s]=a}return s}function m(t,e,r,n){return N(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function b(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function w(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,u,c=t[i],f=null,l=239<c?4:223<c?3:191<c?2:1;if(i+l<=r)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=t[i+1]))&&127<(u=(31&c)<<6|63&o)&&(f=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&2047<(u=(15&c)<<12|(63&o)<<6|63&s)&&(u<55296||57343<u)&&(f=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&65535<(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)&&u<1114112&&(f=u)}null===f?(f=65533,l=1):65535<f&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=l}return function(t){var e=t.length;if(e<=_)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=_));return r}(n)}r.kMaxLength=i,(l.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),l.poolSize=8192,l.from=function(t,e,r){return a(t,e,r)},l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,l.alloc=function(t,e,r){return i=e,o=r,u(n=t),n<=0?s(n):void 0!==i?"string"==typeof o?s(n).fill(i,o):s(n).fill(i):s(n);var n,i,o},l.allocUnsafe=function(t){return c(t)},l.allocUnsafeSlow=function(t){return c(t)},l.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==l.prototype},l.compare=function(t,e){if(R(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),R(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var r;if(void 0===e)for(r=e=0;r<t.length;++r)e+=t[r].length;var n=l.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(R(o,Uint8Array)&&(o=l.from(o)),!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)d(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)d(this,e,e+3),d(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)d(this,e,e+7),d(this,e+1,e+6),d(this,e+2,e+5),d(this,e+3,e+4);return this},l.prototype.toLocaleString=l.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?w(this,0,t):function(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,r);case"utf8":case"utf-8":return w(this,e,r);case"ascii":return E(this,e,r);case"latin1":case"binary":return x(this,e,r);case"base64":return b(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",e=r.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},l.prototype.compare=function(t,e,r,n,i){if(R(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(i<=n&&r<=e)return 0;if(i<=n)return-1;if(r<=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s),u=this.slice(n,i),c=t.slice(e,r),f=0;f<a;++f)if(u[f]!==c[f]){o=u[f],s=c[f];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},l.prototype.indexOf=function(t,e,r){return g(this,t,e,r,!0)},l.prototype.lastIndexOf=function(t,e,r){return g(this,t,e,r,!1)},l.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||i<r)&&(r=i),0<t.length&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o,s,a,u,c,f,l,h,p,d=!1;;)switch(n){case"hex":return v(this,t,e,r);case"utf8":case"utf-8":return h=e,p=r,N(L(t,(l=this).length-h),l,h,p);case"ascii":return m(this,t,e,r);case"latin1":case"binary":return m(this,t,e,r);case"base64":return u=this,c=e,f=r,N(j(t),u,c,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s=e,a=r,N(function(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,(o=this).length-s),o,s,a);default:if(d)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),d=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _=4096;function E(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function x(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function T(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||n<r)&&(r=n);for(var i="",o=e;o<r;++o)i+=P(t[o]);return i}function S(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function A(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(r<t+e)throw new RangeError("Trying to access beyond buffer length")}function I(t,e,r,n,i,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<e||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function k(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function C(t,e,r,n,i){return e=+e,r>>>=0,i||k(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function O(t,e,r,n,i){return e=+e,r>>>=0,i||k(t,0,r,8),o.write(t,e,r,n,52,8),r+8}l.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return n.__proto__=l.prototype,n},l.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||A(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},l.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||A(t,e,this.length);for(var n=this[t+--e],i=1;0<e&&(i*=256);)n+=this[t+--e]*i;return n},l.prototype.readUInt8=function(t,e){return t>>>=0,e||A(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return t>>>=0,e||A(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return t>>>=0,e||A(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return t>>>=0,e||A(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return t>>>=0,e||A(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||A(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return(i*=128)<=n&&(n-=Math.pow(2,8*e)),n},l.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||A(t,e,this.length);for(var n=e,i=1,o=this[t+--n];0<n&&(i*=256);)o+=this[t+--n]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return t>>>=0,e||A(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){t>>>=0,e||A(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(t,e){t>>>=0,e||A(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(t,e){return t>>>=0,e||A(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return t>>>=0,e||A(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return t>>>=0,e||A(t,4,this.length),o.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return t>>>=0,e||A(t,4,this.length),o.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return t>>>=0,e||A(t,8,this.length),o.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return t>>>=0,e||A(t,8,this.length),o.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||I(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},l.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||I(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;0<=--i&&(o*=256);)this[e+i]=t/o&255;return e+r},l.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,1,255,0),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},l.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);I(this,t,e,r,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},l.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);I(this,t,e,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;0<=--o&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},l.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},l.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeFloatLE=function(t,e,r){return C(this,t,e,!0,r)},l.prototype.writeFloatBE=function(t,e,r){return C(this,t,e,!1,r)},l.prototype.writeDoubleLE=function(t,e,r){return O(this,t,e,!0,r)},l.prototype.writeDoubleBE=function(t,e,r){return O(this,t,e,!1,r)},l.prototype.copy=function(t,e,r,n){if(!l.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),0<n&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,r,n);else if(this===t&&r<e&&e<n)for(var o=i-1;0<=o;--o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,n),e);return i},l.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var i=t.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(t=i)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=l.isBuffer(t)?t:l.from(t,n),a=s.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=s[o%a]}return this};var B=/[^+/0-9A-Za-z-_]/g;function P(t){return t<16?"0"+t.toString(16):t.toString(16)}function L(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if(55295<(r=t.charCodeAt(s))&&r<57344){if(!i){if(56319<r){-1<(e-=3)&&o.push(239,191,189);continue}if(s+1===n){-1<(e-=3)&&o.push(239,191,189);continue}i=r;continue}if(r<56320){-1<(e-=3)&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&-1<(e-=3)&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function j(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(B,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function N(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function R(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function M(t){return t!=t}},{"base64-js":28,ieee754:71}],33:[function(e,t,r){var n,i;n=this,i=function(u){"use strict";var d=function(t,e,r){if(void 0===t&&(t=d.DEFAULT_CAPACITY),void 0===e&&(e=d.DEFAULT_ENDIAN),void 0===r&&(r=d.DEFAULT_NOASSERT),!r){if((t|=0)<0)throw RangeError("Illegal capacity");e=!!e,r=!!r}this.buffer=0===t?o:new ArrayBuffer(t),this.view=0===t?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=t,this.littleEndian=e,this.noAssert=r};d.VERSION="5.0.1",d.LITTLE_ENDIAN=!0,d.BIG_ENDIAN=!1,d.DEFAULT_CAPACITY=16,d.DEFAULT_ENDIAN=d.BIG_ENDIAN,d.DEFAULT_NOASSERT=!1,d.Long=u||null;var s=d.prototype;s.__isByteBuffer__,Object.defineProperty(s,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var o=new ArrayBuffer(0),r=String.fromCharCode;function a(t){var e=0;return function(){return e<t.length?t.charCodeAt(e++):null}}function c(){var t=[],e=[];return function(){if(0===arguments.length)return e.join("")+r.apply(String,t);1024<t.length+arguments.length&&(e.push(r.apply(String,t)),t.length=0),Array.prototype.push.apply(t,arguments)}}function n(t,e,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,f=-7,l=r?i-1:0,h=r?-1:1,p=t[e+l];for(l+=h,o=p&(1<<-f)-1,p>>=-f,f+=a;0<f;o=256*o+t[e+l],l+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;0<f;s=256*s+t[e+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=c}return(p?-1:1)*s*Math.pow(2,o-n)}function i(t,e,r,n,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),2<=(e+=1<=s+l?h/u:h*Math.pow(2,1-l))*u&&(s++,u/=2),f<=s+l?(a=0,s=f):1<=s+l?(a=(e*u-1)*Math.pow(2,i),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));8<=i;t[r+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;0<c;t[r+p]=255&s,p+=d,s/=256,c-=8);t[r+p-d]|=128*g}d.accessor=function(){return Uint8Array},d.allocate=function(t,e,r){return new d(t,e,r)},d.concat=function(t,e,r,n){"boolean"!=typeof e&&"string"==typeof e||(n=r,r=e,e=void 0);for(var i,o=0,s=0,a=t.length;s<a;++s)d.isByteBuffer(t[s])||(t[s]=d.wrap(t[s],e)),0<(i=t[s].limit-t[s].offset)&&(o+=i);if(0===o)return new d(0,r,n);var u,c=new d(o,r,n);for(s=0;s<a;)(i=(u=t[s++]).limit-u.offset)<=0||(c.view.set(u.view.subarray(u.offset,u.limit),c.offset),c.offset+=i);return c.limit=c.offset,c.offset=0,c},d.isByteBuffer=function(t){return!0===(t&&t.__isByteBuffer__)},d.type=function(){return ArrayBuffer},d.wrap=function(t,e,r,n){if("string"!=typeof e&&(n=r,r=e,e=void 0),"string"==typeof t)switch(void 0===e&&(e="utf8"),e){case"base64":return d.fromBase64(t,r);case"hex":return d.fromHex(t,r);case"binary":return d.fromBinary(t,r);case"utf8":return d.fromUTF8(t,r);case"debug":return d.fromDebug(t,r);default:throw Error("Unsupported encoding: "+e)}if(null===t||"object"!=typeof t)throw TypeError("Illegal buffer");var i;if(d.isByteBuffer(t))return(i=s.clone.call(t)).markedOffset=-1,i;if(t instanceof Uint8Array)i=new d(0,r,n),0<t.length&&(i.buffer=t.buffer,i.offset=t.byteOffset,i.limit=t.byteOffset+t.byteLength,i.view=new Uint8Array(t.buffer));else if(t instanceof ArrayBuffer)i=new d(0,r,n),0<t.byteLength&&(i.buffer=t,i.offset=0,i.limit=t.byteLength,i.view=0<t.byteLength?new Uint8Array(t):null);else{if("[object Array]"!==Object.prototype.toString.call(t))throw TypeError("Illegal buffer");(i=new d(t.length,r,n)).limit=t.length;for(var o=0;o<t.length;++o)i.view[o]=t[o]}return i},s.writeBitSet=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if(!(t instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var n,i=e,o=t.length,s=o>>3,a=0;for(e+=this.writeVarint32(o,e);s--;)n=1&!!t[a++]|(1&!!t[a++])<<1|(1&!!t[a++])<<2|(1&!!t[a++])<<3|(1&!!t[a++])<<4|(1&!!t[a++])<<5|(1&!!t[a++])<<6|(1&!!t[a++])<<7,this.writeByte(n,e++);if(a<o){var u=0;for(n=0;a<o;)n|=(1&!!t[a++])<<u++;this.writeByte(n,e++)}return r?(this.offset=e,this):e-i},s.readBitSet=function(t){var e=void 0===t;e&&(t=this.offset);var r,n=this.readVarint32(t),i=n.value,o=i>>3,s=0,a=[];for(t+=n.length;o--;)r=this.readByte(t++),a[s++]=!!(1&r),a[s++]=!!(2&r),a[s++]=!!(4&r),a[s++]=!!(8&r),a[s++]=!!(16&r),a[s++]=!!(32&r),a[s++]=!!(64&r),a[s++]=!!(128&r);if(s<i){var u=0;for(r=this.readByte(t++);s<i;)a[s++]=!!(r>>u++&1)}return e&&(this.offset=t),a},s.readBytes=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+t+") <= "+this.buffer.byteLength)}var n=this.slice(e,e+t);return r&&(this.offset+=t),n},s.writeBytes=s.append,s.writeInt8=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;var n=this.buffer.byteLength;return n<e&&this.resize((n*=2)>e?n:e),e-=1,this.view[e]=t,r&&(this.offset+=1),this},s.writeByte=s.writeInt8,s.readInt8=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=this.view[t];return 128==(128&r)&&(r=-(255-r+1)),e&&(this.offset+=1),r},s.readByte=s.readInt8,s.writeUint8=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;var n=this.buffer.byteLength;return n<e&&this.resize((n*=2)>e?n:e),e-=1,this.view[e]=t,r&&(this.offset+=1),this},s.writeUInt8=s.writeUint8,s.readUint8=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=this.view[t];return e&&(this.offset+=1),r},s.readUInt8=s.readUint8,s.writeInt16=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;var n=this.buffer.byteLength;return n<e&&this.resize((n*=2)>e?n:e),e-=2,this.littleEndian?(this.view[e+1]=(65280&t)>>>8,this.view[e]=255&t):(this.view[e]=(65280&t)>>>8,this.view[e+1]=255&t),r&&(this.offset+=2),this},s.writeShort=s.writeInt16,s.readInt16=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[t],r|=this.view[t+1]<<8):(r=this.view[t]<<8,r|=this.view[t+1]),32768==(32768&r)&&(r=-(65535-r+1)),e&&(this.offset+=2),r},s.readShort=s.readInt16,s.writeUint16=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;var n=this.buffer.byteLength;return n<e&&this.resize((n*=2)>e?n:e),e-=2,this.littleEndian?(this.view[e+1]=(65280&t)>>>8,this.view[e]=255&t):(this.view[e]=(65280&t)>>>8,this.view[e+1]=255&t),r&&(this.offset+=2),this},s.writeUInt16=s.writeUint16,s.readUint16=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[t],r|=this.view[t+1]<<8):(r=this.view[t]<<8,r|=this.view[t+1]),e&&(this.offset+=2),r},s.readUInt16=s.readUint16,s.writeInt32=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var n=this.buffer.byteLength;return n<e&&this.resize((n*=2)>e?n:e),e-=4,this.littleEndian?(this.view[e+3]=t>>>24&255,this.view[e+2]=t>>>16&255,this.view[e+1]=t>>>8&255,this.view[e]=255&t):(this.view[e]=t>>>24&255,this.view[e+1]=t>>>16&255,this.view[e+2]=t>>>8&255,this.view[e+3]=255&t),r&&(this.offset+=4),this},s.writeInt=s.writeInt32,s.readInt32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0):(r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0),r|=0,e&&(this.offset+=4),r},s.readInt=s.readInt32,s.writeUint32=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var n=this.buffer.byteLength;return n<e&&this.resize((n*=2)>e?n:e),e-=4,this.littleEndian?(this.view[e+3]=t>>>24&255,this.view[e+2]=t>>>16&255,this.view[e+1]=t>>>8&255,this.view[e]=255&t):(this.view[e]=t>>>24&255,this.view[e+1]=t>>>16&255,this.view[e+2]=t>>>8&255,this.view[e+3]=255&t),r&&(this.offset+=4),this},s.writeUInt32=s.writeUint32,s.readUint32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0):(r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0),e&&(this.offset+=4),r},s.readUInt32=s.readUint32,u&&(s.writeInt64=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"==typeof t)t=u.fromNumber(t);else if("string"==typeof t)t=u.fromString(t);else if(!(t&&t instanceof u))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=u.fromNumber(t):"string"==typeof t&&(t=u.fromString(t)),e+=8;var n=this.buffer.byteLength;n<e&&this.resize((n*=2)>e?n:e),e-=8;var i=t.low,o=t.high;return this.littleEndian?(this.view[e+3]=i>>>24&255,this.view[e+2]=i>>>16&255,this.view[e+1]=i>>>8&255,this.view[e]=255&i,e+=4,this.view[e+3]=o>>>24&255,this.view[e+2]=o>>>16&255,this.view[e+1]=o>>>8&255,this.view[e]=255&o):(this.view[e]=o>>>24&255,this.view[e+1]=o>>>16&255,this.view[e+2]=o>>>8&255,this.view[e+3]=255&o,e+=4,this.view[e]=i>>>24&255,this.view[e+1]=i>>>16&255,this.view[e+2]=i>>>8&255,this.view[e+3]=255&i),r&&(this.offset+=8),this},s.writeLong=s.writeInt64,s.readInt64=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=0,n=0;this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0,t+=4,n=this.view[t+2]<<16,n|=this.view[t+1]<<8,n|=this.view[t],n+=this.view[t+3]<<24>>>0):(n=this.view[t+1]<<16,n|=this.view[t+2]<<8,n|=this.view[t+3],n+=this.view[t]<<24>>>0,t+=4,r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0);var i=new u(r,n,!1);return e&&(this.offset+=8),i},s.readLong=s.readInt64,s.writeUint64=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"==typeof t)t=u.fromNumber(t);else if("string"==typeof t)t=u.fromString(t);else if(!(t&&t instanceof u))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=u.fromNumber(t):"string"==typeof t&&(t=u.fromString(t)),e+=8;var n=this.buffer.byteLength;n<e&&this.resize((n*=2)>e?n:e),e-=8;var i=t.low,o=t.high;return this.littleEndian?(this.view[e+3]=i>>>24&255,this.view[e+2]=i>>>16&255,this.view[e+1]=i>>>8&255,this.view[e]=255&i,e+=4,this.view[e+3]=o>>>24&255,this.view[e+2]=o>>>16&255,this.view[e+1]=o>>>8&255,this.view[e]=255&o):(this.view[e]=o>>>24&255,this.view[e+1]=o>>>16&255,this.view[e+2]=o>>>8&255,this.view[e+3]=255&o,e+=4,this.view[e]=i>>>24&255,this.view[e+1]=i>>>16&255,this.view[e+2]=i>>>8&255,this.view[e+3]=255&i),r&&(this.offset+=8),this},s.writeUInt64=s.writeUint64,s.readUint64=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=0,n=0;this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0,t+=4,n=this.view[t+2]<<16,n|=this.view[t+1]<<8,n|=this.view[t],n+=this.view[t+3]<<24>>>0):(n=this.view[t+1]<<16,n|=this.view[t+2]<<8,n|=this.view[t+3],n+=this.view[t]<<24>>>0,t+=4,r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0);var i=new u(r,n,!0);return e&&(this.offset+=8),i},s.readUInt64=s.readUint64),s.writeFloat32=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var n=this.buffer.byteLength;return n<e&&this.resize((n*=2)>e?n:e),e-=4,i(this.view,t,e,this.littleEndian,23,4),r&&(this.offset+=4),this},s.writeFloat=s.writeFloat32,s.readFloat32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=n(this.view,t,this.littleEndian,23,4);return e&&(this.offset+=4),r},s.readFloat=s.readFloat32,s.writeFloat64=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=8;var n=this.buffer.byteLength;return n<e&&this.resize((n*=2)>e?n:e),e-=8,i(this.view,t,e,this.littleEndian,52,8),r&&(this.offset+=8),this},s.writeDouble=s.writeFloat64,s.readFloat64=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=n(this.view,t,this.littleEndian,52,8);return e&&(this.offset+=8),r},s.readDouble=s.readFloat64,d.MAX_VARINT32_BYTES=5,d.calculateVarint32=function(t){return(t>>>=0)<128?1:t<16384?2:t<1<<21?3:t<1<<28?4:5},d.zigZagEncode32=function(t){return((t|=0)<<1^t>>31)>>>0},d.zigZagDecode32=function(t){return t>>>1^-(1&t)|0},s.writeVarint32=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var n,i=d.calculateVarint32(t);e+=i;var o=this.buffer.byteLength;for(o<e&&this.resize((o*=2)>e?o:e),e-=i,t>>>=0;128<=t;)n=127&t|128,this.view[e++]=n,t>>>=7;return this.view[e++]=t,r?(this.offset=e,this):i},s.writeVarint32ZigZag=function(t,e){return this.writeVarint32(d.zigZagEncode32(t),e)},s.readVarint32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r,n=0,i=0;do{if(!this.noAssert&&t>this.limit){var o=Error("Truncated");throw o.truncated=!0,o}r=this.view[t++],n<5&&(i|=(127&r)<<7*n),++n}while(0!=(128&r));return i|=0,e?(this.offset=t,i):{value:i,length:n}},s.readVarint32ZigZag=function(t){var e=this.readVarint32(t);return"object"==typeof e?e.value=d.zigZagDecode32(e.value):e=d.zigZagDecode32(e),e},u&&(d.MAX_VARINT64_BYTES=10,d.calculateVarint64=function(t){"number"==typeof t?t=u.fromNumber(t):"string"==typeof t&&(t=u.fromString(t));var e=t.toInt()>>>0,r=t.shiftRightUnsigned(28).toInt()>>>0,n=t.shiftRightUnsigned(56).toInt()>>>0;return 0==n?0==r?e<16384?e<128?1:2:e<1<<21?3:4:r<16384?r<128?5:6:r<1<<21?7:8:n<128?9:10},d.zigZagEncode64=function(t){return"number"==typeof t?t=u.fromNumber(t,!1):"string"==typeof t?t=u.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()},d.zigZagDecode64=function(t){return"number"==typeof t?t=u.fromNumber(t,!1):"string"==typeof t?t=u.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftRightUnsigned(1).xor(t.and(u.ONE).toSigned().negate()).toSigned()},s.writeVarint64=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"==typeof t)t=u.fromNumber(t);else if("string"==typeof t)t=u.fromString(t);else if(!(t&&t instanceof u))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=u.fromNumber(t,!1):"string"==typeof t?t=u.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned());var n=d.calculateVarint64(t),i=t.toInt()>>>0,o=t.shiftRightUnsigned(28).toInt()>>>0,s=t.shiftRightUnsigned(56).toInt()>>>0;e+=n;var a=this.buffer.byteLength;switch(a<e&&this.resize((a*=2)>e?a:e),e-=n,n){case 10:this.view[e+9]=s>>>7&1;case 9:this.view[e+8]=9!==n?128|s:127&s;case 8:this.view[e+7]=8!==n?o>>>21|128:o>>>21&127;case 7:this.view[e+6]=7!==n?o>>>14|128:o>>>14&127;case 6:this.view[e+5]=6!==n?o>>>7|128:o>>>7&127;case 5:this.view[e+4]=5!==n?128|o:127&o;case 4:this.view[e+3]=4!==n?i>>>21|128:i>>>21&127;case 3:this.view[e+2]=3!==n?i>>>14|128:i>>>14&127;case 2:this.view[e+1]=2!==n?i>>>7|128:i>>>7&127;case 1:this.view[e]=1!==n?128|i:127&i}return r?(this.offset+=n,this):n},s.writeVarint64ZigZag=function(t,e){return this.writeVarint64(d.zigZagEncode64(t),e)},s.readVarint64=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=t,n=0,i=0,o=0,s=0;if(n=127&(s=this.view[t++]),128&s&&(n|=(127&(s=this.view[t++]))<<7,(128&s||this.noAssert&&void 0===s)&&(n|=(127&(s=this.view[t++]))<<14,(128&s||this.noAssert&&void 0===s)&&(n|=(127&(s=this.view[t++]))<<21,(128&s||this.noAssert&&void 0===s)&&(i=127&(s=this.view[t++]),(128&s||this.noAssert&&void 0===s)&&(i|=(127&(s=this.view[t++]))<<7,(128&s||this.noAssert&&void 0===s)&&(i|=(127&(s=this.view[t++]))<<14,(128&s||this.noAssert&&void 0===s)&&(i|=(127&(s=this.view[t++]))<<21,(128&s||this.noAssert&&void 0===s)&&(o=127&(s=this.view[t++]),(128&s||this.noAssert&&void 0===s)&&(o|=(127&(s=this.view[t++]))<<7,128&s||this.noAssert&&void 0===s))))))))))throw Error("Buffer overrun");var a=u.fromBits(n|i<<28,i>>>4|o<<24,!1);return e?(this.offset=t,a):{value:a,length:t-r}},s.readVarint64ZigZag=function(t){var e=this.readVarint64(t);return e&&e.value instanceof u?e.value=d.zigZagDecode64(e.value):e=d.zigZagDecode64(e),e}),s.writeCString=function(t,e){var r=void 0===e;r&&(e=this.offset);var n,i=t.length;if(!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");for(n=0;n<i;++n)if(0===t.charCodeAt(n))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}i=h.calculateUTF16asUTF8(a(t))[1],e+=i+1;var o=this.buffer.byteLength;return o<e&&this.resize((o*=2)>e?o:e),e-=i+1,h.encodeUTF16toUTF8(a(t),function(t){this.view[e++]=t}.bind(this)),this.view[e++]=0,r?(this.offset=e,this):i},s.readCString=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r,n=t,i=-1;return h.decodeUTF8toUTF16(function(){if(0===i)return null;if(t>=this.limit)throw RangeError("Illegal range: Truncated data, "+t+" < "+this.limit);return 0===(i=this.view[t++])?null:i}.bind(this),r=c(),!0),e?(this.offset=t,r()):{string:r(),length:t-n}},s.writeIString=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var n,i=e;n=h.calculateUTF16asUTF8(a(t),this.noAssert)[1],e+=4+n;var o=this.buffer.byteLength;if(o<e&&this.resize((o*=2)>e?o:e),e-=4+n,this.littleEndian?(this.view[e+3]=n>>>24&255,this.view[e+2]=n>>>16&255,this.view[e+1]=n>>>8&255,this.view[e]=255&n):(this.view[e]=n>>>24&255,this.view[e+1]=n>>>16&255,this.view[e+2]=n>>>8&255,this.view[e+3]=255&n),e+=4,h.encodeUTF16toUTF8(a(t),function(t){this.view[e++]=t}.bind(this)),e!==i+4+n)throw RangeError("Illegal range: Truncated data, "+e+" == "+(e+4+n));return r?(this.offset=e,this):e-i},s.readIString=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=t,n=this.readUint32(t),i=this.readUTF8String(n,d.METRICS_BYTES,t+=4);return t+=i.length,e?(this.offset=t,i.string):{string:i.string,length:t-r}},d.METRICS_CHARS="c",d.METRICS_BYTES="b",s.writeUTF8String=function(t,e){var r,n=void 0===e;if(n&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var i=e;r=h.calculateUTF16asUTF8(a(t))[1],e+=r;var o=this.buffer.byteLength;return o<e&&this.resize((o*=2)>e?o:e),e-=r,h.encodeUTF16toUTF8(a(t),function(t){this.view[e++]=t}.bind(this)),n?(this.offset=e,this):e-i},s.writeString=s.writeUTF8String,d.calculateUTF8Chars=function(t){return h.calculateUTF16asUTF8(a(t))[0]},d.calculateUTF8Bytes=function(t){return h.calculateUTF16asUTF8(a(t))[1]},d.calculateString=d.calculateUTF8Bytes,s.readUTF8String=function(t,e,r){"number"==typeof e&&(r=e,e=void 0);var n=void 0===r;if(n&&(r=this.offset),void 0===e&&(e=d.METRICS_CHARS),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal length: "+t+" (not an integer)");if(t|=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var i,o=0,s=r;if(e===d.METRICS_CHARS){if(i=c(),h.decodeUTF8(function(){return o<t&&r<this.limit?this.view[r++]:null}.bind(this),function(t){++o,h.UTF8toUTF16(t,i)}),o!==t)throw RangeError("Illegal range: Truncated data, "+o+" == "+t);return n?(this.offset=r,i()):{string:i(),length:r-s}}if(e!==d.METRICS_BYTES)throw TypeError("Unsupported metrics: "+e);if(!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+"+t+") <= "+this.buffer.byteLength)}var a=r+t;if(h.decodeUTF8toUTF16(function(){return r<a?this.view[r++]:null}.bind(this),i=c(),this.noAssert),r!==a)throw RangeError("Illegal range: Truncated data, "+r+" == "+a);return n?(this.offset=r,i()):{string:i(),length:r-s}},s.readString=s.readUTF8String,s.writeVString=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var n,i,o=e;n=h.calculateUTF16asUTF8(a(t),this.noAssert)[1],i=d.calculateVarint32(n),e+=i+n;var s=this.buffer.byteLength;if(s<e&&this.resize((s*=2)>e?s:e),e-=i+n,e+=this.writeVarint32(n,e),h.encodeUTF16toUTF8(a(t),function(t){this.view[e++]=t}.bind(this)),e!==o+n+i)throw RangeError("Illegal range: Truncated data, "+e+" == "+(e+n+i));return r?(this.offset=e,this):e-o},s.readVString=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=t,n=this.readVarint32(t),i=this.readUTF8String(n.value,d.METRICS_BYTES,t+=n.length);return t+=i.length,e?(this.offset=t,i.string):{string:i.string,length:t-r}},s.append=function(t,e,r){"number"!=typeof e&&"string"==typeof e||(r=e,e=void 0);var n=void 0===r;if(n&&(r=this.offset),!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}t instanceof d||(t=d.wrap(t,e));var i=t.limit-t.offset;if(i<=0)return this;r+=i;var o=this.buffer.byteLength;return o<r&&this.resize((o*=2)>r?o:r),r-=i,this.view.set(t.view.subarray(t.offset,t.limit),r),t.offset+=i,n&&(this.offset+=i),this},s.appendTo=function(t,e){return t.append(this,e),this},s.assert=function(t){return this.noAssert=!t,this},s.capacity=function(){return this.buffer.byteLength},s.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},s.clone=function(t){var e=new d(0,this.littleEndian,this.noAssert);return e.view=t?(e.buffer=new ArrayBuffer(this.buffer.byteLength),new Uint8Array(e.buffer)):(e.buffer=this.buffer,this.view),e.offset=this.offset,e.markedOffset=this.markedOffset,e.limit=this.limit,e},s.compact=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||e<t||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(0===t&&e===this.buffer.byteLength)return this;var r=e-t;if(0===r)return this.buffer=o,this.view=null,0<=this.markedOffset&&(this.markedOffset-=t),this.offset=0,this.limit=0,this;var n=new ArrayBuffer(r),i=new Uint8Array(n);return i.set(this.view.subarray(t,e)),this.buffer=n,this.view=i,0<=this.markedOffset&&(this.markedOffset-=t),this.offset=0,this.limit=r,this},s.copy=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||e<t||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(t===e)return new d(0,this.littleEndian,this.noAssert);var r=e-t,n=new d(r,this.littleEndian,this.noAssert);return n.offset=0,n.limit=r,0<=n.markedOffset&&(n.markedOffset-=t),this.copyTo(n,0,t,e),n},s.copyTo=function(t,e,r,n){var i,o;if(!this.noAssert&&!d.isByteBuffer(t))throw TypeError("Illegal target: Not a ByteBuffer");if(e=(o=void 0===e)?t.offset:0|e,r=(i=void 0===r)?this.offset:0|r,n=void 0===n?this.limit:0|n,e<0||e>t.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+e+" <= "+t.buffer.byteLength);if(r<0||n>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+r+" <= "+this.buffer.byteLength);var s=n-r;return 0===s?t:(t.ensureCapacity(e+s),t.view.set(this.view.subarray(r,n),e),i&&(this.offset+=s),o&&(t.offset+=s),this)},s.ensureCapacity=function(t){var e=this.buffer.byteLength;return e<t?this.resize((e*=2)>t?e:t):this},s.fill=function(t,e,r){var n=void 0===e;if(n&&(e=this.offset),"string"==typeof t&&0<t.length&&(t=t.charCodeAt(0)),void 0===e&&(e=this.offset),void 0===r&&(r=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,e<0||r<e||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+r+" <= "+this.buffer.byteLength)}if(r<=e)return this;for(;e<r;)this.view[e++]=t;return n&&(this.offset=e),this},s.flip=function(){return this.limit=this.offset,this.offset=0,this},s.mark=function(t){if(t=void 0===t?this.offset:t,!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=t,this},s.order=function(t){if(!this.noAssert&&"boolean"!=typeof t)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!t,this},s.LE=function(t){return this.littleEndian=void 0===t||!!t,this},s.BE=function(t){return this.littleEndian=void 0!==t&&!t,this},s.prepend=function(t,e,r){"number"!=typeof e&&"string"==typeof e||(r=e,e=void 0);var n=void 0===r;if(n&&(r=this.offset),!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}t instanceof d||(t=d.wrap(t,e));var i=t.limit-t.offset;if(i<=0)return this;var o=i-r;if(0<o){var s=new ArrayBuffer(this.buffer.byteLength+o),a=new Uint8Array(s);a.set(this.view.subarray(r,this.buffer.byteLength),i),this.buffer=s,this.view=a,this.offset+=o,0<=this.markedOffset&&(this.markedOffset+=o),this.limit+=o,r+=o}else new Uint8Array(this.buffer);return this.view.set(t.view.subarray(t.offset,t.limit),r-i),t.offset=t.limit,n&&(this.offset-=i),this},s.prependTo=function(t,e){return t.prepend(this,e),this},s.printDebug=function(t){"function"!=typeof t&&(t=console.log.bind(console)),t(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},s.remaining=function(){return this.limit-this.offset},s.reset=function(){return 0<=this.markedOffset?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},s.resize=function(t){if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal capacity: "+t+" (not an integer)");if((t|=0)<0)throw RangeError("Illegal capacity: 0 <= "+t)}if(this.buffer.byteLength<t){var e=new ArrayBuffer(t),r=new Uint8Array(e);r.set(this.view),this.buffer=e,this.view=r}return this},s.reverse=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||e<t||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}return t===e||Array.prototype.reverse.call(this.view.subarray(t,e)),this},s.skip=function(t){if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal length: "+t+" (not an integer)");t|=0}var e=this.offset+t;if(!this.noAssert&&(e<0||e>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+t+" <= "+this.buffer.byteLength);return this.offset=e,this},s.slice=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||e<t||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}var r=this.clone();return r.offset=t,r.limit=e,r},s.toBuffer=function(t){var e=this.offset,r=this.limit;if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: Not an integer");if(e>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal limit: Not an integer");if(r>>>=0,e<0||r<e||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+r+" <= "+this.buffer.byteLength)}if(!t&&0===e&&r===this.buffer.byteLength)return this.buffer;if(e===r)return o;var n=new ArrayBuffer(r-e);return new Uint8Array(n).set(new Uint8Array(this.buffer).subarray(e,r),0),n},s.toArrayBuffer=s.toBuffer,s.toString=function(t,e,r){if(void 0===t)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof t&&(r=e=t="utf8"),t){case"utf8":return this.toUTF8(e,r);case"base64":return this.toBase64(e,r);case"hex":return this.toHex(e,r);case"binary":return this.toBinary(e,r);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+t)}};var f=function(){for(var t={},i=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],s=[],e=0,r=i.length;e<r;++e)s[i[e]]=e;return t.encode=function(t,e){for(var r,n;null!==(r=t());)e(i[r>>2&63]),n=(3&r)<<4,null!==(r=t())?(e(i[63&((n|=r>>4&15)|r>>4&15)]),n=(15&r)<<2,null!==(r=t())?(e(i[63&(n|r>>6&3)]),e(i[63&r])):(e(i[63&n]),e(61))):(e(i[63&n]),e(61),e(61))},t.decode=function(t,e){var r,n,i;function o(t){throw Error("Illegal character code: "+t)}for(;null!==(r=t());)if(void 0===(n=s[r])&&o(r),null!==(r=t())&&(void 0===(i=s[r])&&o(r),e(n<<2>>>0|(48&i)>>4),null!==(r=t()))){if(void 0===(n=s[r])){if(61===r)break;o(r)}if(e((15&i)<<4>>>0|(60&n)>>2),null!==(r=t())){if(void 0===(i=s[r])){if(61===r)break;o(r)}e((3&n)<<6>>>0|i)}}},t.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)},t}();s.toBase64=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),e|=0,(t|=0)<0||e>this.capacity||e<t)throw RangeError("begin, end");var r;return f.encode(function(){return t<e?this.view[t++]:null}.bind(this),r=c()),r()},d.fromBase64=function(t,e){if("string"!=typeof t)throw TypeError("str");var r=new d(t.length/4*3,e),n=0;return f.decode(a(t),function(t){r.view[n++]=t}),r.limit=n,r},d.btoa=function(t){return d.fromBinary(t).toBase64()},d.atob=function(t){return d.fromBase64(t).toBinary()},s.toBinary=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),e|=0,(t|=0)<0||e>this.capacity()||e<t)throw RangeError("begin, end");if(t===e)return"";for(var r=[],n=[];t<e;)r.push(this.view[t++]),1024<=r.length&&(n.push(String.fromCharCode.apply(String,r)),r=[]);return n.join("")+String.fromCharCode.apply(String,r)},d.fromBinary=function(t,e){if("string"!=typeof t)throw TypeError("str");for(var r,n=0,i=t.length,o=new d(i,e);n<i;){if(255<(r=t.charCodeAt(n)))throw RangeError("illegal char code: "+r);o.view[n++]=r}return o.limit=i,o},s.toDebug=function(t){for(var e,r=-1,n=this.buffer.byteLength,i="",o="",s="";r<n;){if(-1!==r&&(i+=(e=this.view[r])<16?"0"+e.toString(16).toUpperCase():e.toString(16).toUpperCase(),t&&(o+=32<e&&e<127?String.fromCharCode(e):".")),++r,t&&0<r&&r%16==0&&r!==n){for(;i.length<51;)i+=" ";s+=i+o+"\n",i=o=""}r===this.offset&&r===this.limit?i+=r===this.markedOffset?"!":"|":r===this.offset?i+=r===this.markedOffset?"[":"<":r===this.limit?i+=r===this.markedOffset?"]":">":i+=r===this.markedOffset?"'":t||0!==r&&r!==n?" ":""}if(t&&" "!==i){for(;i.length<51;)i+=" ";s+=i+o+"\n"}return t?s:i},d.fromDebug=function(t,e,r){for(var n,i,o=t.length,s=new d((o+1)/3|0,e,r),a=0,u=0,c=!1,f=!1,l=!1,h=!1,p=!1;a<o;){switch(n=t.charAt(a++)){case"!":if(!r){if(f||l||h){p=!0;break}f=l=h=!0}s.offset=s.markedOffset=s.limit=u,c=!1;break;case"|":if(!r){if(f||h){p=!0;break}f=h=!0}s.offset=s.limit=u,c=!1;break;case"[":if(!r){if(f||l){p=!0;break}f=l=!0}s.offset=s.markedOffset=u,c=!1;break;case"<":if(!r){if(f){p=!0;break}f=!0}s.offset=u,c=!1;break;case"]":if(!r){if(h||l){p=!0;break}h=l=!0}s.limit=s.markedOffset=u,c=!1;break;case">":if(!r){if(h){p=!0;break}h=!0}s.limit=u,c=!1;break;case"'":if(!r){if(l){p=!0;break}l=!0}s.markedOffset=u,c=!1;break;case" ":c=!1;break;default:if(!r&&c){p=!0;break}if(i=parseInt(n+t.charAt(a++),16),!r&&(isNaN(i)||i<0||255<i))throw TypeError("Illegal str: Not a debug encoded string");s.view[u++]=i,c=!0}if(p)throw TypeError("Illegal str: Invalid symbol at "+a)}if(!r){if(!f||!h)throw TypeError("Illegal str: Missing offset or limit");if(u<s.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+u+" < "+o)}return s},s.toHex=function(t,e){if(t=void 0===t?this.offset:t,e=void 0===e?this.limit:e,!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||e<t||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}for(var r,n=new Array(e-t);t<e;)(r=this.view[t++])<16?n.push("0",r.toString(16)):n.push(r.toString(16));return n.join("")},d.fromHex=function(t,e,r){if(!r){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if(t.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var n,i=t.length,o=new d(i/2|0,e),s=0,a=0;s<i;s+=2){if(n=parseInt(t.substring(s,s+2),16),!r&&(!isFinite(n)||n<0||255<n))throw TypeError("Illegal str: Contains non-hex characters");o.view[a++]=n}return o.limit=a,o};var l,h=l={MAX_CODEPOINT:1114111,encodeUTF8:function(t,e){var r=null;for("number"==typeof t&&(r=t,t=function(){return null});null!==r||null!==(r=t());)r<128?e(127&r):(r<2048?e(r>>6&31|192):(r<65536?e(r>>12&15|224):(e(r>>18&7|240),e(r>>12&63|128)),e(r>>6&63|128)),e(63&r|128)),r=null},decodeUTF8:function(t,e){for(var r,n,i,o,s=function(t){t=t.slice(0,t.indexOf(null));var e=Error(t.toString());throw e.name="TruncatedError",e.bytes=t,e};null!==(r=t());)if(0==(128&r))e(r);else if(192==(224&r))null===(n=t())&&s([r,n]),e((31&r)<<6|63&n);else if(224==(240&r))(null===(n=t())||null===(i=t()))&&s([r,n,i]),e((15&r)<<12|(63&n)<<6|63&i);else{if(240!=(248&r))throw RangeError("Illegal starting byte: "+r);(null===(n=t())||null===(i=t())||null===(o=t()))&&s([r,n,i,o]),e((7&r)<<18|(63&n)<<12|(63&i)<<6|63&o)}},UTF16toUTF8:function(t,e){for(var r,n=null;null!==(r=null!==n?n:t());)55296<=r&&r<=57343&&null!==(n=t())&&56320<=n&&n<=57343?(e(1024*(r-55296)+n-56320+65536),n=null):e(r);null!==n&&e(n)},UTF8toUTF16:function(t,e){var r=null;for("number"==typeof t&&(r=t,t=function(){return null});null!==r||null!==(r=t());)r<=65535?e(r):(e(55296+((r-=65536)>>10)),e(r%1024+56320)),r=null},encodeUTF16toUTF8:function(t,e){l.UTF16toUTF8(t,function(t){l.encodeUTF8(t,e)})},decodeUTF8toUTF16:function(t,e){l.decodeUTF8(t,function(t){l.UTF8toUTF16(t,e)})},calculateCodePoint:function(t){return t<128?1:t<2048?2:t<65536?3:4},calculateUTF8:function(t){for(var e,r=0;null!==(e=t());)r+=e<128?1:e<2048?2:e<65536?3:4;return r},calculateUTF16asUTF8:function(t){var e=0,r=0;return l.UTF16toUTF8(t,function(t){++e,r+=t<128?1:t<2048?2:t<65536?3:4}),[e,r]}};return s.toUTF8=function(e,r){if(void 0===e&&(e=this.offset),void 0===r&&(r=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,e<0||r<e||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+r+" <= "+this.buffer.byteLength)}var t;try{h.decodeUTF8toUTF16(function(){return e<r?this.view[e++]:null}.bind(this),t=c())}catch(t){if(e!==r)throw RangeError("Illegal range: Truncated data, "+e+" != "+r)}return t()},d.fromUTF8=function(t,e,r){if(!r&&"string"!=typeof t)throw TypeError("Illegal str: Not a string");var n=new d(h.calculateUTF16asUTF8(a(t),!0)[1],e,r),i=0;return h.encodeUTF16toUTF8(a(t),function(t){n.view[i++]=t}),n.limit=i,n},d},"function"==typeof define&&define.amd?define(["long"],i):"function"==typeof e&&"object"==typeof t&&t&&t.exports?t.exports=function(){var t;try{t=e("long")}catch(t){}return i(t)}():(n.dcodeIO=n.dcodeIO||{}).ByteBuffer=i(n.dcodeIO.Long)},{long:79}],34:[function(t,e,r){(function(t){function e(t){return Object.prototype.toString.call(t)}r.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===e(t)},r.isBoolean=function(t){return"boolean"==typeof t},r.isNull=function(t){return null===t},r.isNullOrUndefined=function(t){return null==t},r.isNumber=function(t){return"number"==typeof t},r.isString=function(t){return"string"==typeof t},r.isSymbol=function(t){return"symbol"==typeof t},r.isUndefined=function(t){return void 0===t},r.isRegExp=function(t){return"[object RegExp]"===e(t)},r.isObject=function(t){return"object"==typeof t&&null!==t},r.isDate=function(t){return"[object Date]"===e(t)},r.isError=function(t){return"[object Error]"===e(t)||t instanceof Error},r.isFunction=function(t){return"function"==typeof t},r.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},r.isBuffer=t.isBuffer}).call(this,{isBuffer:t("../../is-buffer/index.js")})},{"../../is-buffer/index.js":73}],35:[function(t,e,r){var n,i;n=this,i=function(i){return function(){var t=i,e=t.lib.BlockCipher,r=t.algo,c=[],f=[],l=[],h=[],p=[],d=[],g=[],y=[],v=[],m=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var r=0,n=0;for(e=0;e<256;e++){var i=n^n<<1^n<<2^n<<3^n<<4;i=i>>>8^255&i^99,c[r]=i;var o=t[f[i]=r],s=t[o],a=t[s],u=257*t[i]^16843008*i;l[r]=u<<24|u>>>8,h[r]=u<<16|u>>>16,p[r]=u<<8|u>>>24,d[r]=u;u=16843009*a^65537*s^257*o^16843008*r;g[i]=u<<24|u>>>8,y[i]=u<<16|u>>>16,v[i]=u<<8|u>>>24,m[i]=u,r?(r=o^t[t[t[a^o]]],n^=t[t[n]]):r=n=1}}();var b=[0,1,2,4,8,16,32,64,128,27,54],n=r.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,r=t.sigBytes/4,n=4*((this._nRounds=r+6)+1),i=this._keySchedule=[],o=0;o<n;o++)if(o<r)i[o]=e[o];else{var s=i[o-1];o%r?6<r&&o%r==4&&(s=c[s>>>24]<<24|c[s>>>16&255]<<16|c[s>>>8&255]<<8|c[255&s]):(s=c[(s=s<<8|s>>>24)>>>24]<<24|c[s>>>16&255]<<16|c[s>>>8&255]<<8|c[255&s],s^=b[o/r|0]<<24),i[o]=i[o-r]^s}for(var a=this._invKeySchedule=[],u=0;u<n;u++){o=n-u;if(u%4)s=i[o];else s=i[o-4];a[u]=u<4||o<=4?s:g[c[s>>>24]]^y[c[s>>>16&255]]^v[c[s>>>8&255]]^m[c[255&s]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,l,h,p,d,c)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,g,y,v,m,f);r=t[e+1];t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,n,i,o,s,a){for(var u=this._nRounds,c=t[e]^r[0],f=t[e+1]^r[1],l=t[e+2]^r[2],h=t[e+3]^r[3],p=4,d=1;d<u;d++){var g=n[c>>>24]^i[f>>>16&255]^o[l>>>8&255]^s[255&h]^r[p++],y=n[f>>>24]^i[l>>>16&255]^o[h>>>8&255]^s[255&c]^r[p++],v=n[l>>>24]^i[h>>>16&255]^o[c>>>8&255]^s[255&f]^r[p++],m=n[h>>>24]^i[c>>>16&255]^o[f>>>8&255]^s[255&l]^r[p++];c=g,f=y,l=v,h=m}g=(a[c>>>24]<<24|a[f>>>16&255]<<16|a[l>>>8&255]<<8|a[255&h])^r[p++],y=(a[f>>>24]<<24|a[l>>>16&255]<<16|a[h>>>8&255]<<8|a[255&c])^r[p++],v=(a[l>>>24]<<24|a[h>>>16&255]<<16|a[c>>>8&255]<<8|a[255&f])^r[p++],m=(a[h>>>24]<<24|a[c>>>16&255]<<16|a[f>>>8&255]<<8|a[255&l])^r[p++];t[e]=g,t[e+1]=y,t[e+2]=v,t[e+3]=m},keySize:8});t.AES=e._createHelper(n)}(),i.AES},"object"==typeof r?e.exports=r=i(t("./core"),t("./enc-base64"),t("./md5"),t("./evpkdf"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":36,"./core":37,"./enc-base64":38,"./evpkdf":40,"./md5":45}],36:[function(t,e,r){var n,i;n=this,i=function(t){var e,r,n,u,i,o,s,a,c,f,l,h,p,d,g,y,v,m;t.lib.Cipher||(r=(e=t).lib,n=r.Base,u=r.WordArray,i=r.BufferedBlockAlgorithm,(o=e.enc).Utf8,s=o.Base64,a=e.algo.EvpKDF,c=r.Cipher=i.extend({cfg:n.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function i(t){return"string"==typeof t?m:y}return function(n){return{encrypt:function(t,e,r){return i(e).encrypt(n,t,e,r)},decrypt:function(t,e,r){return i(e).decrypt(n,t,e,r)}}}}()}),r.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),f=e.mode={},l=r.BlockCipherMode=n.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),h=f.CBC=function(){var t=l.extend();function o(t,e,r){var n=this._iv;if(n){var i=n;this._iv=void 0}else i=this._prevBlock;for(var o=0;o<r;o++)t[e+o]^=i[o]}return t.Encryptor=t.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize;o.call(this,t,e,n),r.encryptBlock(t,e),this._prevBlock=t.slice(e,e+n)}}),t.Decryptor=t.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,i=t.slice(e,e+n);r.decryptBlock(t,e),o.call(this,t,e,n),this._prevBlock=i}}),t}(),p=(e.pad={}).Pkcs7={pad:function(t,e){for(var r=4*e,n=r-t.sigBytes%r,i=n<<24|n<<16|n<<8|n,o=[],s=0;s<n;s+=4)o.push(i);var a=u.create(o,n);t.concat(a)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},r.BlockCipher=c.extend({cfg:c.cfg.extend({mode:h,padding:p}),reset:function(){c.reset.call(this);var t=this.cfg,e=t.iv,r=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=r.createEncryptor;else{n=r.createDecryptor;this._minBufferSize=1}this._mode=n.call(r,this,e&&e.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else{e=this._process(!0);t.unpad(e)}return e},blockSize:4}),d=r.CipherParams=n.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),g=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,r=t.salt;if(r)var n=u.create([1398893684,1701076831]).concat(r).concat(e);else n=e;return n.toString(s)},parse:function(t){var e=s.parse(t),r=e.words;if(1398893684==r[0]&&1701076831==r[1]){var n=u.create(r.slice(2,4));r.splice(0,4),e.sigBytes-=16}return d.create({ciphertext:e,salt:n})}},y=r.SerializableCipher=n.extend({cfg:n.extend({format:g}),encrypt:function(t,e,r,n){n=this.cfg.extend(n);var i=t.createEncryptor(r,n),o=i.finalize(e),s=i.cfg;return d.create({ciphertext:o,key:r,iv:s.iv,algorithm:t,mode:s.mode,padding:s.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,r,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(r,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),v=(e.kdf={}).OpenSSL={execute:function(t,e,r,n){n||(n=u.random(8));var i=a.create({keySize:e+r}).compute(t,n),o=u.create(i.words.slice(e),4*r);return i.sigBytes=4*e,d.create({key:i,iv:o,salt:n})}},m=r.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:v}),encrypt:function(t,e,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,t.keySize,t.ivSize);n.iv=i.iv;var o=y.encrypt.call(this,t,e,i.key,n);return o.mixIn(i),o},decrypt:function(t,e,r,n){n=this.cfg.extend(n),e=this._parse(e,n.format);var i=n.kdf.execute(r,t.keySize,t.ivSize,e.salt);return n.iv=i.iv,y.decrypt.call(this,t,e,i.key,n)}}))},"object"==typeof r?e.exports=r=i(t("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":37}],37:[function(t,e,r){var n,i;n=this,i=function(){var f,r,t,e,n,l,i,o,s,a,u,c,h=h||(f=Math,r=Object.create||function(){function r(){}return function(t){var e;return r.prototype=t,e=new r,r.prototype=null,e}}(),e=(t={}).lib={},n=e.Base={extend:function(t){var e=r(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),(e.init.prototype=e).$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},l=e.WordArray=n.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||o).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,i=t.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var s=r[o>>>2]>>>24-o%4*8&255;e[n+o>>>2]|=s<<24-(n+o)%4*8}else for(o=0;o<i;o+=4)e[n+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=f.ceil(e/4)},clone:function(){var t=n.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e,r=[],n=function(e){e=e;var r=987654321,n=4294967295;return function(){var t=((r=36969*(65535&r)+(r>>16)&n)<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n;return t/=4294967296,(t+=.5)*(.5<f.random()?1:-1)}},i=0;i<t;i+=4){var o=n(4294967296*(e||f.random()));e=987654071*o(),r.push(4294967296*o()|0)}return new l.init(r,t)}}),i=t.enc={},o=i.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new l.init(r,e/2)}},s=i.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new l.init(r,e)}},a=i.Utf8={stringify:function(t){try{return decodeURIComponent(escape(s.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return s.parse(unescape(encodeURIComponent(t)))}},u=e.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=a.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e=this._data,r=e.words,n=e.sigBytes,i=this.blockSize,o=n/(4*i),s=(o=t?f.ceil(o):f.max((0|o)-this._minBufferSize,0))*i,a=f.min(4*s,n);if(s){for(var u=0;u<s;u+=i)this._doProcessBlock(r,u);var c=r.splice(0,s);e.sigBytes-=a}return new l.init(c,a)},clone:function(){var t=n.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),e.Hasher=u.extend({cfg:n.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(r){return function(t,e){return new r.init(e).finalize(t)}},_createHmacHelper:function(r){return function(t,e){return new c.HMAC.init(r,e).finalize(t)}}}),c=t.algo={},t);return h},"object"==typeof r?e.exports=r=i():"function"==typeof define&&define.amd?define([],i):n.CryptoJS=i()},{}],38:[function(t,e,r){var n,i;n=this,i=function(t){var e,u;return u=(e=t).lib.WordArray,e.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp();for(var i=[],o=0;o<r;o+=3)for(var s=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<r;a++)i.push(n.charAt(s>>>6*(3-a)&63));var u=n.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(t){var e=t.length,r=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var i=0;i<r.length;i++)n[r.charCodeAt(i)]=i}var o=r.charAt(64);if(o){var s=t.indexOf(o);-1!==s&&(e=s)}return function(t,e,r){for(var n=[],i=0,o=0;o<e;o++)if(o%4){var s=r[t.charCodeAt(o-1)]<<o%4*2,a=r[t.charCodeAt(o)]>>>6-o%4*2;n[i>>>2]|=(s|a)<<24-i%4*8,i++}return u.create(n,i)}(t,e,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},t.enc.Base64},"object"==typeof r?e.exports=r=i(t("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":37}],39:[function(t,e,r){var n,i;n=this,i=function(r){return function(){var t=r,i=t.lib.WordArray,e=t.enc;e.Utf16=e.Utf16BE={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i+=2){var o=e[i>>>2]>>>16-i%4*8&65535;n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>1]|=t.charCodeAt(n)<<16-n%2*16;return i.create(r,2*e)}};function s(t){return t<<8&4278255360|t>>>8&16711935}e.Utf16LE={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i+=2){var o=s(e[i>>>2]>>>16-i%4*8&65535);n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>1]|=s(t.charCodeAt(n)<<16-n%2*16);return i.create(r,2*e)}}}(),r.enc.Utf16},"object"==typeof r?e.exports=r=i(t("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":37}],40:[function(t,e,r){var n,i;n=this,i=function(t){var e,r,n,f,i,o,s;return r=(e=t).lib,n=r.Base,f=r.WordArray,i=e.algo,o=i.MD5,s=i.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:o,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=this.cfg,n=r.hasher.create(),i=f.create(),o=i.words,s=r.keySize,a=r.iterations;o.length<s;){u&&n.update(u);var u=n.update(t).finalize(e);n.reset();for(var c=1;c<a;c++)u=n.finalize(u),n.reset();i.concat(u)}return i.sigBytes=4*s,i}}),e.EvpKDF=function(t,e,r){return s.create(r).compute(t,e)},t.EvpKDF},"object"==typeof r?e.exports=r=i(t("./core"),t("./sha1"),t("./hmac")):"function"==typeof define&&define.amd?define(["./core","./sha1","./hmac"],i):i(n.CryptoJS)},{"./core":37,"./hmac":42,"./sha1":61}],41:[function(t,e,r){var n,i;n=this,i=function(t){var e,r,n;return r=(e=t).lib.CipherParams,n=e.enc.Hex,e.format.Hex={stringify:function(t){return t.ciphertext.toString(n)},parse:function(t){var e=n.parse(t);return r.create({ciphertext:e})}},t.format.Hex},"object"==typeof r?e.exports=r=i(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":36,"./core":37}],42:[function(t,e,r){var n,i;n=this,i=function(t){var e,r,c;r=(e=t).lib.Base,c=e.enc.Utf8,e.algo.HMAC=r.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=c.parse(e));var r=t.blockSize,n=4*r;e.sigBytes>n&&(e=t.finalize(e)),e.clamp();for(var i=this._oKey=e.clone(),o=this._iKey=e.clone(),s=i.words,a=o.words,u=0;u<r;u++)s[u]^=1549556828,a[u]^=909522486;i.sigBytes=o.sigBytes=n,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,r=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(r))}})},"object"==typeof r?e.exports=r=i(t("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":37}],43:[function(t,e,r){var n,i;n=this,i=function(t){return t},"object"==typeof r?e.exports=r=i(t("./core"),t("./x64-core"),t("./lib-typedarrays"),t("./enc-utf16"),t("./enc-base64"),t("./md5"),t("./sha1"),t("./sha256"),t("./sha224"),t("./sha512"),t("./sha384"),t("./sha3"),t("./ripemd160"),t("./hmac"),t("./pbkdf2"),t("./evpkdf"),t("./cipher-core"),t("./mode-cfb"),t("./mode-ctr"),t("./mode-ctr-gladman"),t("./mode-ofb"),t("./mode-ecb"),t("./pad-ansix923"),t("./pad-iso10126"),t("./pad-iso97971"),t("./pad-zeropadding"),t("./pad-nopadding"),t("./format-hex"),t("./aes"),t("./tripledes"),t("./rc4"),t("./rabbit"),t("./rabbit-legacy")):"function"==typeof define&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy"],i):n.CryptoJS=i(n.CryptoJS)},{"./aes":35,"./cipher-core":36,"./core":37,"./enc-base64":38,"./enc-utf16":39,"./evpkdf":40,"./format-hex":41,"./hmac":42,"./lib-typedarrays":44,"./md5":45,"./mode-cfb":46,"./mode-ctr":48,"./mode-ctr-gladman":47,"./mode-ecb":49,"./mode-ofb":50,"./pad-ansix923":51,"./pad-iso10126":52,"./pad-iso97971":53,"./pad-nopadding":54,"./pad-zeropadding":55,"./pbkdf2":56,"./rabbit":58,"./rabbit-legacy":57,"./rc4":59,"./ripemd160":60,"./sha1":61,"./sha224":62,"./sha256":63,"./sha3":64,"./sha384":65,"./sha512":66,"./tripledes":67,"./x64-core":68}],44:[function(t,e,r){var n,i;n=this,i=function(e){return function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,i=t.init;(t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var e=t.byteLength,r=[],n=0;n<e;n++)r[n>>>2]|=t[n]<<24-n%4*8;i.call(this,r,e)}else i.apply(this,arguments)}).prototype=t}}(),e.lib.WordArray},"object"==typeof r?e.exports=r=i(t("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":37}],45:[function(t,e,r){var n,i;n=this,i=function(s){return function(f){var t=s,e=t.lib,r=e.WordArray,n=e.Hasher,i=t.algo,A=[];!function(){for(var t=0;t<64;t++)A[t]=4294967296*f.abs(f.sin(t+1))|0}();var o=i.MD5=n.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,i=t[n];t[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,s=t[e+0],a=t[e+1],u=t[e+2],c=t[e+3],f=t[e+4],l=t[e+5],h=t[e+6],p=t[e+7],d=t[e+8],g=t[e+9],y=t[e+10],v=t[e+11],m=t[e+12],b=t[e+13],w=t[e+14],_=t[e+15],E=o[0],x=o[1],T=o[2],S=o[3];x=O(x=O(x=O(x=O(x=C(x=C(x=C(x=C(x=k(x=k(x=k(x=k(x=I(x=I(x=I(x=I(x,T=I(T,S=I(S,E=I(E,x,T,S,s,7,A[0]),x,T,a,12,A[1]),E,x,u,17,A[2]),S,E,c,22,A[3]),T=I(T,S=I(S,E=I(E,x,T,S,f,7,A[4]),x,T,l,12,A[5]),E,x,h,17,A[6]),S,E,p,22,A[7]),T=I(T,S=I(S,E=I(E,x,T,S,d,7,A[8]),x,T,g,12,A[9]),E,x,y,17,A[10]),S,E,v,22,A[11]),T=I(T,S=I(S,E=I(E,x,T,S,m,7,A[12]),x,T,b,12,A[13]),E,x,w,17,A[14]),S,E,_,22,A[15]),T=k(T,S=k(S,E=k(E,x,T,S,a,5,A[16]),x,T,h,9,A[17]),E,x,v,14,A[18]),S,E,s,20,A[19]),T=k(T,S=k(S,E=k(E,x,T,S,l,5,A[20]),x,T,y,9,A[21]),E,x,_,14,A[22]),S,E,f,20,A[23]),T=k(T,S=k(S,E=k(E,x,T,S,g,5,A[24]),x,T,w,9,A[25]),E,x,c,14,A[26]),S,E,d,20,A[27]),T=k(T,S=k(S,E=k(E,x,T,S,b,5,A[28]),x,T,u,9,A[29]),E,x,p,14,A[30]),S,E,m,20,A[31]),T=C(T,S=C(S,E=C(E,x,T,S,l,4,A[32]),x,T,d,11,A[33]),E,x,v,16,A[34]),S,E,w,23,A[35]),T=C(T,S=C(S,E=C(E,x,T,S,a,4,A[36]),x,T,f,11,A[37]),E,x,p,16,A[38]),S,E,y,23,A[39]),T=C(T,S=C(S,E=C(E,x,T,S,b,4,A[40]),x,T,s,11,A[41]),E,x,c,16,A[42]),S,E,h,23,A[43]),T=C(T,S=C(S,E=C(E,x,T,S,g,4,A[44]),x,T,m,11,A[45]),E,x,_,16,A[46]),S,E,u,23,A[47]),T=O(T,S=O(S,E=O(E,x,T,S,s,6,A[48]),x,T,p,10,A[49]),E,x,w,15,A[50]),S,E,l,21,A[51]),T=O(T,S=O(S,E=O(E,x,T,S,m,6,A[52]),x,T,c,10,A[53]),E,x,y,15,A[54]),S,E,a,21,A[55]),T=O(T,S=O(S,E=O(E,x,T,S,d,6,A[56]),x,T,_,10,A[57]),E,x,h,15,A[58]),S,E,b,21,A[59]),T=O(T,S=O(S,E=O(E,x,T,S,f,6,A[60]),x,T,v,10,A[61]),E,x,u,15,A[62]),S,E,g,21,A[63]),o[0]=o[0]+E|0,o[1]=o[1]+x|0,o[2]=o[2]+T|0,o[3]=o[3]+S|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;e[n>>>5]|=128<<24-n%32;var i=f.floor(r/4294967296),o=r;e[15+(n+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e[14+(n+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(e.length+1),this._process();for(var s=this._hash,a=s.words,u=0;u<4;u++){var c=a[u];a[u]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return s},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}});function I(t,e,r,n,i,o,s){var a=t+(e&r|~e&n)+i+s;return(a<<o|a>>>32-o)+e}function k(t,e,r,n,i,o,s){var a=t+(e&n|r&~n)+i+s;return(a<<o|a>>>32-o)+e}function C(t,e,r,n,i,o,s){var a=t+(e^r^n)+i+s;return(a<<o|a>>>32-o)+e}function O(t,e,r,n,i,o,s){var a=t+(r^(e|~n))+i+s;return(a<<o|a>>>32-o)+e}t.MD5=n._createHelper(o),t.HmacMD5=n._createHmacHelper(o)}(Math),s.MD5},"object"==typeof r?e.exports=r=i(t("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":37}],46:[function(t,e,r){var n,i;n=this,i=function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function o(t,e,r,n){var i=this._iv;if(i){var o=i.slice(0);this._iv=void 0}else o=this._prevBlock;n.encryptBlock(o,0);for(var s=0;s<r;s++)t[e+s]^=o[s]}return t.Encryptor=t.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize;o.call(this,t,e,n,r),this._prevBlock=t.slice(e,e+n)}}),t.Decryptor=t.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,i=t.slice(e,e+n);o.call(this,t,e,n,r),this._prevBlock=i}}),t}(),e.mode.CFB},"object"==typeof r?e.exports=r=i(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":36,"./core":37}],47:[function(t,e,r){var n,i;n=this,i=function(r){return r.mode.CTRGladman=function(){var t=r.lib.BlockCipherMode.extend();function c(t){if(255==(t>>24&255)){var e=t>>16&255,r=t>>8&255,n=255&t;255===e?(e=0,255===r?(r=0,255===n?n=0:++n):++r):++e,t=0,t+=e<<16,t+=r<<8,t+=n}else t+=1<<24;return t}var e=t.Encryptor=t.extend({processBlock:function(t,e){var r,n=this._cipher,i=n.blockSize,o=this._iv,s=this._counter;o&&(s=this._counter=o.slice(0),this._iv=void 0),0===((r=s)[0]=c(r[0]))&&(r[1]=c(r[1]));var a=s.slice(0);n.encryptBlock(a,0);for(var u=0;u<i;u++)t[e+u]^=a[u]}});return t.Decryptor=e,t}(),r.mode.CTRGladman},"object"==typeof r?e.exports=r=i(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":36,"./core":37}],48:[function(t,e,r){var n,i;n=this,i=function(t){var e,r;return t.mode.CTR=(e=t.lib.BlockCipherMode.extend(),r=e.Encryptor=e.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var s=o.slice(0);r.encryptBlock(s,0),o[n-1]=o[n-1]+1|0;for(var a=0;a<n;a++)t[e+a]^=s[a]}}),e.Decryptor=r,e),t.mode.CTR},"object"==typeof r?e.exports=r=i(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":36,"./core":37}],49:[function(t,e,r){var n,i;n=this,i=function(t){var e;return t.mode.ECB=((e=t.lib.BlockCipherMode.extend()).Encryptor=e.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),e.Decryptor=e.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),e),t.mode.ECB},"object"==typeof r?e.exports=r=i(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":36,"./core":37}],50:[function(t,e,r){var n,i;n=this,i=function(t){var e,r;return t.mode.OFB=(e=t.lib.BlockCipherMode.extend(),r=e.Encryptor=e.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),r.encryptBlock(o,0);for(var s=0;s<n;s++)t[e+s]^=o[s]}}),e.Decryptor=r,e),t.mode.OFB},"object"==typeof r?e.exports=r=i(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":36,"./core":37}],51:[function(t,e,r){var n,i;n=this,i=function(t){return t.pad.AnsiX923={pad:function(t,e){var r=t.sigBytes,n=4*e,i=n-r%n,o=r+i-1;t.clamp(),t.words[o>>>2]|=i<<24-o%4*8,t.sigBytes+=i},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},t.pad.Ansix923},"object"==typeof r?e.exports=r=i(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":36,"./core":37}],52:[function(t,e,r){var n,i;n=this,i=function(i){return i.pad.Iso10126={pad:function(t,e){var r=4*e,n=r-t.sigBytes%r;t.concat(i.lib.WordArray.random(n-1)).concat(i.lib.WordArray.create([n<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},i.pad.Iso10126},"object"==typeof r?e.exports=r=i(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":36,"./core":37}],53:[function(t,e,r){var n,i;n=this,i=function(r){return r.pad.Iso97971={pad:function(t,e){t.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(t,e)},unpad:function(t){r.pad.ZeroPadding.unpad(t),t.sigBytes--}},r.pad.Iso97971},"object"==typeof r?e.exports=r=i(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":36,"./core":37}],54:[function(t,e,r){var n,i;n=this,i=function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding},"object"==typeof r?e.exports=r=i(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":36,"./core":37}],55:[function(t,e,r){var n,i;n=this,i=function(t){return t.pad.ZeroPadding={pad:function(t,e){var r=4*e;t.clamp(),t.sigBytes+=r-(t.sigBytes%r||r)},unpad:function(t){for(var e=t.words,r=t.sigBytes-1;!(e[r>>>2]>>>24-r%4*8&255);)r--;t.sigBytes=r+1}},t.pad.ZeroPadding},"object"==typeof r?e.exports=r=i(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":36,"./core":37}],56:[function(t,e,r){var n,i;n=this,i=function(t){var e,r,n,v,i,o,m,s;return r=(e=t).lib,n=r.Base,v=r.WordArray,i=e.algo,o=i.SHA1,m=i.HMAC,s=i.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:o,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=this.cfg,n=m.create(r.hasher,t),i=v.create(),o=v.create([1]),s=i.words,a=o.words,u=r.keySize,c=r.iterations;s.length<u;){var f=n.update(e).finalize(o);n.reset();for(var l=f.words,h=l.length,p=f,d=1;d<c;d++){p=n.finalize(p),n.reset();for(var g=p.words,y=0;y<h;y++)l[y]^=g[y]}i.concat(f),a[0]++}return i.sigBytes=4*u,i}}),e.PBKDF2=function(t,e,r){return s.create(r).compute(t,e)},t.PBKDF2},"object"==typeof r?e.exports=r=i(t("./core"),t("./sha1"),t("./hmac")):"function"==typeof define&&define.amd?define(["./core","./sha1","./hmac"],i):i(n.CryptoJS)},{"./core":37,"./hmac":42,"./sha1":61}],57:[function(t,e,r){var n,i;n=this,i=function(o){return function(){var t=o,e=t.lib.StreamCipher,r=t.algo,i=[],u=[],c=[],n=r.RabbitLegacy=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,r=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],n=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]],i=this._b=0;i<4;i++)h.call(this);for(i=0;i<8;i++)n[i]^=r[i+4&7];if(e){var o=e.words,s=o[0],a=o[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),f=u>>>16|4294901760&c,l=c<<16|65535&u;n[0]^=u,n[1]^=f,n[2]^=c,n[3]^=l,n[4]^=u,n[5]^=f,n[6]^=c,n[7]^=l;for(i=0;i<4;i++)h.call(this)}},_doProcessBlock:function(t,e){var r=this._X;h.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),t[e+n]^=i[n]},blockSize:4,ivSize:2});function h(){for(var t=this._X,e=this._C,r=0;r<8;r++)u[r]=e[r];e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<u[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<u[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<u[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<u[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<u[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<u[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<u[6]>>>0?1:0)|0,this._b=e[7]>>>0<u[7]>>>0?1:0;for(r=0;r<8;r++){var n=t[r]+e[r],i=65535&n,o=n>>>16,s=((i*i>>>17)+i*o>>>15)+o*o,a=((4294901760&n)*n|0)+((65535&n)*n|0);c[r]=s^a}t[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,t[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,t[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,t[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,t[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,t[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,t[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,t[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}t.RabbitLegacy=e._createHelper(n)}(),o.RabbitLegacy},"object"==typeof r?e.exports=r=i(t("./core"),t("./enc-base64"),t("./md5"),t("./evpkdf"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":36,"./core":37,"./enc-base64":38,"./evpkdf":40,"./md5":45}],58:[function(t,e,r){var n,i;n=this,i=function(o){return function(){var t=o,e=t.lib.StreamCipher,r=t.algo,i=[],u=[],c=[],n=r.Rabbit=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,r=0;r<4;r++)t[r]=16711935&(t[r]<<8|t[r]>>>24)|4278255360&(t[r]<<24|t[r]>>>8);var n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],i=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(r=this._b=0;r<4;r++)h.call(this);for(r=0;r<8;r++)i[r]^=n[r+4&7];if(e){var o=e.words,s=o[0],a=o[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),f=u>>>16|4294901760&c,l=c<<16|65535&u;i[0]^=u,i[1]^=f,i[2]^=c,i[3]^=l,i[4]^=u,i[5]^=f,i[6]^=c,i[7]^=l;for(r=0;r<4;r++)h.call(this)}},_doProcessBlock:function(t,e){var r=this._X;h.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),t[e+n]^=i[n]},blockSize:4,ivSize:2});function h(){for(var t=this._X,e=this._C,r=0;r<8;r++)u[r]=e[r];e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<u[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<u[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<u[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<u[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<u[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<u[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<u[6]>>>0?1:0)|0,this._b=e[7]>>>0<u[7]>>>0?1:0;for(r=0;r<8;r++){var n=t[r]+e[r],i=65535&n,o=n>>>16,s=((i*i>>>17)+i*o>>>15)+o*o,a=((4294901760&n)*n|0)+((65535&n)*n|0);c[r]=s^a}t[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,t[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,t[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,t[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,t[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,t[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,t[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,t[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}t.Rabbit=e._createHelper(n)}(),o.Rabbit},"object"==typeof r?e.exports=r=i(t("./core"),t("./enc-base64"),t("./md5"),t("./evpkdf"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":36,"./core":37,"./enc-base64":38,"./evpkdf":40,"./md5":45}],59:[function(t,e,r){var n,i;n=this,i=function(s){return function(){var t=s,e=t.lib.StreamCipher,r=t.algo,n=r.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,r=t.sigBytes,n=this._S=[],i=0;i<256;i++)n[i]=i;i=0;for(var o=0;i<256;i++){var s=i%r,a=e[s>>>2]>>>24-s%4*8&255;o=(o+n[i]+a)%256;var u=n[i];n[i]=n[o],n[o]=u}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=i.call(this)},keySize:8,ivSize:0});function i(){for(var t=this._S,e=this._i,r=this._j,n=0,i=0;i<4;i++){r=(r+t[e=(e+1)%256])%256;var o=t[e];t[e]=t[r],t[r]=o,n|=t[(t[e]+t[r])%256]<<24-8*i}return this._i=e,this._j=r,n}t.RC4=e._createHelper(n);var o=r.RC4Drop=n.extend({cfg:n.cfg.extend({drop:192}),_doReset:function(){n._doReset.call(this);for(var t=this.cfg.drop;0<t;t--)i.call(this)}});t.RC4Drop=e._createHelper(o)}(),s.RC4},"object"==typeof r?e.exports=r=i(t("./core"),t("./enc-base64"),t("./md5"),t("./evpkdf"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":36,"./core":37,"./enc-base64":38,"./evpkdf":40,"./md5":45}],60:[function(t,e,r){var n,i;n=this,i=function(a){return function(t){var e=a,r=e.lib,n=r.WordArray,i=r.Hasher,o=e.algo,x=n.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),T=n.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),S=n.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),A=n.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),I=n.create([0,1518500249,1859775393,2400959708,2840853838]),k=n.create([1352829926,1548603684,1836072691,2053994217,0]),s=o.RIPEMD160=i.extend({_doReset:function(){this._hash=n.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,i=t[n];t[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,s,a,u,c,f,l,h,p,d,g,y=this._hash.words,v=I.words,m=k.words,b=x.words,w=T.words,_=S.words,E=A.words;f=o=y[0],l=s=y[1],h=a=y[2],p=u=y[3],d=c=y[4];for(r=0;r<80;r+=1)g=o+t[e+b[r]]|0,g+=r<16?C(s,a,u)+v[0]:r<32?O(s,a,u)+v[1]:r<48?B(s,a,u)+v[2]:r<64?P(s,a,u)+v[3]:L(s,a,u)+v[4],g=(g=j(g|=0,_[r]))+c|0,o=c,c=u,u=j(a,10),a=s,s=g,g=f+t[e+w[r]]|0,g+=r<16?L(l,h,p)+m[0]:r<32?P(l,h,p)+m[1]:r<48?B(l,h,p)+m[2]:r<64?O(l,h,p)+m[3]:C(l,h,p)+m[4],g=(g=j(g|=0,E[r]))+d|0,f=d,d=p,p=j(h,10),h=l,l=g;g=y[1]+a+p|0,y[1]=y[2]+u+d|0,y[2]=y[3]+c+f|0,y[3]=y[4]+o+l|0,y[4]=y[0]+s+h|0,y[0]=g},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(e.length+1),this._process();for(var i=this._hash,o=i.words,s=0;s<5;s++){var a=o[s];o[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return i},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});function C(t,e,r){return t^e^r}function O(t,e,r){return t&e|~t&r}function B(t,e,r){return(t|~e)^r}function P(t,e,r){return t&r|e&~r}function L(t,e,r){return t^(e|~r)}function j(t,e){return t<<e|t>>>32-e}e.RIPEMD160=i._createHelper(s),e.HmacRIPEMD160=i._createHmacHelper(s)}(Math),a.RIPEMD160},"object"==typeof r?e.exports=r=i(t("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":37}],61:[function(t,e,r){var n,i;n=this,i=function(t){var e,r,n,i,o,l,s;return r=(e=t).lib,n=r.WordArray,i=r.Hasher,o=e.algo,l=[],s=o.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],u=0;u<80;u++){if(u<16)l[u]=0|t[e+u];else{var c=l[u-3]^l[u-8]^l[u-14]^l[u-16];l[u]=c<<1|c>>>31}var f=(n<<5|n>>>27)+a+l[u];f+=u<20?1518500249+(i&o|~i&s):u<40?1859775393+(i^o^s):u<60?(i&o|i&s|o&s)-1894007588:(i^o^s)-899497514,a=s,s=o,o=i<<30|i>>>2,i=n,n=f}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),e[15+(n+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}}),e.SHA1=i._createHelper(s),e.HmacSHA1=i._createHmacHelper(s),t.SHA1},"object"==typeof r?e.exports=r=i(t("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":37}],62:[function(t,e,r){var n,i;n=this,i=function(t){var e,r,n,i,o;return r=(e=t).lib.WordArray,n=e.algo,i=n.SHA256,o=n.SHA224=i.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=i._doFinalize.call(this);return t.sigBytes-=4,t}}),e.SHA224=i._createHelper(o),e.HmacSHA224=i._createHmacHelper(o),t.SHA224},"object"==typeof r?e.exports=r=i(t("./core"),t("./sha256")):"function"==typeof define&&define.amd?define(["./core","./sha256"],i):i(n.CryptoJS)},{"./core":37,"./sha256":63}],63:[function(t,e,r){var n,i;n=this,i=function(u){return function(i){var t=u,e=t.lib,r=e.WordArray,n=e.Hasher,o=t.algo,s=[],b=[];!function(){function t(t){for(var e=i.sqrt(t),r=2;r<=e;r++)if(!(t%r))return!1;return!0}function e(t){return 4294967296*(t-(0|t))|0}for(var r=2,n=0;n<64;)t(r)&&(n<8&&(s[n]=e(i.pow(r,.5))),b[n]=e(i.pow(r,1/3)),n++),r++}();var w=[],a=o.SHA256=n.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],u=r[5],c=r[6],f=r[7],l=0;l<64;l++){if(l<16)w[l]=0|t[e+l];else{var h=w[l-15],p=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,d=w[l-2],g=(d<<15|d>>>17)^(d<<13|d>>>19)^d>>>10;w[l]=p+w[l-7]+g+w[l-16]}var y=n&i^n&o^i&o,v=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),m=f+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&u^~a&c)+b[l]+w[l];f=c,c=u,u=a,a=s+m|0,s=o,o=i,i=n,n=m+(v+y)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0,r[5]=r[5]+u|0,r[6]=r[6]+c|0,r[7]=r[7]+f|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=i.floor(r/4294967296),e[15+(n+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA256=n._createHelper(a),t.HmacSHA256=n._createHmacHelper(a)}(Math),u.SHA256},"object"==typeof r?e.exports=r=i(t("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":37}],64:[function(t,e,r){var n,i;n=this,i=function(o){return function(h){var t=o,e=t.lib,p=e.WordArray,n=e.Hasher,f=t.x64.Word,r=t.algo,C=[],O=[],B=[];!function(){for(var t=1,e=0,r=0;r<24;r++){C[t+5*e]=(r+1)*(r+2)/2%64;var n=(2*t+3*e)%5;t=e%5,e=n}for(t=0;t<5;t++)for(e=0;e<5;e++)O[t+5*e]=e+(2*t+3*e)%5*5;for(var i=1,o=0;o<24;o++){for(var s=0,a=0,u=0;u<7;u++){if(1&i){var c=(1<<u)-1;c<32?a^=1<<c:s^=1<<c-32}128&i?i=i<<1^113:i<<=1}B[o]=f.create(s,a)}}();var P=[];!function(){for(var t=0;t<25;t++)P[t]=f.create()}();var i=r.SHA3=n.extend({cfg:n.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new f.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var r=this._state,n=this.blockSize/2,i=0;i<n;i++){var o=t[e+2*i],s=t[e+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(T=r[i]).high^=s,T.low^=o}for(var a=0;a<24;a++){for(var u=0;u<5;u++){for(var c=0,f=0,l=0;l<5;l++){c^=(T=r[u+5*l]).high,f^=T.low}var h=P[u];h.high=c,h.low=f}for(u=0;u<5;u++){var p=P[(u+4)%5],d=P[(u+1)%5],g=d.high,y=d.low;for(c=p.high^(g<<1|y>>>31),f=p.low^(y<<1|g>>>31),l=0;l<5;l++){(T=r[u+5*l]).high^=c,T.low^=f}}for(var v=1;v<25;v++){var m=(T=r[v]).high,b=T.low,w=C[v];if(w<32)c=m<<w|b>>>32-w,f=b<<w|m>>>32-w;else c=b<<w-32|m>>>64-w,f=m<<w-32|b>>>64-w;var _=P[O[v]];_.high=c,_.low=f}var E=P[0],x=r[0];E.high=x.high,E.low=x.low;for(u=0;u<5;u++)for(l=0;l<5;l++){var T=r[v=u+5*l],S=P[v],A=P[(u+1)%5+5*l],I=P[(u+2)%5+5*l];T.high=S.high^~A.high&I.high,T.low=S.low^~A.low&I.low}T=r[0];var k=B[a];T.high^=k.high,T.low^=k.low}},_doFinalize:function(){var t=this._data,e=t.words,r=(this._nDataBytes,8*t.sigBytes),n=32*this.blockSize;e[r>>>5]|=1<<24-r%32,e[(h.ceil((r+1)/n)*n>>>5)-1]|=128,t.sigBytes=4*e.length,this._process();for(var i=this._state,o=this.cfg.outputLength/8,s=o/8,a=[],u=0;u<s;u++){var c=i[u],f=c.high,l=c.low;f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),l=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),a.push(l),a.push(f)}return new p.init(a,o)},clone:function(){for(var t=n.clone.call(this),e=t._state=this._state.slice(0),r=0;r<25;r++)e[r]=e[r].clone();return t}});t.SHA3=n._createHelper(i),t.HmacSHA3=n._createHmacHelper(i)}(Math),o.SHA3},"object"==typeof r?e.exports=r=i(t("./core"),t("./x64-core")):"function"==typeof define&&define.amd?define(["./core","./x64-core"],i):i(n.CryptoJS)},{"./core":37,"./x64-core":68}],65:[function(t,e,r){var n,i;n=this,i=function(t){var e,r,n,i,o,s,a;return r=(e=t).x64,n=r.Word,i=r.WordArray,o=e.algo,s=o.SHA512,a=o.SHA384=s.extend({_doReset:function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var t=s._doFinalize.call(this);return t.sigBytes-=16,t}}),e.SHA384=s._createHelper(a),e.HmacSHA384=s._createHmacHelper(a),t.SHA384},"object"==typeof r?e.exports=r=i(t("./core"),t("./x64-core"),t("./sha512")):"function"==typeof define&&define.amd?define(["./core","./x64-core","./sha512"],i):i(n.CryptoJS)},{"./core":37,"./sha512":66,"./x64-core":68}],66:[function(t,e,r){var n,i;n=this,i=function(u){return function(){var t=u,e=t.lib.Hasher,r=t.x64,n=r.Word,i=r.WordArray,o=t.algo;function s(){return n.create.apply(n,arguments)}var xt=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],Tt=[];!function(){for(var t=0;t<80;t++)Tt[t]=s()}();var a=o.SHA512=e.extend({_doReset:function(){this._hash=new i.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],u=r[5],c=r[6],f=r[7],l=n.high,h=n.low,p=i.high,d=i.low,g=o.high,y=o.low,v=s.high,m=s.low,b=a.high,w=a.low,_=u.high,E=u.low,x=c.high,T=c.low,S=f.high,A=f.low,I=l,k=h,C=p,O=d,B=g,P=y,L=v,j=m,N=b,R=w,M=_,D=E,F=x,U=T,z=S,Y=A,V=0;V<80;V++){var q=Tt[V];if(V<16)var X=q.high=0|t[e+2*V],H=q.low=0|t[e+2*V+1];else{var W=Tt[V-15],G=W.high,J=W.low,K=(G>>>1|J<<31)^(G>>>8|J<<24)^G>>>7,Z=(J>>>1|G<<31)^(J>>>8|G<<24)^(J>>>7|G<<25),$=Tt[V-2],Q=$.high,tt=$.low,et=(Q>>>19|tt<<13)^(Q<<3|tt>>>29)^Q>>>6,rt=(tt>>>19|Q<<13)^(tt<<3|Q>>>29)^(tt>>>6|Q<<26),nt=Tt[V-7],it=nt.high,ot=nt.low,st=Tt[V-16],at=st.high,ut=st.low;X=(X=(X=K+it+((H=Z+ot)>>>0<Z>>>0?1:0))+et+((H=H+rt)>>>0<rt>>>0?1:0))+at+((H=H+ut)>>>0<ut>>>0?1:0);q.high=X,q.low=H}var ct,ft=N&M^~N&F,lt=R&D^~R&U,ht=I&C^I&B^C&B,pt=k&O^k&P^O&P,dt=(I>>>28|k<<4)^(I<<30|k>>>2)^(I<<25|k>>>7),gt=(k>>>28|I<<4)^(k<<30|I>>>2)^(k<<25|I>>>7),yt=(N>>>14|R<<18)^(N>>>18|R<<14)^(N<<23|R>>>9),vt=(R>>>14|N<<18)^(R>>>18|N<<14)^(R<<23|N>>>9),mt=xt[V],bt=mt.high,wt=mt.low,_t=z+yt+((ct=Y+vt)>>>0<Y>>>0?1:0),Et=gt+pt;z=F,Y=U,F=M,U=D,M=N,D=R,N=L+(_t=(_t=(_t=_t+ft+((ct=ct+lt)>>>0<lt>>>0?1:0))+bt+((ct=ct+wt)>>>0<wt>>>0?1:0))+X+((ct=ct+H)>>>0<H>>>0?1:0))+((R=j+ct|0)>>>0<j>>>0?1:0)|0,L=B,j=P,B=C,P=O,C=I,O=k,I=_t+(dt+ht+(Et>>>0<gt>>>0?1:0))+((k=ct+Et|0)>>>0<ct>>>0?1:0)|0}h=n.low=h+k,n.high=l+I+(h>>>0<k>>>0?1:0),d=i.low=d+O,i.high=p+C+(d>>>0<O>>>0?1:0),y=o.low=y+P,o.high=g+B+(y>>>0<P>>>0?1:0),m=s.low=m+j,s.high=v+L+(m>>>0<j>>>0?1:0),w=a.low=w+R,a.high=b+N+(w>>>0<R>>>0?1:0),E=u.low=E+D,u.high=_+M+(E>>>0<D>>>0?1:0),T=c.low=T+U,c.high=x+F+(T>>>0<U>>>0?1:0),A=f.low=A+Y,f.high=S+z+(A>>>0<Y>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),e[31+(n+128>>>10<<5)]=r,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(a),t.HmacSHA512=e._createHmacHelper(a)}(),u.SHA512},"object"==typeof r?e.exports=r=i(t("./core"),t("./x64-core")):"function"==typeof define&&define.amd?define(["./core","./x64-core"],i):i(n.CryptoJS)},{"./core":37,"./x64-core":68}],67:[function(t,e,r){var n,i;n=this,i=function(a){return function(){var t=a,e=t.lib,r=e.WordArray,n=e.BlockCipher,i=t.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],f=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],p=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],o=i.DES=n.extend({_doReset:function(){for(var t=this._key.words,e=[],r=0;r<56;r++){var n=c[r]-1;e[r]=t[n>>>5]>>>31-n%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var s=i[o]=[],a=l[o];for(r=0;r<24;r++)s[r/6|0]|=e[(f[r]-1+a)%28]<<31-r%6,s[4+(r/6|0)]|=e[28+(f[r+24]-1+a)%28]<<31-r%6;s[0]=s[0]<<1|s[0]>>>31;for(r=1;r<7;r++)s[r]=s[r]>>>4*(r-1)+3;s[7]=s[7]<<5|s[7]>>>27}var u=this._invSubKeys=[];for(r=0;r<16;r++)u[r]=i[15-r]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,r){this._lBlock=t[e],this._rBlock=t[e+1],d.call(this,4,252645135),d.call(this,16,65535),g.call(this,2,858993459),g.call(this,8,16711935),d.call(this,1,1431655765);for(var n=0;n<16;n++){for(var i=r[n],o=this._lBlock,s=this._rBlock,a=0,u=0;u<8;u++)a|=h[u][((s^i[u])&p[u])>>>0];this._lBlock=s,this._rBlock=o^a}var c=this._lBlock;this._lBlock=this._rBlock,this._rBlock=c,d.call(this,1,1431655765),g.call(this,8,16711935),g.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(t,e){var r=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=r,this._lBlock^=r<<t}function g(t,e){var r=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=r,this._rBlock^=r<<t}t.DES=n._createHelper(o);var s=i.TripleDES=n.extend({_doReset:function(){var t=this._key.words;this._des1=o.createEncryptor(r.create(t.slice(0,2))),this._des2=o.createEncryptor(r.create(t.slice(2,4))),this._des3=o.createEncryptor(r.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=n._createHelper(s)}(),a.TripleDES},"object"==typeof r?e.exports=r=i(t("./core"),t("./enc-base64"),t("./md5"),t("./evpkdf"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":36,"./core":37,"./enc-base64":38,"./evpkdf":40,"./md5":45}],68:[function(t,e,r){var n,i;n=this,i=function(t){var e,r,i,o,n;return r=(e=t).lib,i=r.Base,o=r.WordArray,(n=e.x64={}).Word=i.extend({init:function(t,e){this.high=t,this.low=e}}),n.WordArray=i.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,r=[],n=0;n<e;n++){var i=t[n];r.push(i.high),r.push(i.low)}return o.create(r,this.sigBytes)},clone:function(){for(var t=i.clone.call(this),e=t.words=this.words.slice(0),r=e.length,n=0;n<r;n++)e[n]=e[n].clone();return t}}),t},"object"==typeof r?e.exports=r=i(t("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":37}],69:[function(t,e,r){var n,p,d,g,y,v,m,b,w,_,i,E,x,T;n="undefined"!=typeof window?window:this,g="hasOwnProperty",y=/[\.\/]/,v=/\s*,\s*/,m=function(t,e){return t-e},b={n:{}},w=function(){for(var t=0,e=this.length;t<e;t++)if(void 0!==this[t])return this[t]},_=function(){for(var t=this.length;--t;)if(void 0!==this[t])return this[t]},i=Object.prototype.toString,E=String,x=Array.isArray||function(t){return t instanceof Array||"[object Array]"==i.call(t)},(T=function(t,e){var r,n=d,i=Array.prototype.slice.call(arguments,2),o=T.listeners(t),s=0,a=[],u={},c=[],f=p;c.firstDefined=w,c.lastDefined=_,p=t;for(var l=d=0,h=o.length;l<h;l++)"zIndex"in o[l]&&(a.push(o[l].zIndex),o[l].zIndex<0&&(u[o[l].zIndex]=o[l]));for(a.sort(m);a[s]<0;)if(r=u[a[s++]],c.push(r.apply(e,i)),d)return d=n,c;for(l=0;l<h;l++)if("zIndex"in(r=o[l]))if(r.zIndex==a[s]){if(c.push(r.apply(e,i)),d)break;do{if((r=u[a[++s]])&&c.push(r.apply(e,i)),d)break}while(r)}else u[r.zIndex]=r;else if(c.push(r.apply(e,i)),d)break;return d=n,p=f,c})._events=b,T.listeners=function(t){var e,r,n,i,o,s,a,u,c=x(t)?t:t.split(y),f=b,l=[f],h=[];for(i=0,o=c.length;i<o;i++){for(u=[],s=0,a=l.length;s<a;s++)for(r=[(f=l[s].n)[c[i]],f["*"]],n=2;n--;)(e=r[n])&&(u.push(e),h=h.concat(e.f||[]));l=u}return h},T.separator=function(t){y=t?(t="["+(t=E(t).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",new RegExp(t)):/[\.\/]/},T.on=function(t,s){if("function"!=typeof s)return function(){};for(var e=x(t)?x(t[0])?t:[t]:E(t).split(v),r=0,n=e.length;r<n;r++)!function(t){for(var e,r=x(t)?t:E(t).split(y),n=b,i=0,o=r.length;i<o;i++)n=(n=n.n).hasOwnProperty(r[i])&&n[r[i]]||(n[r[i]]={n:{}});for(n.f=n.f||[],i=0,o=n.f.length;i<o;i++)if(n.f[i]==s){e=!0;break}!e&&n.f.push(s)}(e[r]);return function(t){+t==+t&&(s.zIndex=+t)}},T.f=function(t){var e=[].slice.call(arguments,1);return function(){T.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},T.stop=function(){d=1},T.nt=function(t){var e=x(p)?p.join("."):p;return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},T.nts=function(){return x(p)?p:p.split(y)},T.off=T.unbind=function(t,e){if(t){var r=x(t)?x(t[0])?t:[t]:E(t).split(v);if(1<r.length)for(var n=0,i=r.length;n<i;n++)T.off(r[n],e);else{r=x(t)?t:E(t).split(y);var o,s,a,u,c,f=[b],l=[];for(n=0,i=r.length;n<i;n++)for(u=0;u<f.length;u+=a.length-2){if(a=[u,1],o=f[u].n,"*"!=r[n])o[r[n]]&&(a.push(o[r[n]]),l.unshift({n:o,name:r[n]}));else for(s in o)o[g](s)&&(a.push(o[s]),l.unshift({n:o,name:s}));f.splice.apply(f,a)}for(n=0,i=f.length;n<i;n++)for(o=f[n];o.n;){if(e){if(o.f){for(u=0,c=o.f.length;u<c;u++)if(o.f[u]==e){o.f.splice(u,1);break}!o.f.length&&delete o.f}for(s in o.n)if(o.n[g](s)&&o.n[s].f){var h=o.n[s].f;for(u=0,c=h.length;u<c;u++)if(h[u]==e){h.splice(u,1);break}!h.length&&delete o.n[s].f}}else for(s in delete o.f,o.n)o.n[g](s)&&o.n[s].f&&delete o.n[s].f;o=o.n}t:for(n=0,i=l.length;n<i;n++){for(s in(o=l[n]).n[o.name].f)continue t;for(s in o.n[o.name].n)continue t;delete o.n[o.name]}}}else T._events=b={n:{}}},T.once=function(t,e){var r=function(){return T.off(t,r),e.apply(this,arguments)};return T.on(t,r)},T.version="0.5.4",T.toString=function(){return"You are running Eve 0.5.4"},n.eve=T,void 0!==e&&e.exports?e.exports=T:"function"==typeof define&&define.amd?define("eve",[],function(){return T}):n.eve=T},{}],70:[function(t,e,r){var u=Object.create||function(t){var e=function(){};return e.prototype=t,new e},s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return r},o=Function.prototype.bind||function(t){var e=this;return function(){return e.apply(t,arguments)}};function n(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=u(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}((e.exports=n).EventEmitter=n).prototype._events=void 0,n.prototype._maxListeners=void 0;var i,a=10;try{var c={};Object.defineProperty&&Object.defineProperty(c,"x",{value:0}),i=0===c.x}catch(t){i=!1}function f(t){return void 0===t._maxListeners?n.defaultMaxListeners:t._maxListeners}function l(t,e,r,n){var i,o,s;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((o=t._events)?(o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]):(o=t._events=u(null),t._eventsCount=0),s){if("function"==typeof s?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),!s.warned&&(i=f(t))&&0<i&&s.length>i){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+' "'+String(e)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",a.name,a.message)}}else s=o[e]=r,++t._eventsCount;return t}function h(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];this.listener.apply(this.target,t)}}function p(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=o.call(h,n);return i.listener=r,n.wrapFn=i}function d(t,e,r){var n=t._events;if(!n)return[];var i=n[e];return i?"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):y(i,i.length):[]}function g(t){var e=this._events;if(e){var r=e[t];if("function"==typeof r)return 1;if(r)return r.length}return 0}function y(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}i?Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||t!=t)throw new TypeError('"defaultMaxListeners" must be a positive number');a=t}}):n.defaultMaxListeners=a,n.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},n.prototype.getMaxListeners=function(){return f(this)},n.prototype.emit=function(t){var e,r,n,i,o,s,a="error"===t;if(s=this._events)a=a&&null==s.error;else if(!a)return!1;if(a){if(1<arguments.length&&(e=arguments[1]),e instanceof Error)throw e;var u=new Error('Unhandled "error" event. ('+e+")");throw u.context=e,u}if(!(r=s[t]))return!1;var c="function"==typeof r;switch(n=arguments.length){case 1:!function(t,e,r){if(e)t.call(r);else for(var n=t.length,i=y(t,n),o=0;o<n;++o)i[o].call(r)}(r,c,this);break;case 2:!function(t,e,r,n){if(e)t.call(r,n);else for(var i=t.length,o=y(t,i),s=0;s<i;++s)o[s].call(r,n)}(r,c,this,arguments[1]);break;case 3:!function(t,e,r,n,i){if(e)t.call(r,n,i);else for(var o=t.length,s=y(t,o),a=0;a<o;++a)s[a].call(r,n,i)}(r,c,this,arguments[1],arguments[2]);break;case 4:!function(t,e,r,n,i,o){if(e)t.call(r,n,i,o);else for(var s=t.length,a=y(t,s),u=0;u<s;++u)a[u].call(r,n,i,o)}(r,c,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),o=1;o<n;o++)i[o-1]=arguments[o];!function(t,e,r,n){if(e)t.apply(r,n);else for(var i=t.length,o=y(t,i),s=0;s<i;++s)o[s].apply(r,n)}(r,c,this,i)}return!0},n.prototype.on=n.prototype.addListener=function(t,e){return l(this,t,e,!1)},n.prototype.prependListener=function(t,e){return l(this,t,e,!0)},n.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,p(this,t,e)),this},n.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,p(this,t,e)),this},n.prototype.removeListener=function(t,e){var r,n,i,o,s;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=u(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,o=r.length-1;0<=o;o--)if(r[o]===e||r[o].listener===e){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(t,e){for(var r=e,n=r+1,i=t.length;n<i;r+=1,n+=1)t[r]=t[n];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),n.removeListener&&this.emit("removeListener",t,s||e)}return this},n.prototype.removeAllListeners=function(t){var e,r,n;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=u(null),this._eventsCount=0):r[t]&&(0==--this._eventsCount?this._events=u(null):delete r[t]),this;if(0===arguments.length){var i,o=s(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=u(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(e)for(n=e.length-1;0<=n;n--)this.removeListener(t,e[n]);return this},n.prototype.listeners=function(t){return d(this,t,!0)},n.prototype.rawListeners=function(t){return d(this,t,!1)},n.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):g.call(t,e)},n.prototype.listenerCount=g,n.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}},{}],71:[function(t,e,r){r.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,f=-7,l=r?i-1:0,h=r?-1:1,p=t[e+l];for(l+=h,o=p&(1<<-f)-1,p>>=-f,f+=a;0<f;o=256*o+t[e+l],l+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;0<f;s=256*s+t[e+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=c}return(p?-1:1)*s*Math.pow(2,o-n)},r.write=function(t,e,r,n,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),2<=(e+=1<=s+l?h/u:h*Math.pow(2,1-l))*u&&(s++,u/=2),f<=s+l?(a=0,s=f):1<=s+l?(a=(e*u-1)*Math.pow(2,i),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));8<=i;t[r+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;0<c;t[r+p]=255&s,p+=d,s/=256,c-=8);t[r+p-d]|=128*g}},{}],72:[function(t,e,r){arguments[4][2][0].apply(r,arguments)},{dup:2}],73:[function(t,e,r){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}e.exports=function(t){return null!=t&&(n(t)||"function"==typeof(e=t).readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))||!!t._isBuffer);var e}},{}],74:[function(t,e,r){var n={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},{}],75:[function(require,module,exports){"use strict";var Snap=require("snapsvg"),Projection=require("./projection"),AnimationWidget=require("../src/animationwidget"),Animate={};function applyMasks(n){n.selectAll('*[id*="mask_"]').forEach(function(t){var e=t.node.id,r=e.substring(e.indexOf("mask_")+5);n.select("#"+r).attr({mask:t})})}function bindVariables(t,e){for(var r in e){t._vars.hasOwnProperty(r)||(t._vars[r]=[]);for(var n=e[r],i=0;i<n.length;++i){var o=n[i];if("string"==typeof o){var s=t._s.select("#"+o);t._vars[r].push(function(t){s.node.textContent=t})}else o.hasOwnProperty("element")?t._vars[r].push(t.getProgress(o.element,o.path)):t.setTrigger({trigger:r,func:o.do,model:o.model,resolve:o.resolve})}}}function parsePaths(t){var e={};return t.forEach(function(t){e[t.node.id]=t}),e}function bindStyle(r,n){r.style=document.createElement("style"),n.match(/#[^\}]+\{/g).forEach(function(t){var e=t.match(/#\w+/)[0];n=n.replace(e,"#"+r.id+"_"+e.slice(1))}),r.style.textContent=n}function parseXMLMap(t,e){for(var r={},n=0;n<t.children.length;++n){var i=t.children[n],o=i.getElementsByTagName("variable")[0].textContent;r[o]=[];for(var s=i.getElementsByTagName("targets")[0].children,a=0;a<s.length;++a){var u=s[a];if(0!==u.children.length){for(var c={model:e},f=0;f<u.children.length;++f){var l=u.children[f],h=void 0;if("resolve"==l.nodeName){h=[];for(var p=0;p<l.children.length;++p){var d=l.children[p];h.push(d.textContent.trim())}}else h=l.textContent.trim();c[l.nodeName]=h}r[o].push(c)}else r[o].push(u.textContent.trim())}}return r}function parseXMLoops(t){for(var e=[],r=0;r<t.children.length;++r){var n=t.children[r],i=n.getElementsByTagName("element")[0].textContent.trim(),o=n.getElementsByTagName("path")[0].textContent.trim(),s=n.getElementsByTagName("duration")[0].textContent.trim();e.push({element:i,path:o,duration:s})}return e}function Animation(t){this._element=t,this._loops={},this._cons={},this._model={},this._vars={}}Animate.createElement=function(t,e,r){if(void 0===e||!e.parent&&!e.id)throw Error("Either 'parent' or 'id' has to be passed in 'params'");var n=this;if(t instanceof SVGSVGElement){var i=Snap.parse((new XMLSerializer).serializeToString(t));n.processSnap(i,e,r)}else t.startsWith("<svg")?n.processSnap(Snap.parse(t),e,r):t.endsWith(".xml")?n._loadElement(t,e,r):Snap.load(t,function(t){n.processSnap(t,e,r)})},Animate.createWidget=function(t,n,i){Animate.createElement(t,n,function(t,e){if(t)return i(t,void 0);n.animation=e;var r=new AnimationWidget(n);i(t,r)})},Animate._loadElement=function(u,c,f){var l=new XMLHttpRequest,h=this;(c=c||{}).model=c.model||{},l.onreadystatechange=function(){if(4==l.readyState&&200==l.status){var t=l.responseXML,e=t.getElementsByTagName("animation")[0],r=t.getElementsByTagName("style");0<r.length&&(c.style=r[0].textContent);var n=t.getElementsByTagName("maps");0<n.length&&(c.map=parseXMLMap(n[0],c.model));var i=t.getElementsByTagName("loops");0<i.length&&(c.loops=parseXMLoops(i[0]));var o=e.getElementsByTagName("svg")[0];if(0<o.children.length){var s=Snap.parse((new XMLSerializer).serializeToString(o));h.processSnap(s,c,f)}else{if(!(o=o.textContent).startsWith("/")){var a=u.split("/");a.pop(),o=(a=a.join("/"))+"/"+o}Snap.load(o,function(t){h.processSnap(t,c,f)})}}},l.open("GET",u,!0),l.send()},Animate.createProjection=function(t,e){return new Projection(t,e)},Animate.processSnap=function(t,e,r){e.loops=e.loops||[];var n=t.select("#import");n||r(Error("Could not parse SVG. Maybe there was no #import group?"),null);var i=parsePaths(t.selectAll("path")),o=n.node.viewportElement.viewBox.baseVal;o=o||{width:800,height:600};var s=new Animation(n);s._paths=i,e.parent?(s.initSnap(Snap("#"+e.parent)),s.id=e.parent,null===s._s.attr("width")&&s._s.attr({width:o.width,height:o.height})):(s.initSnap(Snap(o.width,o.height)),s._s.node.id=e.id,s.id=e.id);var a=t.select("defs");a&&a.children().forEach(function(t){s._s.append(t),t.toDefs()});for(var u=0;u<e.loops.length;++u){var c=e.loops[u];s.addLoop(c.element,c.path,c.duration)}e.map&&bindVariables(s,e.map),applyMasks(n),s._s.selectAll("#import *, #import").forEach(function(t){t.node.id=s.id+"_"+t.node.id}),e.style&&(bindStyle(s,e.style),document.head.appendChild(s.style),s.applyTextAlign()),s.start(),r&&r(null,s)},Animation.prototype.initSnap=function(t){this._s=t,this._s.append(this._element),this._s.attr({class:this._s.attr("class")+" animate"})},Animation.prototype.set=function(t,e,r){t in this._vars&&this._vars[t].forEach(function(t){t(e)}),t in this._cons&&this._cons[t](e,r)},Animation.prototype.start=function(t,e){var r=t?[this._loops[t]]:this._loops;for(var n in r)if(r.hasOwnProperty(n)){var i=r[n];i.hasOwnProperty("control")&&i.control.stop(),this._tween({element:i.element,path:i.path,duration:i.duration,looped:!e||e.looped,offset:{x:-i.center.x,y:-i.center.y}},i)}},Animation.prototype.align=function(t,e){if(-1!==["start","middle","end"].indexOf(e)){var r='text[id$="'+t+'"]',n=this._element.select(r);if(n){var i=n.attr("text-anchor");if(e==i)return;var o=0;o="end"==e?"start"==i?1:.5:"middle"==e?"end"==i?-.5:.5:"end"==i?-1:-.5;var s=n.getBBox();n.attr({x:parseFloat(n.attr("x"))+o*s.width+"px","text-anchor":e})}}},Animation.prototype.stop=function(t){var e=t?[this._loops[t]]:this._loops;for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];n.hasOwnProperty("control")&&n.control.stop()}},Animation.prototype.resume=function(t){var e=t?[this._loops[t]]:this._loops;for(var r in e)if(e.hasOwnProperty(r)){var n=e[r],i=n.control.s*n.control.end;n.control.stop(),this._tween({element:n.element,path:n.path,duration:n.duration,start:i,looped:!0,offset:{x:-n.center.x,y:-n.center.y}},n)}},Animation.prototype.addLoop=function(t,e,r){var n=this._element.select("#"+t),i=n.getBBox(),o={x:i.x+i.width/2,y:i.y+i.height/2};window.element=n,this._loops[t]={element:n,duration:r,center:o,path:Snap.path.toAbsolute(this._paths[e])}},Animation.prototype.getProgress=function(t,e){var n=this._element.select("#"+t),i=this._paths[e],o=Snap.path.getTotalLength(i),r=n.getBBox(),s=r.x+r.width/2,a=r.y+r.height/2;return function(t){var e=Snap.path.getPointAtLength(i,Math.max(t,0)*o),r=new Snap.Matrix;r.translate(e.x-s,e.y-a),n.transform(r)}},Animation.prototype._tween=function(n,t){var e,r=this,i=n.start||0,o=n.duration||1e3,s=n.looped||!1,a=n.offset||0;e=s?function(){r._tween({path:n.path,element:n.element,start:0,duration:o,looped:s,offset:a},t)}:function(){};var u=Snap.path.getTotalLength(n.path),c=(u-i)/u;t.control=Snap.animate(i,u,function(t){var e=Snap.path.getPointAtLength(n.path,t),r=new Snap.Matrix;r.translate(e.x+a.x,e.y+a.y),n.element.transform(r)},o*c,mina.linear,e)},Animation.prototype.moveTo=function(t,e){this._s.attr({style:"transform:translate("+t+"px,"+e+"px);"})},Animation.prototype.setTrigger=function(params){for(var tmp,variable=params.trigger,resolve=params.resolve||[],tmpFunc="tmp = function(model, newVal, oldVal) {\n",j=0;j<resolve.length;++j){var v=resolve[j];tmpFunc+="var "+v+' = this._element.select("#'+this.id+"_"+v+'");\n'}tmpFunc+=params.func,tmpFunc+="}",eval(tmpFunc),this._cons[variable]=tmp.bind(this,params.model)},Animation.prototype.applyTextAlign=function(){var r=this;this._element.selectAll("text").forEach(function(t){var e=window.getComputedStyle(t.node).textAlign;e="right"==e?"end":"left"==e?"start":"center"==e?"middle":e,r.align(t.node.id,e)})},module.exports=Animate},{"../src/animationwidget":76,"./projection":77,snapsvg:102}],76:[function(t,e,r){"use strict";function n(t){if(!t.projection)throw Error("Parameter 'projection' has not been passed to AnimationWidget.");if(t.parent)throw Error("AnimationWidget supports only 'id'");t.timeout&&(this.timeout=t.timeout,this.timeoutTimer=0),this.projection=t.projection,this.animation=t.animation,this.useObjectReference=t.useObjectReference,this.moveToReference=t.moveToReference,this.projection.overlay.appendChild(document.getElementById(t.id)),this.reset()}n.prototype._update=function(t){var e=this.animation.model;if(this.animation.model=JSON.parse(JSON.stringify(t)),this.timeout){clearTimeout(this.timeoutTimer);var r=this;this.timeoutTimer=setTimeout(function(){r.update(t)},this.timeout)}for(var n in this.useObjectReference&&(this.animation.model.object_reference=this.projection.resolveObjectReference(t.object_reference,!0),this.moveToReference&&this.animation.moveTo(this.animation.model.object_reference.left-this.animation._s.attr("width")/2,this.animation.model.object_reference.top-this.animation._s.attr("height")/2)),this.animation._vars)if(t.hasOwnProperty(n)&&null!==t[n]){var i=e?e[n]:void 0,o=t[n];this.animation.set(n,o,i)}},n.prototype.reset=function(){this.animation._element.attr({style:"visibility: hidden;"}),this.animation.model=void 0,this.timeout&&clearTimeout(this.timeout),this.update=function(t){this.animation._element.attr({style:""}),this.update=this._update,this.update(t)}},e.exports=n},{}],77:[function(t,e,r){"use strict";function i(t,e){if(!t||!t.parent)throw Error("No parent element has been provided!");(this.config=t).surface&&t.screen||(this.mapCoords=function(t,e){return{x:t,y:e}},parent=document.getElementById(t.parent),this.config.screen={width:parent.offsetWidth,height:parent.offsetHeight},delete this.config.surface),this.mapping={},this.widgets={},this.model=e||{}}function O(t){return[t[4]*t[8]-t[5]*t[7],t[2]*t[7]-t[1]*t[8],t[1]*t[5]-t[2]*t[4],t[5]*t[6]-t[3]*t[8],t[0]*t[8]-t[2]*t[6],t[2]*t[3]-t[0]*t[5],t[3]*t[7]-t[4]*t[6],t[1]*t[6]-t[0]*t[7],t[0]*t[4]-t[1]*t[3]]}function B(t,e){for(var r=Array(9),n=0;3!=n;++n)for(var i=0;3!=i;++i){for(var o=0,s=0;3!=s;++s)o+=t[3*n+s]*e[3*s+i];r[3*n+i]=o}return r}function P(t,e,r,n,i,o,s,a){var u,c,f=[t,r,i,e,n,o,1,1,1],l=(u=O(f),c=[s,a,1],[u[0]*c[0]+u[1]*c[1]+u[2]*c[2],u[3]*c[0]+u[4]*c[1]+u[5]*c[2],u[6]*c[0]+u[7]*c[1]+u[8]*c[2]]);return B(f,[l[0],0,0,0,l[1],0,0,0,l[2]])}i.ELEM="<div id='container_{0}'><canvas id='projection_{0}' class='kogni-projection' width='{1}px' height='{2}px'></canvas><div id='overlay_{0}' class='kogni-overlay' style=\"width:{1}px; height:{2}px;\"></div></div>",i.CALIB=' <div id="marker0" class="calib-active calib-corner">TL</div> <div id="marker1" class="calib-corner">TR</div> <div id="marker3" class="calib-corner">BL</div> <div id="marker2" class="calib-corner">BR</div>',i.prototype._init=function(){this.target=this.config.parent;var t=document.createElement("template");t.innerHTML=i.ELEM.format(this.target,this.config.screen.width,this.mapping.screenHeight||this.config.screen.height),document.getElementById(this.target).appendChild(t.content.firstChild);var e=document.getElementById("projection_"+this.target),r=document.getElementById("overlay_"+this.target);this.canvas=e,this.overlay=r},i.prototype.init=function(){this.config.surface&&(this.mapping.surfaceWidth=this.config.surface.width,this.mapping.surfaceHeight=this.config.surface.height,this.mapping.screenWidth=this.config.screen.width,this.mapping.screenHeight=Math.floor(this.mapping.screenWidth/this.mapping.surfaceWidth*this.mapping.surfaceHeight),this.mapping.offsetX=this.config.surface.origin.x*this.mapping.screenWidth,this.mapping.offsetY=this.config.surface.origin.y*this.mapping.screenHeight),this._init();var t=this.config.matrix,e=localStorage.getItem("matrix");this.config.preferCachedMatrix&&e&&(t=e),t&&(t="matrix3d("+t+")",this.canvas.style["-webkit-transform"]=t,this.canvas.style["-moz-transform"]=t,this.canvas.style["-o-transform"]=t,this.canvas.style.transform=t)},i.prototype.saveCalibration=function(){var t=document.getElementById("projection_"+this.target).style.transform;t=t.substring(9,t.length-1),localStorage.setItem("matrix",t)},i.prototype.calibrate=function(){this.corners=[{x:100,y:100},{x:500,y:100},{x:500,y:500},{x:100,y:500}],this.currentCorner=0;var t=document.createElement("template");t.innerHTML=i.CALIB;var e=t.content.children,r=document.getElementById("container_"+this.target);if(null===r)throw new Error("Projection container not found. Did you call init() of the projection?");for(;e.length;)r.appendChild(e[0]);document.getElementById("projection_"+this.target).style.border="solid red 2px";var n=this;window.addEventListener("dblclick",function(t){n.corners[n.currentCorner].x=t.pageX,n.corners[n.currentCorner].y=t.pageY,n._update()}),window.addEventListener("keydown",function(t){if(83==t.keyCode)n.saveCalibration();else if(37===t.keyCode)n.corners[n.currentCorner].x-=1;else if(38===t.keyCode)n.corners[n.currentCorner].y-=1;else if(39===t.keyCode)n.corners[n.currentCorner].x+=1;else if(40===t.keyCode)n.corners[n.currentCorner].y+=1;else if(32===t.keyCode){var e=document.getElementById("marker"+n.currentCorner);e.className="calib-corner",n.currentCorner=(n.currentCorner+1)%4,(e=document.getElementById("marker"+n.currentCorner)).className="calib-active calib-corner"}n._update()},!1),this.ctx=document.getElementById("projection_"+this.target).getContext("2d"),this.ctx.font="48px sans",this.ctx.fillStyle="white",this.ctx.fillText("double click -- move marker to mouse position",300,100),this.ctx.fillText("arrow keys -- move marker up/down/left/right",300,150),this.ctx.fillText("space -- switch marker clockwise",300,200),this.ctx.fillText("s -- save transformation matrix",300,250),this._update()},i.prototype._update=function(){var t=document.getElementById("projection_"+this.target);for(var e in function(t,e,r,n,i,o,s,a,u){for(var c=t.offsetWidth,f=t.offsetHeight,l=(p=0,d=0,g=e,y=r,v=c,m=0,b=n,w=i,_=0,E=f,x=o,T=s,S=c,A=f,I=a,k=u,C=void 0,C=P(p,d,v,m,_,E,S,A),B(P(g,y,b,w,x,T,I,k),O(C))),h=0;9!=h;++h)l[h]=l[h]/l[8];var p,d,g,y,v,m,b,w,_,E,x,T,S,A,I,k,C;l="matrix3d("+(l=[l[0],l[3],0,l[6],l[1],l[4],0,l[7],0,0,1,0,l[2],l[5],0,l[8]]).join(", ")+")",t.style["-webkit-transform"]=l,t.style["-moz-transform"]=l,t.style["-o-transform"]=l,t.style.transform=l}(t,this.corners[0].x,this.corners[0].y,this.corners[1].x,this.corners[1].y,this.corners[3].x,this.corners[3].y,this.corners[2].x,this.corners[2].y),this.corners){var r=document.getElementById("marker"+e);r.style.left=this.corners[e].x+"px",r.style.top=this.corners[e].y+"px"}},i.prototype.showCoords=function(){for(var t=this.canvas.getContext("2d"),e=this.config.surface,r=e.width*e.origin.x,n=e.height*e.origin.y,i=e.width/10,o=e.height/10,s=-r;s<=e.width-r;s+=i)for(var a=-e.height+n;a<=n;a+=o){var u=this.mapCoords(s,a);t.beginPath(),t.arc(u[0],u[1],5,0,2*Math.PI,!0),t.fillStyle="green",t.fill(),t.fillStyle="white",t.fillText("  ({0},{1})".format(s,a),u[0],u[1])}},i.prototype.mapCoords=function(t,e){return[t/this.mapping.surfaceWidth*this.mapping.screenWidth+this.mapping.offsetX,this.mapping.offsetY-e/this.mapping.surfaceHeight*this.mapping.screenHeight]},i.prototype.addOverlay=function(t){var e=document.createElement("div");return e.id=t,e.classList.add("overlay-child"),this.overlay.appendChild(e),e},i.prototype.addWidget=function(t,e){e=e||"widget_"+this.widgets.length,(this.widgets[e]=t).reset()},i.prototype.resetWidgets=function(){for(var t in this.widgets)this.widgets[t].reset()},i.prototype.resolveObjectReference=function(e,t){var r;if(t=t||!1,e.object&&e.object.box)(r=this._aabbToView(e.object.box,t)).id=e.object.object_id,r.temperature=e.object.object_temperature_celsius,r.box=e.object.box;else if(e.object_id){var n=this.model.detection.objects.filter(function(t){return t.object_id.type===e.object_id.type});if(1!==n.length){if(e.pos)r={left:(i=this.mapCoords(e.pos.x,e.pos.y))[0],top:i[1],id:null,box:null};else console.log("do not know this object with type "+e.object_id.type),r={id:e.object_id,top:-1e3,left:-1e3,box:null};return r}n=n[0],(r=this._aabbToView(n.box,t)).id=n.object_id,r.temperature=n.object_temperature_celsius,r.box=n.box}else{var i;r={left:(i=this.mapCoords(e.pos.x,e.pos.y))[0],top:i[1],id:null,box:null}}return r},i.prototype._aabbToView=function(t,e){e=e||!1;var r=this.mapCoords(t.left_front_bottom.x+t.width,t.left_front_bottom.y+t.depth),n=this.mapCoords(t.left_front_bottom.x,t.left_front_bottom.y),i=r[0]-n[0],o=n[1]-r[1];return e&&(n[0]=n[0]+i/2,r[1]=r[1]+o/2),{left:n[0],top:r[1],width:i,height:o}},String.prototype.format||(String.prototype.format=function(){var r=arguments;return this.replace(/{(\d+)}/g,function(t,e){return void 0!==r[e]?r[e]:t})}),e.exports=i},{}],78:[function(t,e,r){var n=t("autobahn"),o=t("protobufjs");function u(t){this.wasConnected=!1,this.wsuri=void 0,this.connection=void 0,this.wamp=void 0,this.errorCount=0,this.wampSession=void 0,this.rstPath=" ",this.informers=void 0}function i(e){this.rsb=e.rsb,this.type=e.type,this.block=!1,this.wampScope=e.scope.substring(1,e.scope.length).replace(/\//g,"."),-1==u.SIMPLE_TYPES.indexOf(e.type)?(this.Proto=u.createProto(this.type),this.publish=function(t){if(this.block)this.block=!1;else{var e=Object.getPrototypeOf(t).hasOwnProperty("$type")?t:new this.Proto(t);this.rsb.wamp.publish(this.wampScope,["\0"+e.encode64()])}}):this.publish=function(t){this.block?this.block=!1:this.rsb.wamp.publish(this.wampScope,[t])};var r=this;this.rsb.wamp.call("service.displayserver.register",[e.scope,e.type]).then(function(t){e.callback&&e.callback(void 0,t,r)},function(t){e.callback&&e.callback(t,void 0,r)})}function s(t,e){this.wamp=t,this.scope=e}u.STRING="string",u.FLOAT="float",u.DOUBLE="float",u.SIMPLE_TYPES=[u.STRING,u.FLOAT,u.INTEGER="integer",u.BOOL="bool"],u.createProto=function(t){var e=void 0;if(!e){var r={root:"/proto",file:t.replace(/\./g,"/")+".proto"};if(!(e=o.loadProtoFile(r))){var n={root:r.root+"/sandbox",file:r.file};if(!(e=o.loadProtoFile(n))){var i={root:r.root+"/stable",file:r.file};e=o.loadProtoFile(i)}}}if(!e)throw Error("Proto file "+t+" not found");return e=e.build(t)},u.getDefault=function(t){return t==u.STRING?"":t==u.FLOAT?0:t==u.INTEGER?0:t!=u.BOOL&&new(u.createProto(t))},u.prototype.connect=function(t,i){var o=!1;t?this.wsuri="ws://"+t+"/ws":"file:"==document.location.protocol?this.wsuri="ws://127.0.0.1:8080/ws":this.wsuri=("http:"===document.location.protocol?"ws:":"wss:")+"//"+document.location.host+"/ws",this.connection=new n.Connection({url:this.wsuri,realm:"realm1",retry_if_unreachable:!1});var s=this;this.connection.onopen=function(t,e){clearTimeout(a),console.log("Connection established: ",e),s.wamp=t,s.wampSession=t,console.log("Reset previous subscriptions...");for(var r=t.subscriptions||[],n=0;n<r.length;++n)this.wamp.unsubscribe(r[n]);this.wasConnected=!0,o||(o=!0,i())};var e=this,a=setTimeout(function(){e.connection.close(),e.connection.onclose("unreachable","timeout")},4e3);this.connection.onclose=function(t,e){clearTimeout(a),"unreachable"==t?o||(o=!0,i(Error("Host unreachable"))):console.log("Connection lost",t)},this.connection.open()},u.prototype.createPingPong=function(){if(!this.isConnected())throw Error("WAMP/RSB connection is not established!");var e=this.wamp;return e.subscribe("com.wamp.ping",function(t){-1<t.indexOf("ping")&&e.publish("com.wamp.ping",["pong"])})},u.prototype.createListener=function(o){if(!this.isConnected())throw Error("WAMP/RSB connection is not established!");var s=this;return new Promise(function(e,r){var t,n=o.scope.substring(1,o.scope.length).replace(/\//g,".");if(-1==u.SIMPLE_TYPES.indexOf(o.type)){var i=u.createProto(o.type);t=function(t){try{var e=t[0],r=i.decode64(e.substring(1));o.callback(r)}catch(t){console.log("Error on scope",n,t)}}}else t=function(t){o.callback(t[0])};Promise.all([s.wamp.subscribe(n,t),s.wamp.call("service.displayserver.register",[o.scope,o.type])]).then(function(t){e(t)},function(t){r(t)})})},u.prototype.createInformer=function(t){if(!this.isConnected())throw Error("WAMP/RSB connection is not established!");return new i({rsb:this,scope:t.scope,type:t.type,callback:t.callback})},u.prototype.isConnected=function(){return!!this.wampSession&&this.wampSession.isOpen},s.prototype.addMethod=function(e){var i,o;if(-1==u.SIMPLE_TYPES.indexOf(e.input)){var r=u.createProto(e.input);i=function(t){return"\0"+(Object.getPrototypeOf(t).hasOwnProperty("$type")?t:new r(t)).encode64()}}else i=function(t){return t};if(-1==u.SIMPLE_TYPES.indexOf(e.output)){var n=u.createProto(e.output);o=function(t){return n.decode64(t.substring(1))}}else o=function(t){return t};var s=this.wamp,a=this.scope;this[e.name]=function(t){return new Promise(function(r,n){s.call("service.displayserver.call",[a,e.name,i(t),e.input,e.output]).then(function(t){try{var e=o(t);r(e)}catch(t){n(t)}}).catch(function(t){n(t)})})}},u.prototype.createRemoteServer=function(t){if(!this.isConnected())throw Error("WAMP/RSB connection is not established!");return new s(this.wamp,t)},e.exports=u},{autobahn:5,protobufjs:86}],79:[function(t,e,r){var n,i;n=this,i=function(){"use strict";function n(t,e,r){this.low=0|t,this.high=0|e,this.unsigned=!!r}function p(t){return!0===(t&&t.__isLong__)}Object.defineProperty(n.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),n.isLong=p;var o={},s={};function t(t,e){var r,n,i;return e?(i=0<=(t>>>=0)&&t<256)&&(n=s[t])?n:(r=g(t,(0|t)<0?-1:0,!0),i&&(s[t]=r),r):(i=-128<=(t|=0)&&t<128)&&(n=o[t])?n:(r=g(t,t<0?-1:0,!1),i&&(o[t]=r),r)}function d(t,e){if(isNaN(t)||!isFinite(t))return e?u:m;if(e){if(t<0)return u;if(i<=t)return _}else{if(t<=-a)return E;if(a<=t+1)return w}return t<0?d(-t,e).neg():g(t%r|0,t/r|0,e)}function g(t,e,r){return new n(t,e,r)}n.fromInt=t,n.fromNumber=d,n.fromBits=g;var f=Math.pow;function l(t,e,r){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return m;if(e="number"==typeof e?(r=e,!1):!!e,(r=r||10)<2||36<r)throw RangeError("radix");var n;if(0<(n=t.indexOf("-")))throw Error("interior hyphen");if(0===n)return l(t.substring(1),e,r).neg();for(var i=d(f(r,8)),o=m,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+a),r);if(a<8){var c=d(f(r,a));o=o.mul(c).add(d(u))}else o=(o=o.mul(i)).add(d(u))}return o.unsigned=e,o}function y(t){return t instanceof n?t:"number"==typeof t?d(t):"string"==typeof t?l(t):g(t.low,t.high,t.unsigned)}n.fromString=l,n.fromValue=y;var r=4294967296,i=r*r,a=i/2,v=t(1<<24),m=t(0);n.ZERO=m;var u=t(0,!0);n.UZERO=u;var c=t(1);n.ONE=c;var h=t(1,!0);n.UONE=h;var b=t(-1);n.NEG_ONE=b;var w=g(-1,2147483647,!1);n.MAX_VALUE=w;var _=g(-1,-1,!0);n.MAX_UNSIGNED_VALUE=_;var E=g(0,-2147483648,!1);n.MIN_VALUE=E;var e=n.prototype;return e.toInt=function(){return this.unsigned?this.low>>>0:this.low},e.toNumber=function(){return this.unsigned?(this.high>>>0)*r+(this.low>>>0):this.high*r+(this.low>>>0)},e.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(E)){var e=d(t),r=this.div(e),n=r.mul(e).sub(this);return r.toString(t)+n.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var i=d(f(t,6),this.unsigned),o=this,s="";;){var a=o.div(i),u=(o.sub(a.mul(i)).toInt()>>>0).toString(t);if((o=a).isZero())return u+s;for(;u.length<6;)u="0"+u;s=""+u+s}},e.getHighBits=function(){return this.high},e.getHighBitsUnsigned=function(){return this.high>>>0},e.getLowBits=function(){return this.low},e.getLowBitsUnsigned=function(){return this.low>>>0},e.getNumBitsAbs=function(){if(this.isNegative())return this.eq(E)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;0<e&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},e.isZero=function(){return 0===this.high&&0===this.low},e.isNegative=function(){return!this.unsigned&&this.high<0},e.isPositive=function(){return this.unsigned||0<=this.high},e.isOdd=function(){return 1==(1&this.low)},e.isEven=function(){return 0==(1&this.low)},e.equals=function(t){return p(t)||(t=y(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},e.eq=e.equals,e.notEquals=function(t){return!this.eq(t)},e.neq=e.notEquals,e.lessThan=function(t){return this.comp(t)<0},e.lt=e.lessThan,e.lessThanOrEqual=function(t){return this.comp(t)<=0},e.lte=e.lessThanOrEqual,e.greaterThan=function(t){return 0<this.comp(t)},e.gt=e.greaterThan,e.greaterThanOrEqual=function(t){return 0<=this.comp(t)},e.gte=e.greaterThanOrEqual,e.compare=function(t){if(p(t)||(t=y(t)),this.eq(t))return 0;var e=this.isNegative(),r=t.isNegative();return e&&!r?-1:!e&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},e.comp=e.compare,e.negate=function(){return!this.unsigned&&this.eq(E)?E:this.not().add(c)},e.neg=e.negate,e.add=function(t){p(t)||(t=y(t));var e=this.high>>>16,r=65535&this.high,n=this.low>>>16,i=65535&this.low,o=t.high>>>16,s=65535&t.high,a=t.low>>>16,u=0,c=0,f=0,l=0;return f+=(l+=i+(65535&t.low))>>>16,c+=(f+=n+a)>>>16,u+=(c+=r+s)>>>16,u+=e+o,g((f&=65535)<<16|(l&=65535),(u&=65535)<<16|(c&=65535),this.unsigned)},e.subtract=function(t){return p(t)||(t=y(t)),this.add(t.neg())},e.sub=e.subtract,e.multiply=function(t){if(this.isZero())return m;if(p(t)||(t=y(t)),t.isZero())return m;if(this.eq(E))return t.isOdd()?E:m;if(t.eq(E))return this.isOdd()?E:m;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(v)&&t.lt(v))return d(this.toNumber()*t.toNumber(),this.unsigned);var e=this.high>>>16,r=65535&this.high,n=this.low>>>16,i=65535&this.low,o=t.high>>>16,s=65535&t.high,a=t.low>>>16,u=65535&t.low,c=0,f=0,l=0,h=0;return l+=(h+=i*u)>>>16,f+=(l+=n*u)>>>16,l&=65535,f+=(l+=i*a)>>>16,c+=(f+=r*u)>>>16,f&=65535,c+=(f+=n*a)>>>16,f&=65535,c+=(f+=i*s)>>>16,c+=e*u+r*a+n*s+i*o,g((l&=65535)<<16|(h&=65535),(c&=65535)<<16|(f&=65535),this.unsigned)},e.mul=e.multiply,e.divide=function(t){if(p(t)||(t=y(t)),t.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?u:m;var e,r,n;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return u;if(t.gt(this.shru(1)))return h;n=u}else{if(this.eq(E))return t.eq(c)||t.eq(b)?E:t.eq(E)?c:(e=this.shr(1).div(t).shl(1)).eq(m)?t.isNegative()?c:b:(r=this.sub(t.mul(e)),n=e.add(r.div(t)));else if(t.eq(E))return this.unsigned?u:m;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();n=m}for(r=this;r.gte(t);){e=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var i=Math.ceil(Math.log(e)/Math.LN2),o=i<=48?1:f(2,i-48),s=d(e),a=s.mul(t);a.isNegative()||a.gt(r);)a=(s=d(e-=o,this.unsigned)).mul(t);s.isZero()&&(s=c),n=n.add(s),r=r.sub(a)}return n},e.div=e.divide,e.modulo=function(t){return p(t)||(t=y(t)),this.sub(this.div(t).mul(t))},e.mod=e.modulo,e.not=function(){return g(~this.low,~this.high,this.unsigned)},e.and=function(t){return p(t)||(t=y(t)),g(this.low&t.low,this.high&t.high,this.unsigned)},e.or=function(t){return p(t)||(t=y(t)),g(this.low|t.low,this.high|t.high,this.unsigned)},e.xor=function(t){return p(t)||(t=y(t)),g(this.low^t.low,this.high^t.high,this.unsigned)},e.shiftLeft=function(t){return p(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?g(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):g(0,this.low<<t-32,this.unsigned)},e.shl=e.shiftLeft,e.shiftRight=function(t){return p(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?g(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):g(this.high>>t-32,0<=this.high?0:-1,this.unsigned)},e.shr=e.shiftRight,e.shiftRightUnsigned=function(t){if(p(t)&&(t=t.toInt()),0===(t&=63))return this;var e=this.high;return t<32?g(this.low>>>t|e<<32-t,e>>>t,this.unsigned):g(32===t?e:e>>>t-32,0,this.unsigned)},e.shru=e.shiftRightUnsigned,e.toSigned=function(){return this.unsigned?g(this.low,this.high,!1):this},e.toUnsigned=function(){return this.unsigned?this:g(this.low,this.high,!0)},e.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},e.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24&255,255&t,t>>>8&255,t>>>16&255,t>>>24&255]},e.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e]},n},"function"==typeof define&&define.amd?define([],i):"function"==typeof t&&"object"==typeof e&&e&&e.exports?e.exports=i():(n.dcodeIO=n.dcodeIO||{}).Long=i()},{}],80:[function(t,e,r){"use strict";var o=t("safe-buffer").Buffer,s=t("assert"),a=t("bl"),i=t("./lib/streams"),u=t("./lib/decoder"),c=t("./lib/encoder");e.exports=function(t){var r=[],n=[];return{encode:c(r,(t=t||{forceFloat64:!1,compatibilityMode:!1,disableTimestampEncoding:!1}).forceFloat64,t.compatibilityMode,t.disableTimestampEncoding),decode:u(n),register:function(n,e,i,t){return s(e,"must have a constructor"),s(i,"must have an encode function"),s(0<=n,"must have a non-negative type"),s(t,"must have a decode function"),this.registerEncoder(function(t){return t instanceof e},function(t){var e=a(),r=o.allocUnsafe(1);return r.writeInt8(n,0),e.append(r),e.append(i(t)),e}),this.registerDecoder(n,t),this},registerEncoder:function(t,e){return s(t,"must have an encode function"),s(e,"must have an encode function"),r.push({check:t,encode:e}),this},registerDecoder:function(t,e){return s(0<=t,"must have a non-negative type"),s(e,"must have a decode function"),n.push({type:t,decode:e}),this},encoder:i.encoder,decoder:i.decoder,buffer:!0,type:"msgpack5",IncompleteBufferError:u.IncompleteBufferError}}},{"./lib/decoder":81,"./lib/encoder":82,"./lib/streams":83,assert:1,bl:29,"safe-buffer":100}],81:[function(t,e,r){"use strict";var n=t("bl");function i(t){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.message=t||"unable to decode"}t("util").inherits(i,Error),e.exports=function(a){return function(t){t instanceof n||(t=n().append(t));var e=c(t);{if(e)return t.consume(e.bytesConsumed),e.value;throw new i}};function f(t,e,r){return r+t<=e}function l(t,e){return{value:t,bytesConsumed:e}}function c(t,e){e=void 0===e?0:e;var r=t.length-e;if(r<=0)return null;var n,i,o,s,a,u=t.readUInt8(e),c=0;if(s=r,-1!==(a=function(t){switch(t){case 196:return 2;case 197:return 3;case 198:return 5;case 199:return 3;case 200:return 4;case 201:return 6;case 202:return 5;case 203:return 9;case 204:return 2;case 205:return 3;case 206:return 5;case 207:return 9;case 208:return 2;case 209:return 3;case 210:return 5;case 211:return 9;case 212:return 3;case 213:return 4;case 214:return 6;case 215:return 10;case 216:return 18;case 217:return 2;case 218:return 3;case 219:return 5;case 222:return 3;default:return-1}}(u))&&s<a)return null;switch(u){case 192:return l(null,1);case 194:return l(!1,1);case 195:return l(!0,1);case 204:return l(c=t.readUInt8(e+1),2);case 205:return l(c=t.readUInt16BE(e+1),3);case 206:return l(c=t.readUInt32BE(e+1),5);case 207:for(o=7;0<=o;o--)c+=t.readUInt8(e+o+1)*Math.pow(2,8*(7-o));return l(c,9);case 208:return l(c=t.readInt8(e+1),2);case 209:return l(c=t.readInt16BE(e+1),3);case 210:return l(c=t.readInt32BE(e+1),5);case 211:return l(c=function(t,e){var r=128==(128&t[e]);if(r)for(var n=1,i=e+7;e<=i;i--){var o=(255^t[i])+n;t[i]=255&o,n=o>>8}var s=t.readUInt32BE(e+0),a=t.readUInt32BE(e+4);return(4294967296*s+a)*(r?-1:1)}(t.slice(e+1,e+9),0),9);case 202:return l(c=t.readFloatBE(e+1),5);case 203:return l(c=t.readDoubleBE(e+1),9);case 217:return f(n=t.readUInt8(e+1),r,2)?l(c=t.toString("utf8",e+2,e+2+n),2+n):null;case 218:return f(n=t.readUInt16BE(e+1),r,3)?l(c=t.toString("utf8",e+3,e+3+n),3+n):null;case 219:return f(n=t.readUInt32BE(e+1),r,5)?l(c=t.toString("utf8",e+5,e+5+n),5+n):null;case 196:return f(n=t.readUInt8(e+1),r,2)?l(c=t.slice(e+2,e+2+n),2+n):null;case 197:return f(n=t.readUInt16BE(e+1),r,3)?l(c=t.slice(e+3,e+3+n),3+n):null;case 198:return f(n=t.readUInt32BE(e+1),r,5)?l(c=t.slice(e+5,e+5+n),5+n):null;case 220:return r<3?null:h(t,e,n=t.readUInt16BE(e+1),3);case 221:return r<5?null:h(t,e,n=t.readUInt32BE(e+1),5);case 222:return p(t,e,n=t.readUInt16BE(e+1),3);case 223:return p(t,e,n=t.readUInt32BE(e+1),5);case 212:return d(t,e,1);case 213:return d(t,e,2);case 214:return d(t,e,4);case 215:return d(t,e,8);case 216:return d(t,e,16);case 199:return n=t.readUInt8(e+1),i=t.readUInt8(e+2),f(n,r,3)?g(t,e,i,n,3):null;case 200:return n=t.readUInt16BE(e+1),i=t.readUInt8(e+3),f(n,r,4)?g(t,e,i,n,4):null;case 201:return n=t.readUInt32BE(e+1),i=t.readUInt8(e+5),f(n,r,6)?g(t,e,i,n,6):null}if(144==(240&u))return h(t,e,n=15&u,1);if(128==(240&u))return p(t,e,n=15&u,1);if(160==(224&u))return f(n=31&u,r,1)?l(c=t.toString("utf8",e+1,e+n+1),n+1):null;if(224<=u)return l(c=u-256,1);if(u<128)return l(u,1);throw new Error("not implemented yet")}function h(t,e,r,n){var i,o=[],s=0;for(e+=n,i=0;i<r;i++){var a=c(t,e);if(!a)return null;o.push(a.value),e+=a.bytesConsumed,s+=a.bytesConsumed}return l(o,n+s)}function p(t,e,r,n){var i,o={},s=0;for(e+=n,i=0;i<r;i++){var a=c(t,e);if(!a)return null;var u=c(t,e+=a.bytesConsumed);if(!u)return null;o[a.value]=u.value,e+=u.bytesConsumed,s+=a.bytesConsumed+u.bytesConsumed}return l(o,n+s)}function d(t,e,r){return g(t,e,t.readInt8(e+1),r,2)}function g(t,e,r,n,i){var o,s;if(e+=i,r<0)switch(r){case-1:return function(t,e,r){var n,i=0;switch(e){case 4:n=t.readUInt32BE(0);break;case 8:var o=t.readUInt32BE(0),s=t.readUInt32BE(4);i=o/4,n=(3&o)*Math.pow(2,32)+s;break;case 12:throw new Error("timestamp 96 is not yet implemented")}var a=1e3*n+Math.round(i/1e6);return l(new Date(a),e+r)}(s=t.slice(e,e+n),n,i)}for(o=0;o<a.length;o++){if(r===a[o].type)return s=t.slice(e,e+n),l(a[o].decode(s),i+n)}throw new Error("unable to find ext type "+r)}},e.exports.IncompleteBufferError=i},{bl:29,util:110}],82:[function(t,e,r){"use strict";var f=t("safe-buffer").Buffer,l=t("bl");function h(t,e){var r,n=!0;return Math.fround&&(n=Math.fround(t)!==t),e&&(n=!0),n?((r=f.allocUnsafe(9))[0]=203,r.writeDoubleBE(t,1)):((r=f.allocUnsafe(5))[0]=202,r.writeFloatBE(t,1)),r}e.exports=function(o,s,a,u){function c(t,e){var r,n,i;if(void 0===t)throw new Error("undefined is not encodable in msgpack!");if((i=t)!=i&&"number"==typeof i)throw new Error("NaN is not encodable in msgpack!");if(null===t)(r=f.allocUnsafe(1))[0]=192;else if(!0===t)(r=f.allocUnsafe(1))[0]=195;else if(!1===t)(r=f.allocUnsafe(1))[0]=194;else if("string"==typeof t)(n=f.byteLength(t))<32?((r=f.allocUnsafe(1+n))[0]=160|n,0<n&&r.write(t,1)):n<=255&&!a?((r=f.allocUnsafe(2+n))[0]=217,r[1]=n,r.write(t,2)):n<=65535?((r=f.allocUnsafe(3+n))[0]=218,r.writeUInt16BE(n,1),r.write(t,3)):((r=f.allocUnsafe(5+n))[0]=219,r.writeUInt32BE(n,1),r.write(t,5));else if(t&&(t.readUInt32LE||t instanceof Uint8Array))t instanceof Uint8Array&&(t=f.from(t)),t.length<=255?((r=f.allocUnsafe(2))[0]=196,r[1]=t.length):t.length<=65535?((r=f.allocUnsafe(3))[0]=197,r.writeUInt16BE(t.length,1)):((r=f.allocUnsafe(5))[0]=198,r.writeUInt32BE(t.length,1)),r=l([r,t]);else if(Array.isArray(t))t.length<16?(r=f.allocUnsafe(1))[0]=144|t.length:t.length<65536?((r=f.allocUnsafe(3))[0]=220,r.writeUInt16BE(t.length,1)):((r=f.allocUnsafe(5))[0]=221,r.writeUInt32BE(t.length,1)),r=t.reduce(function(t,e){return t.append(c(e,!0)),t},l().append(r));else{if(!u&&"function"==typeof t.getDate)return function(t){var e,r=1*t,n=Math.floor(r/1e3),i=1e6*(r-1e3*n);if(i||4294967295<n){(e=f.allocUnsafe(10))[0]=215,e[1]=-1;var o=4*i,s=n/Math.pow(2,32),a=o+s&4294967295,u=4294967295&n;e.writeInt32BE(a,2),e.writeInt32BE(u,6)}else(e=f.allocUnsafe(6))[0]=214,e[1]=-1,e.writeUInt32BE(Math.floor(r/1e3),2);return l().append(e)}(t);if("object"==typeof t)r=function(t){var e,r,n=-1,i=[];for(e=0;e<o.length;e++)if(o[e].check(t)){r=o[e].encode(t);break}if(!r)return null;1==(n=r.length-1)?i.push(212):2===n?i.push(213):4===n?i.push(214):8===n?i.push(215):16===n?i.push(216):n<256?(i.push(199),i.push(n)):(n<65536?(i.push(200),i.push(n>>8)):(i.push(201),i.push(n>>24),i.push(n>>16&255),i.push(n>>8&255)),i.push(255&n));return l().append(f.from(i)).append(r)}(t)||function(t){var e,r,n=[],i=0;for(e in t)t.hasOwnProperty(e)&&void 0!==t[e]&&"function"!=typeof t[e]&&(++i,n.push(c(e,!0)),n.push(c(t[e],!0)));i<16?(r=f.allocUnsafe(1))[0]=128|i:i<65535?((r=f.allocUnsafe(3))[0]=222,r.writeUInt16BE(i,1)):((r=f.allocUnsafe(5))[0]=223,r.writeUInt32BE(i,1));return n.unshift(r),n.reduce(function(t,e){return t.append(e)},l())}(t);else if("number"==typeof t){if(t%1!=0)return h(t,s);if(0<=t)if(t<128)(r=f.allocUnsafe(1))[0]=t;else if(t<256)(r=f.allocUnsafe(2))[0]=204,r[1]=t;else if(t<65536)(r=f.allocUnsafe(3))[0]=205,r.writeUInt16BE(t,1);else if(t<=4294967295)(r=f.allocUnsafe(5))[0]=206,r.writeUInt32BE(t,1);else{if(!(t<=9007199254740991))return h(t,!0);(r=f.allocUnsafe(9))[0]=207,function(t,e){for(var r=7;0<=r;r--)t[r+1]=255&e,e/=256}(r,t)}else if(-32<=t)(r=f.allocUnsafe(1))[0]=256+t;else if(-128<=t)(r=f.allocUnsafe(2))[0]=208,r.writeInt8(t,1);else if(-32768<=t)(r=f.allocUnsafe(3))[0]=209,r.writeInt16BE(t,1);else if(-214748365<t)(r=f.allocUnsafe(5))[0]=210,r.writeInt32BE(t,1);else{if(!(-9007199254740991<=t))return h(t,!0);(r=f.allocUnsafe(9))[0]=211,function(t,e,r){var n=r<0;n&&(r=Math.abs(r));var i=r%4294967296,o=r/4294967296;if(t.writeUInt32BE(Math.floor(o),e+0),t.writeUInt32BE(i,e+4),n)for(var s=1,a=e+7;e<=a;a--){var u=(255^t[a])+s;t[a]=255&u,s=u>>8}}(r,1,t)}}}if(!r)throw new Error("not implemented yet");return e?r:r.slice()}return c}},{bl:29,"safe-buffer":100}],83:[function(t,e,r){"use strict";var n=t("readable-stream").Transform,i=t("inherits"),o=t("bl");function s(t){(t=t||{}).objectMode=!0,t.highWaterMark=16,n.call(this,t),this._msgpack=t.msgpack}function a(t){if(!(this instanceof a))return(t=t||{}).msgpack=this,new a(t);s.call(this,t),this._wrap="wrap"in t&&t.wrap}function u(t){if(!(this instanceof u))return(t=t||{}).msgpack=this,new u(t);s.call(this,t),this._chunks=o(),this._wrap="wrap"in t&&t.wrap}i(s,n),i(a,s),a.prototype._transform=function(t,e,r){var n=null;try{n=this._msgpack.encode(this._wrap?t.value:t).slice(0)}catch(t){return this.emit("error",t),r()}this.push(n),r()},i(u,s),u.prototype._transform=function(t,e,r){t&&this._chunks.append(t);try{var n=this._msgpack.decode(this._chunks);this._wrap&&(n={value:n}),this.push(n)}catch(t){return void(t instanceof this._msgpack.IncompleteBufferError?r():this.emit("error",t))}0<this._chunks.length?this._transform(null,e,r):r()},e.exports.decoder=u,e.exports.encoder=a},{bl:29,inherits:72,"readable-stream":97}],84:[function(t,e,r){(function(a){"use strict";!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?e.exports={nextTick:function(t,e,r,n){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return a.nextTick(t);case 2:return a.nextTick(function(){t.call(null,e)});case 3:return a.nextTick(function(){t.call(null,e,r)});case 4:return a.nextTick(function(){t.call(null,e,r,n)});default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return a.nextTick(function(){t.apply(null,i)})}}}:e.exports=a}).call(this,t("_process"))},{_process:85}],85:[function(t,e,r){var n,i,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var c,f=[],l=!1,h=-1;function p(){l&&c&&(l=!1,c.length?f=c.concat(f):h=-1,f.length&&d())}function d(){if(!l){var t=u(p);l=!0;for(var e=f.length;e;){for(c=f,f=[];++h<e;)c&&c[h].run();h=-1,e=f.length}c=null,l=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];f.push(new g(t,e)),1!==f.length||l||u(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],86:[function(h,r,t){(function(n){var t,e;t=this,e=function(_,t){"use strict";var i,l,e,s,a,r,o={};return o.ByteBuffer=_,o.Long=_.Long||null,o.VERSION="5.0.3",o.WIRE_TYPES={},o.WIRE_TYPES.VARINT=0,o.WIRE_TYPES.BITS64=1,o.WIRE_TYPES.LDELIM=2,o.WIRE_TYPES.STARTGROUP=3,o.WIRE_TYPES.ENDGROUP=4,o.WIRE_TYPES.BITS32=5,o.PACKABLE_WIRE_TYPES=[o.WIRE_TYPES.VARINT,o.WIRE_TYPES.BITS64,o.WIRE_TYPES.BITS32],o.TYPES={int32:{name:"int32",wireType:o.WIRE_TYPES.VARINT,defaultValue:0},uint32:{name:"uint32",wireType:o.WIRE_TYPES.VARINT,defaultValue:0},sint32:{name:"sint32",wireType:o.WIRE_TYPES.VARINT,defaultValue:0},int64:{name:"int64",wireType:o.WIRE_TYPES.VARINT,defaultValue:o.Long?o.Long.ZERO:void 0},uint64:{name:"uint64",wireType:o.WIRE_TYPES.VARINT,defaultValue:o.Long?o.Long.UZERO:void 0},sint64:{name:"sint64",wireType:o.WIRE_TYPES.VARINT,defaultValue:o.Long?o.Long.ZERO:void 0},bool:{name:"bool",wireType:o.WIRE_TYPES.VARINT,defaultValue:!1},double:{name:"double",wireType:o.WIRE_TYPES.BITS64,defaultValue:0},string:{name:"string",wireType:o.WIRE_TYPES.LDELIM,defaultValue:""},bytes:{name:"bytes",wireType:o.WIRE_TYPES.LDELIM,defaultValue:null},fixed32:{name:"fixed32",wireType:o.WIRE_TYPES.BITS32,defaultValue:0},sfixed32:{name:"sfixed32",wireType:o.WIRE_TYPES.BITS32,defaultValue:0},fixed64:{name:"fixed64",wireType:o.WIRE_TYPES.BITS64,defaultValue:o.Long?o.Long.UZERO:void 0},sfixed64:{name:"sfixed64",wireType:o.WIRE_TYPES.BITS64,defaultValue:o.Long?o.Long.ZERO:void 0},float:{name:"float",wireType:o.WIRE_TYPES.BITS32,defaultValue:0},enum:{name:"enum",wireType:o.WIRE_TYPES.VARINT,defaultValue:0},message:{name:"message",wireType:o.WIRE_TYPES.LDELIM,defaultValue:null},group:{name:"group",wireType:o.WIRE_TYPES.STARTGROUP,defaultValue:null}},o.MAP_KEY_TYPES=[o.TYPES.int32,o.TYPES.sint32,o.TYPES.sfixed32,o.TYPES.uint32,o.TYPES.fixed32,o.TYPES.int64,o.TYPES.sint64,o.TYPES.sfixed64,o.TYPES.uint64,o.TYPES.fixed64,o.TYPES.bool,o.TYPES.string,o.TYPES.bytes],o.ID_MIN=1,o.ID_MAX=536870911,o.convertFieldsToCamelCase=!1,o.populateAccessors=!0,o.populateDefaults=!0,o.Util=((i={}).IS_NODE=!("object"!=typeof n||n+""!="[object process]"||n.browser),i.XHR=function(){for(var t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],e=null,r=0;r<t.length;r++){try{e=t[r]()}catch(t){continue}break}if(!e)throw Error("XMLHttpRequest is not supported");return e},i.fetch=function(t,r){if(r&&"function"!=typeof r&&(r=null),i.IS_NODE){var e=h("fs");if(r)e.readFile(t,function(t,e){r(t?null:""+e)});else try{return e.readFileSync(t)}catch(t){return null}}else{var n=i.XHR();if(n.open("GET",t,!!r),n.setRequestHeader("Accept","text/plain"),"function"==typeof n.overrideMimeType&&n.overrideMimeType("text/plain"),!r)return n.send(null),200==n.status||0==n.status&&"string"==typeof n.responseText?n.responseText:null;if(n.onreadystatechange=function(){4==n.readyState&&(200==n.status||0==n.status&&"string"==typeof n.responseText?r(n.responseText):r(null))},4==n.readyState)return;n.send(null)}},i.toCamelCase=function(t){return t.replace(/_([a-zA-Z])/g,function(t,e){return e.toUpperCase()})},i),o.Lang={DELIM:/[\s\{\}=;:\[\],'"\(\)<>]/g,RULE:/^(?:required|optional|repeated|map)$/,TYPE:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,NAME:/^[a-zA-Z_][a-zA-Z_0-9]*$/,TYPEDEF:/^[a-zA-Z][a-zA-Z_0-9]*$/,TYPEREF:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,FQTYPEREF:/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/,NUMBER:/^-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,NUMBER_DEC:/^(?:[1-9][0-9]*|0)$/,NUMBER_HEX:/^0[xX][0-9a-fA-F]+$/,NUMBER_OCT:/^0[0-7]+$/,NUMBER_FLT:/^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,BOOL:/^(?:true|false)$/i,ID:/^(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,NEGID:/^\-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,WHITESPACE:/\s/,STRING:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,STRING_DQ:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,STRING_SQ:/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g},o.DotProto=function(i,s){var t={},e=function(t){this.source=t+"",this.index=0,this.line=1,this.stack=[],this._stringOpen=null},r=e.prototype;r._readString=function(){var t='"'===this._stringOpen?s.STRING_DQ:s.STRING_SQ;t.lastIndex=this.index-1;var e=t.exec(this.source);if(!e)throw Error("unterminated string");return this.index=t.lastIndex,this.stack.push(this._stringOpen),this._stringOpen=null,e[1]},r.next=function(){if(0<this.stack.length)return this.stack.shift();if(this.index>=this.source.length)return null;if(null!==this._stringOpen)return this._readString();var t,e,r;do{for(t=!1;s.WHITESPACE.test(r=this.source.charAt(this.index));)if("\n"===r&&++this.line,++this.index===this.source.length)return null;if("/"===this.source.charAt(this.index))if(++this.index,"/"===this.source.charAt(this.index)){for(;"\n"!==this.source.charAt(++this.index);)if(this.index==this.source.length)return null;++this.index,++this.line,t=!0}else{if("*"!==(r=this.source.charAt(this.index)))return"/";do{if("\n"===r&&++this.line,++this.index===this.source.length)return null;e=r,r=this.source.charAt(this.index)}while("*"!==e||"/"!==r);++this.index,t=!0}}while(t);if(this.index===this.source.length)return null;var n=this.index;if(s.DELIM.lastIndex=0,!s.DELIM.test(this.source.charAt(n++)))for(;n<this.source.length&&!s.DELIM.test(this.source.charAt(n));)++n;var i=this.source.substring(this.index,this.index=n);return'"'!==i&&"'"!==i||(this._stringOpen=i),i},r.peek=function(){if(0===this.stack.length){var t=this.next();if(null===t)return null;this.stack.push(t)}return this.stack[0]},r.skip=function(t){var e=this.next();if(e!==t)throw Error("illegal '"+e+"', '"+t+"' expected")},r.omit=function(t){return this.peek()===t&&(this.next(),!0)},r.toString=function(){return"Tokenizer ("+this.index+"/"+this.source.length+" at line "+this.line+")"},t.Tokenizer=e;var n=function(t){this.tn=new e(t),this.proto3=!1},o=n.prototype;function a(t,e){var r=-1,n=1;if("-"==t.charAt(0)&&(n=-1,t=t.substring(1)),s.NUMBER_DEC.test(t))r=parseInt(t);else if(s.NUMBER_HEX.test(t))r=parseInt(t.substring(2),16);else{if(!s.NUMBER_OCT.test(t))throw Error("illegal id value: "+(n<0?"-":"")+t);r=parseInt(t.substring(1),8)}if(r=n*r|0,!e&&r<0)throw Error("illegal id value: "+(n<0?"-":"")+t);return r}function u(t){var e=1;if("-"==t.charAt(0)&&(e=-1,t=t.substring(1)),s.NUMBER_DEC.test(t))return e*parseInt(t,10);if(s.NUMBER_HEX.test(t))return e*parseInt(t.substring(2),16);if(s.NUMBER_OCT.test(t))return e*parseInt(t.substring(1),8);if("inf"===t)return e*(1/0);if("nan"===t)return NaN;if(s.NUMBER_FLT.test(t))return e*parseFloat(t);throw Error("illegal number value: "+(e<0?"-":"")+t)}function c(t,e,r){void 0===t[e]?t[e]=r:(Array.isArray(t[e])||(t[e]=[t[e]]),t[e].push(r))}return o.parse=function(){var t,e,r={name:"[ROOT]",package:null,messages:[],enums:[],imports:[],options:{},services:[]},n=!0;try{for(;t=this.tn.next();)switch(t){case"package":if(!n||null!==r.package)throw Error("unexpected 'package'");if(t=this.tn.next(),!s.TYPEREF.test(t))throw Error("illegal package name: "+t);this.tn.skip(";"),r.package=t;break;case"import":if(!n)throw Error("unexpected 'import'");("public"===(t=this.tn.peek())||(e="weak"===t))&&this.tn.next(),t=this._readString(),this.tn.skip(";"),e||r.imports.push(t);break;case"syntax":if(!n)throw Error("unexpected 'syntax'");this.tn.skip("="),"proto3"===(r.syntax=this._readString())&&(this.proto3=!0),this.tn.skip(";");break;case"message":this._parseMessage(r,null),n=!1;break;case"enum":this._parseEnum(r),n=!1;break;case"option":this._parseOption(r);break;case"service":this._parseService(r);break;case"extend":this._parseExtend(r);break;default:throw Error("unexpected '"+t+"'")}}catch(t){throw t.message="Parse error at line "+this.tn.line+": "+t.message,t}return delete r.name,r},n.parse=function(t){return new n(t).parse()},o._readString=function(){var t,e,r="";do{if("'"!==(e=this.tn.next())&&'"'!==e)throw Error("illegal string delimiter: "+e);r+=this.tn.next(),this.tn.skip(e),t=this.tn.peek()}while('"'===t||'"'===t);return r},o._readValue=function(t){var e=this.tn.peek();if('"'===e||"'"===e)return this._readString();if(this.tn.next(),s.NUMBER.test(e))return u(e);if(s.BOOL.test(e))return"true"===e.toLowerCase();if(t&&s.TYPEREF.test(e))return e;throw Error("illegal value: "+e)},o._parseOption=function(t,e){var r=this.tn.next(),n=!1;if("("===r&&(n=!0,r=this.tn.next()),!s.TYPEREF.test(r))throw Error("illegal option name: "+r);var i=r;n&&(this.tn.skip(")"),i="("+i+")",r=this.tn.peek(),s.FQTYPEREF.test(r)&&(i+=r,this.tn.next())),this.tn.skip("="),this._parseOptionValue(t,i),e||this.tn.skip(";")},o._parseOptionValue=function(t,e){var r=this.tn.peek();if("{"!==r)c(t.options,e,this._readValue(!0));else for(this.tn.skip("{");"}"!==(r=this.tn.next());){if(!s.NAME.test(r))throw Error("illegal option name: "+e+"."+r);this.tn.omit(":")?c(t.options,e+"."+r,this._readValue(!0)):this._parseOptionValue(t,e+"."+r)}},o._parseService=function(t){var e=this.tn.next();if(!s.NAME.test(e))throw Error("illegal service name at line "+this.tn.line+": "+e);var r={name:e,rpc:{},options:{}};for(this.tn.skip("{");"}"!==(e=this.tn.next());)if("option"===e)this._parseOption(r);else{if("rpc"!==e)throw Error("illegal service token: "+e);this._parseServiceRPC(r)}this.tn.omit(";"),t.services.push(r)},o._parseServiceRPC=function(t){var e=this.tn.next();if(!s.NAME.test(e))throw Error("illegal rpc service method name: "+e);var r=e,n={request:null,response:null,request_stream:!1,response_stream:!1,options:{}};if(this.tn.skip("("),"stream"===(e=this.tn.next()).toLowerCase()&&(n.request_stream=!0,e=this.tn.next()),!s.TYPEREF.test(e))throw Error("illegal rpc service request type: "+e);if(n.request=e,this.tn.skip(")"),"returns"!==(e=this.tn.next()).toLowerCase())throw Error("illegal rpc service request type delimiter: "+e);if(this.tn.skip("("),"stream"===(e=this.tn.next()).toLowerCase()&&(n.response_stream=!0,e=this.tn.next()),n.response=e,this.tn.skip(")"),"{"===(e=this.tn.peek())){for(this.tn.next();"}"!==(e=this.tn.next());){if("option"!==e)throw Error("illegal rpc service token: "+e);this._parseOption(n)}this.tn.omit(";")}else this.tn.skip(";");void 0===t.rpc&&(t.rpc={}),t.rpc[r]=n},o._parseMessage=function(t,e){var r=!!e,n=this.tn.next(),i={name:"",fields:[],enums:[],messages:[],options:{},services:[],oneofs:{}};if(!s.NAME.test(n))throw Error("illegal "+(r?"group":"message")+" name: "+n);for(i.name=n,r&&(this.tn.skip("="),e.id=a(this.tn.next()),i.isGroup=!0),"["===(n=this.tn.peek())&&e&&this._parseFieldOptions(e),this.tn.skip("{");"}"!==(n=this.tn.next());)if(s.RULE.test(n))this._parseMessageField(i,n);else if("oneof"===n)this._parseMessageOneOf(i);else if("enum"===n)this._parseEnum(i);else if("message"===n)this._parseMessage(i);else if("option"===n)this._parseOption(i);else if("service"===n)this._parseService(i);else if("extensions"===n)i.hasOwnProperty("extensions")?i.extensions=i.extensions.concat(this._parseExtensionRanges()):i.extensions=this._parseExtensionRanges();else if("reserved"===n)this._parseIgnored();else if("extend"===n)this._parseExtend(i);else{if(!s.TYPEREF.test(n))throw Error("illegal message token: "+n);if(!this.proto3)throw Error("illegal field rule: "+n);this._parseMessageField(i,"optional",n)}return this.tn.omit(";"),t.messages.push(i),i},o._parseIgnored=function(){for(;";"!==this.tn.peek();)this.tn.next();this.tn.skip(";")},o._parseMessageField=function(t,e,r){if(!s.RULE.test(e))throw Error("illegal message field rule: "+e);var n,i={rule:e,type:"",name:"",options:{},id:0};if("map"===e){if(r)throw Error("illegal type: "+r);if(this.tn.skip("<"),n=this.tn.next(),!s.TYPE.test(n)&&!s.TYPEREF.test(n))throw Error("illegal message field type: "+n);if(i.keytype=n,this.tn.skip(","),n=this.tn.next(),!s.TYPE.test(n)&&!s.TYPEREF.test(n))throw Error("illegal message field: "+n);if(i.type=n,this.tn.skip(">"),n=this.tn.next(),!s.NAME.test(n))throw Error("illegal message field name: "+n);i.name=n,this.tn.skip("="),i.id=a(this.tn.next()),"["===(n=this.tn.peek())&&this._parseFieldOptions(i),this.tn.skip(";")}else if("group"===(r=void 0!==r?r:this.tn.next())){var o=this._parseMessage(t,i);if(!/^[A-Z]/.test(o.name))throw Error("illegal group name: "+o.name);i.type=o.name,i.name=o.name.toLowerCase(),this.tn.omit(";")}else{if(!s.TYPE.test(r)&&!s.TYPEREF.test(r))throw Error("illegal message field type: "+r);if(i.type=r,n=this.tn.next(),!s.NAME.test(n))throw Error("illegal message field name: "+n);i.name=n,this.tn.skip("="),i.id=a(this.tn.next()),"["===(n=this.tn.peek())&&this._parseFieldOptions(i),this.tn.skip(";")}return t.fields.push(i),i},o._parseMessageOneOf=function(t){var e=this.tn.next();if(!s.NAME.test(e))throw Error("illegal oneof name: "+e);var r,n=e,i=[];for(this.tn.skip("{");"}"!==(e=this.tn.next());)(r=this._parseMessageField(t,"optional",e)).oneof=n,i.push(r.id);this.tn.omit(";"),t.oneofs[n]=i},o._parseFieldOptions=function(t){this.tn.skip("[");for(var e=!0;"]"!==this.tn.peek();)e||this.tn.skip(","),this._parseOption(t,!0),e=!1;this.tn.next()},o._parseEnum=function(t){var e={name:"",values:[],options:{}},r=this.tn.next();if(!s.NAME.test(r))throw Error("illegal name: "+r);for(e.name=r,this.tn.skip("{");"}"!==(r=this.tn.next());)if("option"===r)this._parseOption(e);else{if(!s.NAME.test(r))throw Error("illegal name: "+r);this.tn.skip("=");var n={name:r,id:a(this.tn.next(),!0)};"["===(r=this.tn.peek())&&this._parseFieldOptions({options:{}}),this.tn.skip(";"),e.values.push(n)}this.tn.omit(";"),t.enums.push(e)},o._parseExtensionRanges=function(){var t,e,r,n=[];do{for(e=[];;){switch(t=this.tn.next()){case"min":r=i.ID_MIN;break;case"max":r=i.ID_MAX;break;default:r=u(t)}if(e.push(r),2===e.length)break;if("to"!==this.tn.peek()){e.push(r);break}this.tn.next()}n.push(e)}while(this.tn.omit(","));return this.tn.skip(";"),n},o._parseExtend=function(t){var e=this.tn.next();if(!s.TYPEREF.test(e))throw Error("illegal extend reference: "+e);var r={ref:e,fields:[]};for(this.tn.skip("{");"}"!==(e=this.tn.next());)if(s.RULE.test(e))this._parseMessageField(r,e);else{if(!s.TYPEREF.test(e))throw Error("illegal extend token: "+e);if(!this.proto3)throw Error("illegal field rule: "+e);this._parseMessageField(r,"optional",e)}return this.tn.omit(";"),t.messages.push(r),r},o.toString=function(){return"Parser at line "+this.tn.line},t.Parser=n,t}(o,o.Lang),o.Reflect=function(g){var s={},f=function(t,e,r){this.builder=t,this.parent=e,this.name=r,this.className},t=f.prototype;t.fqn=function(){for(var t=this.name,e=this;;){if(null==(e=e.parent))break;t=e.name+"."+t}return t},t.toString=function(t){return(t?this.className+" ":"")+this.fqn()},t.build=function(){throw Error(this.toString(!0)+" cannot be built directly")},s.T=f;var a=function(t,e,r,n,i){f.call(this,t,e,r),this.className="Namespace",this.children=[],this.options=n||{},this.syntax=i||"proto2"},e=a.prototype=Object.create(f.prototype);e.getChildren=function(t){if(null==(t=t||null))return this.children.slice();for(var e=[],r=0,n=this.children.length;r<n;++r)this.children[r]instanceof t&&e.push(this.children[r]);return e},e.addChild=function(t){var e;if(e=this.getChild(t.name))if(e instanceof h.Field&&e.name!==e.originalName&&null===this.getChild(e.originalName))e.name=e.originalName;else{if(!(t instanceof h.Field&&t.name!==t.originalName&&null===this.getChild(t.originalName)))throw Error("Duplicate name in namespace "+this.toString(!0)+": "+t.name);t.name=t.originalName}this.children.push(t)},e.getChild=function(t){for(var e="number"==typeof t?"id":"name",r=0,n=this.children.length;r<n;++r)if(this.children[r][e]===t)return this.children[r];return null},e.resolve=function(t,e){var r,n="string"==typeof t?t.split("."):t,i=this,o=0;if(""===n[o]){for(;null!==i.parent;)i=i.parent;o++}do{do{if(!(i instanceof s.Namespace)){i=null;break}if(!(r=i.getChild(n[o]))||!(r instanceof s.T)||e&&!(r instanceof s.Namespace)){i=null;break}i=r,o++}while(o<n.length);if(null!=i)break;if(null!==this.parent)return this.parent.resolve(t,e)}while(null!=i);return i},e.qn=function(t){for(var e=[],r=t;e.unshift(r.name),null!==(r=r.parent););for(var n=1;n<=e.length;n++){var i=e.slice(e.length-n);if(t===this.resolve(i,t instanceof s.Namespace))return i.join(".")}return t.fqn()},e.build=function(){for(var t,e={},r=this.children,n=0,i=r.length;n<i;++n)(t=r[n])instanceof a&&(e[t.name]=t.build());return Object.defineProperty&&Object.defineProperty(e,"$options",{value:this.buildOpt()}),e},e.buildOpt=function(){for(var t={},e=Object.keys(this.options),r=0,n=e.length;r<n;++r){var i=e[r],o=this.options[e[r]];t[i]=o}return t},e.getOption=function(t){return void 0===t?this.options:void 0!==this.options[t]?this.options[t]:null},s.Namespace=a;var l=function(t,e,r,n,i){if(this.type=t,this.resolvedType=e,this.isMapKey=r,this.syntax=n,this.name=i,r&&g.MAP_KEY_TYPES.indexOf(t)<0)throw Error("Invalid map key type: "+t.name)},r=l.prototype;function u(t,e){if(t&&"number"==typeof t.low&&"number"==typeof t.high&&"boolean"==typeof t.unsigned&&t.low==t.low&&t.high==t.high)return new g.Long(t.low,t.high,void 0===e?t.unsigned:e);if("string"==typeof t)return g.Long.fromString(t,e||!1,10);if("number"==typeof t)return g.Long.fromNumber(t,e||!1);throw Error("not convertible to Long")}l.defaultFieldValue=function(t){if("string"==typeof t&&(t=g.TYPES[t]),void 0===t.defaultValue)throw Error("default value for type "+t.name+" is not supported");return t==g.TYPES.bytes?new _(0):t.defaultValue},r.toString=function(){return(this.name||"")+(this.isMapKey?"map":"value")+" element"},r.verifyValue=function(e){var r=this;function n(t,e){throw Error("Illegal value for "+r.toString(!0)+" of type "+r.type.name+": "+t+" ("+e+")")}switch(this.type){case g.TYPES.int32:case g.TYPES.sint32:case g.TYPES.sfixed32:return("number"!=typeof e||e==e&&e%1!=0)&&n(typeof e,"not an integer"),4294967295<e?0|e:e;case g.TYPES.uint32:case g.TYPES.fixed32:return("number"!=typeof e||e==e&&e%1!=0)&&n(typeof e,"not an integer"),e<0?e>>>0:e;case g.TYPES.int64:case g.TYPES.sint64:case g.TYPES.sfixed64:if(g.Long)try{return u(e,!1)}catch(t){n(typeof e,t.message)}else n(typeof e,"requires Long.js");case g.TYPES.uint64:case g.TYPES.fixed64:if(g.Long)try{return u(e,!0)}catch(t){n(typeof e,t.message)}else n(typeof e,"requires Long.js");case g.TYPES.bool:return"boolean"!=typeof e&&n(typeof e,"not a boolean"),e;case g.TYPES.float:case g.TYPES.double:return"number"!=typeof e&&n(typeof e,"not a number"),e;case g.TYPES.string:return"string"==typeof e||e&&e instanceof String||n(typeof e,"not a string"),""+e;case g.TYPES.bytes:return _.isByteBuffer(e)?e:_.wrap(e,"base64");case g.TYPES.enum:var t=this.resolvedType.getChildren(g.Reflect.Enum.Value);for(o=0;o<t.length;o++){if(t[o].name==e)return t[o].id;if(t[o].id==e)return t[o].id}if("proto3"===this.syntax)return("number"!=typeof e||e==e&&e%1!=0)&&n(typeof e,"not an integer"),(4294967295<e||e<0)&&n(typeof e,"not in range for uint32"),e;n(e,"not a valid enum value");case g.TYPES.group:case g.TYPES.message:if(e&&"object"==typeof e||n(typeof e,"object expected"),e instanceof this.resolvedType.clazz)return e;if(e instanceof g.Builder.Message){var i={};for(var o in e)e.hasOwnProperty(o)&&(i[o]=e[o]);e=i}return new this.resolvedType.clazz(e)}throw Error("[INTERNAL] Illegal value for "+this.toString(!0)+": "+e+" (undefined type "+this.type+")")},r.calculateLength=function(t,e){if(null===e)return 0;var r;switch(this.type){case g.TYPES.int32:return e<0?_.calculateVarint64(e):_.calculateVarint32(e);case g.TYPES.uint32:return _.calculateVarint32(e);case g.TYPES.sint32:return _.calculateVarint32(_.zigZagEncode32(e));case g.TYPES.fixed32:case g.TYPES.sfixed32:case g.TYPES.float:return 4;case g.TYPES.int64:case g.TYPES.uint64:return _.calculateVarint64(e);case g.TYPES.sint64:return _.calculateVarint64(_.zigZagEncode64(e));case g.TYPES.fixed64:case g.TYPES.sfixed64:return 8;case g.TYPES.bool:return 1;case g.TYPES.enum:return _.calculateVarint32(e);case g.TYPES.double:return 8;case g.TYPES.string:return r=_.calculateUTF8Bytes(e),_.calculateVarint32(r)+r;case g.TYPES.bytes:if(e.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+e.remaining()+" bytes remaining");return _.calculateVarint32(e.remaining())+e.remaining();case g.TYPES.message:return r=this.resolvedType.calculate(e),_.calculateVarint32(r)+r;case g.TYPES.group:return(r=this.resolvedType.calculate(e))+_.calculateVarint32(t<<3|g.WIRE_TYPES.ENDGROUP)}throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+e+" (unknown type)")},r.encodeValue=function(t,e,r){if(null===e)return r;switch(this.type){case g.TYPES.int32:e<0?r.writeVarint64(e):r.writeVarint32(e);break;case g.TYPES.uint32:r.writeVarint32(e);break;case g.TYPES.sint32:r.writeVarint32ZigZag(e);break;case g.TYPES.fixed32:r.writeUint32(e);break;case g.TYPES.sfixed32:r.writeInt32(e);break;case g.TYPES.int64:case g.TYPES.uint64:r.writeVarint64(e);break;case g.TYPES.sint64:r.writeVarint64ZigZag(e);break;case g.TYPES.fixed64:r.writeUint64(e);break;case g.TYPES.sfixed64:r.writeInt64(e);break;case g.TYPES.bool:"string"==typeof e?r.writeVarint32("false"===e.toLowerCase()?0:!!e):r.writeVarint32(e?1:0);break;case g.TYPES.enum:r.writeVarint32(e);break;case g.TYPES.float:r.writeFloat32(e);break;case g.TYPES.double:r.writeFloat64(e);break;case g.TYPES.string:r.writeVString(e);break;case g.TYPES.bytes:if(e.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+e.remaining()+" bytes remaining");var n=e.offset;r.writeVarint32(e.remaining()),r.append(e),e.offset=n;break;case g.TYPES.message:var i=(new _).LE();this.resolvedType.encode(e,i),r.writeVarint32(i.offset),r.append(i.flip());break;case g.TYPES.group:this.resolvedType.encode(e,r),r.writeVarint32(t<<3|g.WIRE_TYPES.ENDGROUP);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+e+" (unknown type)")}return r},r.decode=function(t,e,r){if(e!=this.type.wireType)throw Error("Unexpected wire type for element");var n,i;switch(this.type){case g.TYPES.int32:return 0|t.readVarint32();case g.TYPES.uint32:return t.readVarint32()>>>0;case g.TYPES.sint32:return 0|t.readVarint32ZigZag();case g.TYPES.fixed32:return t.readUint32()>>>0;case g.TYPES.sfixed32:return 0|t.readInt32();case g.TYPES.int64:return t.readVarint64();case g.TYPES.uint64:return t.readVarint64().toUnsigned();case g.TYPES.sint64:return t.readVarint64ZigZag();case g.TYPES.fixed64:return t.readUint64();case g.TYPES.sfixed64:return t.readInt64();case g.TYPES.bool:return!!t.readVarint32();case g.TYPES.enum:return t.readVarint32();case g.TYPES.float:return t.readFloat();case g.TYPES.double:return t.readDouble();case g.TYPES.string:return t.readVString();case g.TYPES.bytes:if(i=t.readVarint32(),t.remaining()<i)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+i+" required but got only "+t.remaining());return(n=t.clone()).limit=n.offset+i,t.offset+=i,n;case g.TYPES.message:return i=t.readVarint32(),this.resolvedType.decode(t,i);case g.TYPES.group:return this.resolvedType.decode(t,-1,r)}throw Error("[INTERNAL] Illegal decode type")},r.valueFromString=function(t){if(!this.isMapKey)throw Error("valueFromString() called on non-map-key element");switch(this.type){case g.TYPES.int32:case g.TYPES.sint32:case g.TYPES.sfixed32:case g.TYPES.uint32:case g.TYPES.fixed32:return this.verifyValue(parseInt(t));case g.TYPES.int64:case g.TYPES.sint64:case g.TYPES.sfixed64:case g.TYPES.uint64:case g.TYPES.fixed64:return this.verifyValue(t);case g.TYPES.bool:return"true"===t;case g.TYPES.string:return this.verifyValue(t);case g.TYPES.bytes:return _.fromBinary(t)}},r.valueToString=function(t){if(!this.isMapKey)throw Error("valueToString() called on non-map-key element");return this.type===g.TYPES.bytes?t.toString("binary"):t.toString()},s.Element=l;var h=function(t,e,r,n,i,o){a.call(this,t,e,r,n,o),this.className="Message",this.extensions=void 0,this.clazz=null,this.isGroup=!!i,this._fields=null,this._fieldsById=null,this._fieldsByName=null},n=h.prototype=Object.create(a.prototype);function y(t,e){var r=e.readVarint32(),n=7&r,i=r>>>3;switch(n){case g.WIRE_TYPES.VARINT:for(;128==(128&(r=e.readUint8())););break;case g.WIRE_TYPES.BITS64:e.offset+=8;break;case g.WIRE_TYPES.LDELIM:r=e.readVarint32(),e.offset+=r;break;case g.WIRE_TYPES.STARTGROUP:y(i,e);break;case g.WIRE_TYPES.ENDGROUP:if(i===t)return!1;throw Error("Illegal GROUPEND after unknown group: "+i+" ("+t+" expected)");case g.WIRE_TYPES.BITS32:e.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+t+": "+n)}return!0}n.build=function(t){if(this.clazz&&!t)return this.clazz;var e=function(l,s){var a=s.getChildren(l.Reflect.Message.Field),u=s.getChildren(l.Reflect.Message.OneOf),c=function(t,e){l.Builder.Message.call(this);for(var r=0,n=u.length;r<n;++r)this[u[r].name]=null;for(r=0,n=a.length;r<n;++r){var i=a[r];this[i.name]=i.repeated?[]:i.map?new l.Map(i):null,!i.required&&"proto3"!==s.syntax||null===i.defaultValue||(this[i.name]=i.defaultValue)}var o;if(0<arguments.length)if(1!==arguments.length||null===t||"object"!=typeof t||!("function"!=typeof t.encode||t instanceof c)||Array.isArray(t)||t instanceof l.Map||_.isByteBuffer(t)||t instanceof ArrayBuffer||l.Long&&t instanceof l.Long)for(r=0,n=arguments.length;r<n;++r)void 0!==(o=arguments[r])&&this.$set(a[r].name,o);else this.$set(t)},o=c.prototype=Object.create(l.Builder.Message.prototype);o.add=function(t,e,r){var n=s._fieldsByName[t];if(!r){if(!n)throw Error(this+"#"+t+" is undefined");if(!(n instanceof l.Reflect.Message.Field))throw Error(this+"#"+t+" is not a field: "+n.toString(!0));if(!n.repeated)throw Error(this+"#"+t+" is not a repeated field");e=n.verifyValue(e,!0)}return null===this[t]&&(this[t]=[]),this[t].push(e),this},o.$add=o.add,o.set=function(t,e,r){if(t&&"object"==typeof t){for(var n in r=e,t)t.hasOwnProperty(n)&&void 0!==(e=t[n])&&void 0===s._oneofsByName[n]&&this.$set(n,e,r);return this}var i=s._fieldsByName[t];if(r)this[t]=e;else{if(!i)throw Error(this+"#"+t+" is not a field: undefined");if(!(i instanceof l.Reflect.Message.Field))throw Error(this+"#"+t+" is not a field: "+i.toString(!0));this[i.name]=e=i.verifyValue(e)}if(i&&i.oneof){var o=this[i.oneof.name];null!==e?(null!==o&&o!==i.name&&(this[o]=null),this[i.oneof.name]=i.name):o===t&&(this[i.oneof.name]=null)}return this},o.$set=o.set,o.get=function(t,e){if(e)return this[t];var r=s._fieldsByName[t];if(!(r&&r instanceof l.Reflect.Message.Field))throw Error(this+"#"+t+" is not a field: undefined");if(!(r instanceof l.Reflect.Message.Field))throw Error(this+"#"+t+" is not a field: "+r.toString(!0));return this[r.name]},o.$get=o.get;for(var t=0;t<a.length;t++){var e=a[t];e instanceof l.Reflect.Message.ExtensionField||s.builder.options.populateAccessors&&function(r){var t=r.originalName.replace(/(_[a-zA-Z])/g,function(t){return t.toUpperCase().replace("_","")});t=t.substring(0,1).toUpperCase()+t.substring(1);var e=r.originalName.replace(/([A-Z])/g,function(t){return"_"+t}),n=function(t,e){return this[r.name]=e?t:r.verifyValue(t),this},i=function(){return this[r.name]};null===s.getChild("set"+t)&&(o["set"+t]=n),null===s.getChild("set_"+e)&&(o["set_"+e]=n),null===s.getChild("get"+t)&&(o["get"+t]=i),null===s.getChild("get_"+e)&&(o["get_"+e]=i)}(e)}function h(t,r,n,i){if(null===t||"object"!=typeof t){if(i&&i instanceof l.Reflect.Enum){var e=l.Reflect.Enum.getName(i.object,t);if(null!==e)return e}return t}if(_.isByteBuffer(t))return r?t.toBase64():t.toBuffer();if(l.Long.isLong(t))return n?t.toString():l.Long.fromValue(t);var o;if(Array.isArray(t))return o=[],t.forEach(function(t,e){o[e]=h(t,r,n,i)}),o;if(o={},t instanceof l.Map){for(var s=t.entries(),a=s.next();!a.done;a=s.next())o[t.keyElem.valueToString(a.value[0])]=h(a.value[1],r,n,t.valueElem.resolvedType);return o}var u=t.$type,c=void 0;for(var f in t)t.hasOwnProperty(f)&&(u&&(c=u.getChild(f))?o[f]=h(t[f],r,n,c.resolvedType):o[f]=h(t[f],r,n));return o}return o.encode=function(e,t){"boolean"==typeof e&&(t=e,e=void 0);var r=!1;e||(e=new _,r=!0);var n=e.littleEndian;try{return s.encode(this,e.LE(),t),(r?e.flip():e).LE(n)}catch(t){throw e.LE(n),t}},c.encode=function(t,e,r){return new c(t).encode(e,r)},o.calculate=function(){return s.calculate(this)},o.encodeDelimited=function(t,e){var r=!1;t||(t=new _,r=!0);var n=(new _).LE();return s.encode(this,n,e).flip(),t.writeVarint32(n.remaining()),t.append(n),r?t.flip():t},o.encodeAB=function(){try{return this.encode().toArrayBuffer()}catch(t){throw t.encoded&&(t.encoded=t.encoded.toArrayBuffer()),t}},o.toArrayBuffer=o.encodeAB,o.encodeNB=function(){try{return this.encode().toBuffer()}catch(t){throw t.encoded&&(t.encoded=t.encoded.toBuffer()),t}},o.toBuffer=o.encodeNB,o.encode64=function(){try{return this.encode().toBase64()}catch(t){throw t.encoded&&(t.encoded=t.encoded.toBase64()),t}},o.toBase64=o.encode64,o.encodeHex=function(){try{return this.encode().toHex()}catch(t){throw t.encoded&&(t.encoded=t.encoded.toHex()),t}},o.toHex=o.encodeHex,o.toRaw=function(t,e){return h(this,!!t,!!e,this.$type)},o.encodeJSON=function(){return JSON.stringify(h(this,!0,!0,this.$type))},c.decode=function(e,t,r){"string"==typeof t&&(r=t,t=-1),"string"==typeof e?e=_.wrap(e,r||"base64"):_.isByteBuffer(e)||(e=_.wrap(e));var n=e.littleEndian;try{var i=s.decode(e.LE(),t);return e.LE(n),i}catch(t){throw e.LE(n),t}},c.decodeDelimited=function(e,t){if("string"==typeof e?e=_.wrap(e,t||"base64"):_.isByteBuffer(e)||(e=_.wrap(e)),e.remaining()<1)return null;var r=e.offset,n=e.readVarint32();if(e.remaining()<n)return e.offset=r,null;try{var i=s.decode(e.slice(e.offset,e.offset+n).LE());return e.offset+=n,i}catch(t){throw e.offset+=n,t}},c.decode64=function(t){return c.decode(t,"base64")},c.decodeHex=function(t){return c.decode(t,"hex")},c.decodeJSON=function(t){return new c(JSON.parse(t))},o.toString=function(){return s.toString()},Object.defineProperty&&(Object.defineProperty(c,"$options",{value:s.buildOpt()}),Object.defineProperty(o,"$options",{value:c.$options}),Object.defineProperty(c,"$type",{value:s}),Object.defineProperty(o,"$type",{value:s})),c}(g,this);this._fields=[],this._fieldsById={},this._fieldsByName={},this._oneofsByName={};for(var r,n=0,i=this.children.length;n<i;n++)if((r=this.children[n])instanceof p||r instanceof h||r instanceof m){if(e.hasOwnProperty(r.name))throw Error("Illegal reflect child of "+this.toString(!0)+": "+r.toString(!0)+" cannot override static property '"+r.name+"'");e[r.name]=r.build()}else if(r instanceof h.Field)r.build(),this._fields.push(r),this._fieldsById[r.id]=r,this._fieldsByName[r.name]=r;else if(r instanceof h.OneOf)this._oneofsByName[r.name]=r;else if(!(r instanceof h.OneOf||r instanceof v))throw Error("Illegal reflect child of "+this.toString(!0)+": "+this.children[n].toString(!0));return this.clazz=e},n.encode=function(t,e,r){for(var n,i,o=null,s=0,a=this._fields.length;s<a;++s)i=t[(n=this._fields[s]).name],n.required&&null===i?null===o&&(o=n):n.encode(r?i:n.verifyValue(i),e,t);if(null===o)return e;var u=Error("Missing at least one required field for "+this.toString(!0)+": "+o);throw u.encoded=e,u},n.calculate=function(t){for(var e,r,n=0,i=0,o=this._fields.length;i<o;++i){if(r=t[(e=this._fields[i]).name],e.required&&null===r)throw Error("Missing at least one required field for "+this.toString(!0)+": "+e);n+=e.calculate(r,t)}return n},n.decode=function(t,e,r){"number"!=typeof e&&(e=-1);for(var n,i,o,s,a=t.offset,u=new this.clazz;t.offset<a+e||-1===e&&0<t.remaining();){if(o=(n=t.readVarint32())>>>3,(i=7&n)===g.WIRE_TYPES.ENDGROUP){if(o!==r)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+o+" ("+(r?r+" expected":"not a group")+")");break}if(s=this._fieldsById[o]){if(s.repeated&&!s.options.packed)u[s.name].push(s.decode(i,t));else if(s.map){var c=s.decode(i,t);u[s.name].set(c[0],c[1])}else if(u[s.name]=s.decode(i,t),s.oneof){var f=u[s.oneof.name];null!==f&&f!==s.name&&(u[f]=null),u[s.oneof.name]=s.name}}else switch(i){case g.WIRE_TYPES.VARINT:t.readVarint32();break;case g.WIRE_TYPES.BITS32:t.offset+=4;break;case g.WIRE_TYPES.BITS64:t.offset+=8;break;case g.WIRE_TYPES.LDELIM:var l=t.readVarint32();t.offset+=l;break;case g.WIRE_TYPES.STARTGROUP:for(;y(o,t););break;default:throw Error("Illegal wire type for unknown field "+o+" in "+this.toString(!0)+"#decode: "+i)}}for(var h=0,p=this._fields.length;h<p;++h)if(null===u[(s=this._fields[h]).name])if("proto3"===this.syntax)u[s.name]=s.defaultValue;else{if(s.required){var d=Error("Missing at least one required field for "+this.toString(!0)+": "+s.name);throw d.decoded=u,d}g.populateDefaults&&null!==s.defaultValue&&(u[s.name]=s.defaultValue)}return u},s.Message=h;var c=function(t,e,r,n,i,o,s,a,u,c){f.call(this,t,e,o),this.className="Message.Field",this.required="required"===r,this.repeated="repeated"===r,this.map="map"===r,this.keyType=n||null,this.type=i,this.resolvedType=null,this.id=s,this.options=a||{},this.defaultValue=null,this.oneof=u||null,this.syntax=c||"proto2",this.originalName=this.name,this.element=null,this.keyElement=null,!this.builder.options.convertFieldsToCamelCase||this instanceof h.ExtensionField||(this.name=g.Util.toCamelCase(this.name))},i=c.prototype=Object.create(f.prototype);i.build=function(){this.element=new l(this.type,this.resolvedType,!1,this.syntax,this.name),this.map&&(this.keyElement=new l(this.keyType,void 0,!0,this.syntax,this.name)),"proto3"!==this.syntax||this.repeated||this.map?void 0!==this.options.default&&(this.defaultValue=this.verifyValue(this.options.default)):this.defaultValue=l.defaultFieldValue(this.type)},i.verifyValue=function(t,e){e=e||!1;var r,n=this;function i(t,e){throw Error("Illegal value for "+n.toString(!0)+" of type "+n.type.name+": "+t+" ("+e+")")}if(null===t)return this.required&&i(typeof t,"required"),"proto3"===this.syntax&&this.type!==g.TYPES.message&&i(typeof t,"proto3 field without field presence cannot be null"),null;if(!this.repeated||e)return this.map&&!e?t instanceof g.Map?t:(t instanceof Object||i(typeof t,"expected ProtoBuf.Map or raw object for map field"),new g.Map(this,t)):(!this.repeated&&Array.isArray(t)&&i(typeof t,"no array expected"),this.element.verifyValue(t));Array.isArray(t)||(t=[t]);var o=[];for(r=0;r<t.length;r++)o.push(this.element.verifyValue(t[r]));return o},i.hasWirePresence=function(t,e){if("proto3"!==this.syntax)return null!==t;if(this.oneof&&e[this.oneof.name]===this.name)return!0;switch(this.type){case g.TYPES.int32:case g.TYPES.sint32:case g.TYPES.sfixed32:case g.TYPES.uint32:case g.TYPES.fixed32:return 0!==t;case g.TYPES.int64:case g.TYPES.sint64:case g.TYPES.sfixed64:case g.TYPES.uint64:case g.TYPES.fixed64:return 0!==t.low||0!==t.high;case g.TYPES.bool:return t;case g.TYPES.float:case g.TYPES.double:return 0!==t;case g.TYPES.string:return 0<t.length;case g.TYPES.bytes:return 0<t.remaining();case g.TYPES.enum:return 0!==t;case g.TYPES.message:return null!==t;default:return!0}},i.encode=function(e,i,t){if(null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===e||this.repeated&&0==e.length)return i;try{var r;if(this.repeated)if(this.options.packed&&0<=g.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)){i.writeVarint32(this.id<<3|g.WIRE_TYPES.LDELIM),i.ensureCapacity(i.offset+=1);var n=i.offset;for(r=0;r<e.length;r++)this.element.encodeValue(this.id,e[r],i);var o=i.offset-n,s=_.calculateVarint32(o);if(1<s){var a=i.slice(n,i.offset);n+=s-1,i.offset=n,i.append(a)}i.writeVarint32(o,n-s)}else for(r=0;r<e.length;r++)i.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,e[r],i);else this.map?e.forEach(function(t,e,r){var n=_.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,e)+_.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,t);i.writeVarint32(this.id<<3|g.WIRE_TYPES.LDELIM),i.writeVarint32(n),i.writeVarint32(8|this.keyType.wireType),this.keyElement.encodeValue(1,e,i),i.writeVarint32(16|this.type.wireType),this.element.encodeValue(2,t,i)},this):this.hasWirePresence(e,t)&&(i.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,e,i))}catch(t){throw Error("Illegal value for "+this.toString(!0)+": "+e+" ("+t+")")}return i},i.calculate=function(e,t){if(e=this.verifyValue(e),null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===e||this.repeated&&0==e.length)return 0;var i=0;try{var r,n;if(this.repeated)if(this.options.packed&&0<=g.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)){for(i+=_.calculateVarint32(this.id<<3|g.WIRE_TYPES.LDELIM),r=n=0;r<e.length;r++)n+=this.element.calculateLength(this.id,e[r]);i+=_.calculateVarint32(n),i+=n}else for(r=0;r<e.length;r++)i+=_.calculateVarint32(this.id<<3|this.type.wireType),i+=this.element.calculateLength(this.id,e[r]);else this.map?e.forEach(function(t,e,r){var n=_.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,e)+_.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,t);i+=_.calculateVarint32(this.id<<3|g.WIRE_TYPES.LDELIM),i+=_.calculateVarint32(n),i+=n},this):this.hasWirePresence(e,t)&&(i+=_.calculateVarint32(this.id<<3|this.type.wireType),i+=this.element.calculateLength(this.id,e))}catch(t){throw Error("Illegal value for "+this.toString(!0)+": "+e+" ("+t+")")}return i},i.decode=function(t,e,r){var n,i;if(!(!this.map&&t==this.type.wireType||!r&&this.repeated&&this.options.packed&&t==g.WIRE_TYPES.LDELIM||this.map&&t==g.WIRE_TYPES.LDELIM))throw Error("Illegal wire type for field "+this.toString(!0)+": "+t+" ("+this.type.wireType+" expected)");if(t==g.WIRE_TYPES.LDELIM&&this.repeated&&this.options.packed&&0<=g.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)&&!r){i=e.readVarint32(),i=e.offset+i;for(var o=[];e.offset<i;)o.push(this.decode(this.type.wireType,e,!0));return o}if(this.map){var s=l.defaultFieldValue(this.keyType);if(n=l.defaultFieldValue(this.type),i=e.readVarint32(),e.remaining()<i)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+i+" required but got only "+e.remaining());var a=e.clone();for(a.limit=a.offset+i,e.offset+=i;0<a.remaining();){var u=a.readVarint32();t=7&u;var c=u>>>3;if(1===c)s=this.keyElement.decode(a,t,c);else{if(2!==c)throw Error("Unexpected tag in map field key/value submessage");n=this.element.decode(a,t,c)}}return[s,n]}return this.element.decode(e,t,this.id)},s.Message.Field=c;var o=function(t,e,r,n,i,o,s){c.call(this,t,e,r,null,n,i,o,s),this.extension};o.prototype=Object.create(c.prototype),s.Message.ExtensionField=o;s.Message.OneOf=function(t,e,r){f.call(this,t,e,r),this.fields=[]};var p=function(t,e,r,n,i){a.call(this,t,e,r,n,i),this.className="Enum",this.object=null};p.getName=function(t,e){for(var r,n=Object.keys(t),i=0;i<n.length;++i)if(t[r=n[i]]===e)return r;return null},(p.prototype=Object.create(a.prototype)).build=function(t){if(this.object&&!t)return this.object;for(var e=new g.Builder.Enum,r=this.getChildren(p.Value),n=0,i=r.length;n<i;++n)e[r[n].name]=r[n].id;return Object.defineProperty&&Object.defineProperty(e,"$options",{value:this.buildOpt(),enumerable:!1}),this.object=e},s.Enum=p;var d=function(t,e,r,n){f.call(this,t,e,r),this.className="Enum.Value",this.id=n};d.prototype=Object.create(f.prototype),s.Enum.Value=d;var v=function(t,e,r,n){f.call(this,t,e,r),this.field=n};v.prototype=Object.create(f.prototype),s.Extension=v;var m=function(t,e,r,n){a.call(this,t,e,r,n),this.className="Service",this.clazz=null};(m.prototype=Object.create(a.prototype)).build=function(t){return this.clazz&&!t?this.clazz:this.clazz=function(e,i){for(var o=function(t){e.Builder.Service.call(this),this.rpcImpl=t||function(t,e,r){setTimeout(r.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}},t=o.prototype=Object.create(e.Builder.Service.prototype),r=i.getChildren(e.Reflect.Service.RPCMethod),n=0;n<r.length;n++)!function(n){t[n.name]=function(t,r){try{try{t=n.resolvedRequestType.clazz.decode(_.wrap(t))}catch(t){if(!(t instanceof TypeError))throw t}if(null===t||"object"!=typeof t)throw Error("Illegal arguments");t instanceof n.resolvedRequestType.clazz||(t=new n.resolvedRequestType.clazz(t)),this.rpcImpl(n.fqn(),t,function(t,e){if(t)r(t);else{null===e&&(e="");try{e=n.resolvedResponseType.clazz.decode(e)}catch(t){}e&&e instanceof n.resolvedResponseType.clazz?r(null,e):r(Error("Illegal response type received in service method "+i.name+"#"+n.name))}})}catch(t){setTimeout(r.bind(this,t),0)}},o[n.name]=function(t,e,r){new o(t)[n.name](e,r)},Object.defineProperty&&(Object.defineProperty(o[n.name],"$options",{value:n.buildOpt()}),Object.defineProperty(t[n.name],"$options",{value:o[n.name].$options}))}(r[n]);return Object.defineProperty&&(Object.defineProperty(o,"$options",{value:i.buildOpt()}),Object.defineProperty(t,"$options",{value:o.$options}),Object.defineProperty(o,"$type",{value:i}),Object.defineProperty(t,"$type",{value:i})),o}(g,this)},s.Service=m;var b=function(t,e,r,n){f.call(this,t,e,r),this.className="Service.Method",this.options=n||{}};(b.prototype=Object.create(f.prototype)).buildOpt=e.buildOpt,s.Service.Method=b;var w=function(t,e,r,n,i,o,s,a){b.call(this,t,e,r,a),this.className="Service.RPCMethod",this.requestName=n,this.responseName=i,this.requestStream=o,this.responseStream=s,this.resolvedRequestType=null,this.resolvedResponseType=null};return w.prototype=Object.create(b.prototype),s.Service.RPCMethod=w,s}(o),o.Builder=(e=(l=o).Lang,s=o.Reflect,r=(a=function(t){this.ns=new s.Namespace(this,null,""),this.ptr=this.ns,this.resolved=!1,this.result=null,this.files={},this.importRoot=null,this.options=t||{}}).prototype,a.isMessage=function(t){return"string"==typeof t.name&&void 0===t.values&&void 0===t.rpc},a.isMessageField=function(t){return"string"==typeof t.rule&&"string"==typeof t.name&&"string"==typeof t.type&&void 0!==t.id},a.isEnum=function(t){return"string"==typeof t.name&&!(void 0===t.values||!Array.isArray(t.values)||0===t.values.length)},a.isService=function(t){return!("string"!=typeof t.name||"object"!=typeof t.rpc||!t.rpc)},a.isExtend=function(t){return"string"==typeof t.ref},r.reset=function(){return this.ptr=this.ns,this},r.define=function(t){if("string"!=typeof t||!e.TYPEREF.test(t))throw Error("illegal namespace: "+t);return t.split(".").forEach(function(t){var e=this.ptr.getChild(t);null===e&&this.ptr.addChild(e=new s.Namespace(this,this.ptr,t)),this.ptr=e},this),this},r.create=function(t){if(!t)return this;if(Array.isArray(t)){if(0===t.length)return this;t=t.slice()}else t=[t];for(var e=[t];0<e.length;){if(t=e.pop(),!Array.isArray(t))throw Error("not a valid namespace: "+JSON.stringify(t));for(;0<t.length;){var r=t.shift();if(a.isMessage(r)){var o=new s.Message(this,this.ptr,r.name,r.options,r.isGroup,r.syntax),n={};r.oneofs&&Object.keys(r.oneofs).forEach(function(t){o.addChild(n[t]=new s.Message.OneOf(this,o,t))},this),r.fields&&r.fields.forEach(function(t){if(null!==o.getChild(0|t.id))throw Error("duplicate or invalid field id in "+o.name+": "+t.id);if(t.options&&"object"!=typeof t.options)throw Error("illegal field options in "+o.name+"#"+t.name);var e=null;if("string"==typeof t.oneof&&!(e=n[t.oneof]))throw Error("illegal oneof in "+o.name+"#"+t.name+": "+t.oneof);t=new s.Message.Field(this,o,t.rule,t.keytype,t.type,t.name,t.id,t.options,e,r.syntax),e&&e.fields.push(t),o.addChild(t)},this);var i=[];if(r.enums&&r.enums.forEach(function(t){i.push(t)}),r.messages&&r.messages.forEach(function(t){i.push(t)}),r.services&&r.services.forEach(function(t){i.push(t)}),r.extensions&&("number"==typeof r.extensions[0]?o.extensions=[r.extensions]:o.extensions=r.extensions),this.ptr.addChild(o),0<i.length){e.push(t),t=i,i=null,this.ptr=o,o=null;continue}i=null}else if(a.isEnum(r))o=new s.Enum(this,this.ptr,r.name,r.options,r.syntax),r.values.forEach(function(t){o.addChild(new s.Enum.Value(this,o,t.name,t.id))},this),this.ptr.addChild(o);else if(a.isService(r))o=new s.Service(this,this.ptr,r.name,r.options),Object.keys(r.rpc).forEach(function(t){var e=r.rpc[t];o.addChild(new s.Service.RPCMethod(this,o,t,e.request,e.response,!!e.request_stream,!!e.response_stream,e.options))},this),this.ptr.addChild(o);else{if(!a.isExtend(r))throw Error("not a valid definition: "+JSON.stringify(r));if(o=this.ptr.resolve(r.ref,!0))r.fields.forEach(function(e){if(null!==o.getChild(0|e.id))throw Error("duplicate extended field id in "+o.name+": "+e.id);if(o.extensions){var r=!1;if(o.extensions.forEach(function(t){e.id>=t[0]&&e.id<=t[1]&&(r=!0)}),!r)throw Error("illegal extended field id in "+o.name+": "+e.id+" (not within valid ranges)")}var t=e.name;this.options.convertFieldsToCamelCase&&(t=l.Util.toCamelCase(t));var n=new s.Message.ExtensionField(this,o,e.rule,e.type,this.ptr.fqn()+"."+t,e.id,e.options),i=new s.Extension(this,this.ptr,e.name,n);n.extension=i,this.ptr.addChild(i),o.addChild(n)},this);else if(!/\.?google\.protobuf\./.test(r.ref))throw Error("extended message "+r.ref+" is not defined")}o=r=null}t=null,this.ptr=this.ptr.parent}return this.resolved=!1,this.result=null,this},r.import=function(e,t){var r="/";if("string"==typeof t){if(l.Util.IS_NODE&&(t=h("path").resolve(t)),!0===this.files[t])return this.reset();this.files[t]=!0}else if("object"==typeof t){var n,i=t.root;if(l.Util.IS_NODE&&(i=h("path").resolve(i)),(0<=i.indexOf("\\")||0<=t.file.indexOf("\\"))&&(r="\\"),n=l.Util.IS_NODE?h("path").join(i,t.file):i+r+t.file,!0===this.files[n])return this.reset();this.files[n]=!0}if(e.imports&&0<e.imports.length){var o,s=!1;"object"==typeof t?(this.importRoot=t.root,s=!0,o=this.importRoot,t=t.file,(0<=o.indexOf("\\")||0<=t.indexOf("\\"))&&(r="\\")):"string"==typeof t?this.importRoot?o=this.importRoot:0<=t.indexOf("/")?""===(o=t.replace(/\/[^\/]*$/,""))&&(o="/"):0<=t.indexOf("\\")?(o=t.replace(/\\[^\\]*$/,""),r="\\"):o=".":o=null;for(var a=0;a<e.imports.length;a++)if("string"==typeof e.imports[a]){if(!o)throw Error("cannot determine import root");var u=e.imports[a];if("google/protobuf/descriptor.proto"===u)continue;if(u=l.Util.IS_NODE?h("path").join(o,u):o+r+u,!0===this.files[u])continue;/\.proto$/i.test(u)&&!l.DotProto&&(u=u.replace(/\.proto$/,".json"));var c=l.Util.fetch(u);if(null===c)throw Error("failed to import '"+u+"' in '"+t+"': file not found");/\.json$/i.test(u)?this.import(JSON.parse(c+""),u):this.import(l.DotProto.Parser.parse(c),u)}else t?/\.(\w+)$/.test(t)?this.import(e.imports[a],t.replace(/^(.+)\.(\w+)$/,function(t,e,r){return e+"_import"+a+"."+r})):this.import(e.imports[a],t+"_import"+a):this.import(e.imports[a]);s&&(this.importRoot=null)}e.package&&this.define(e.package),e.syntax&&function e(r){r.messages&&r.messages.forEach(function(t){t.syntax=r.syntax,e(t)}),r.enums&&r.enums.forEach(function(t){t.syntax=r.syntax})}(e);var f=this.ptr;return e.options&&Object.keys(e.options).forEach(function(t){f.options[t]=e.options[t]}),e.messages&&(this.create(e.messages),this.ptr=f),e.enums&&(this.create(e.enums),this.ptr=f),e.services&&(this.create(e.services),this.ptr=f),e.extends&&this.create(e.extends),this.reset()},r.resolveAll=function(){var t;if(null==this.ptr||"object"==typeof this.ptr.type)return this;if(this.ptr instanceof s.Namespace)this.ptr.children.forEach(function(t){this.ptr=t,this.resolveAll()},this);else if(this.ptr instanceof s.Message.Field){if(e.TYPE.test(this.ptr.type))this.ptr.type=l.TYPES[this.ptr.type];else{if(!e.TYPEREF.test(this.ptr.type))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(!(t=(this.ptr instanceof s.Message.ExtensionField?this.ptr.extension.parent:this.ptr.parent).resolve(this.ptr.type,!0)))throw Error("unresolvable type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if((this.ptr.resolvedType=t)instanceof s.Enum){if(this.ptr.type=l.TYPES.enum,"proto3"===this.ptr.syntax&&"proto3"!==t.syntax)throw Error("proto3 message cannot reference proto2 enum")}else{if(!(t instanceof s.Message))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);this.ptr.type=t.isGroup?l.TYPES.group:l.TYPES.message}}if(this.ptr.map){if(!e.TYPE.test(this.ptr.keyType))throw Error("illegal key type for map field in "+this.ptr.toString(!0)+": "+this.ptr.keyType);this.ptr.keyType=l.TYPES[this.ptr.keyType]}"proto3"===this.ptr.syntax&&this.ptr.repeated&&void 0===this.ptr.options.packed&&-1!==l.PACKABLE_WIRE_TYPES.indexOf(this.ptr.type.wireType)&&(this.ptr.options.packed=!0)}else if(this.ptr instanceof l.Reflect.Service.Method){if(!(this.ptr instanceof l.Reflect.Service.RPCMethod))throw Error("illegal service type in "+this.ptr.toString(!0));if(!((t=this.ptr.parent.resolve(this.ptr.requestName,!0))&&t instanceof l.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.requestName);if(this.ptr.resolvedRequestType=t,!((t=this.ptr.parent.resolve(this.ptr.responseName,!0))&&t instanceof l.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.responseName);this.ptr.resolvedResponseType=t}else if(!(this.ptr instanceof l.Reflect.Message.OneOf||this.ptr instanceof l.Reflect.Extension||this.ptr instanceof l.Reflect.Enum.Value))throw Error("illegal object in namespace: "+typeof this.ptr+": "+this.ptr);return this.reset()},r.build=function(t){if(this.reset(),this.resolved||(this.resolveAll(),this.resolved=!0,this.result=null),null===this.result&&(this.result=this.ns.build()),!t)return this.result;for(var e="string"==typeof t?t.split("."):t,r=this.result,n=0;n<e.length;n++){if(!r[e[n]]){r=null;break}r=r[e[n]]}return r},r.lookup=function(t,e){return t?this.ns.resolve(t,e):this.ns},r.toString=function(){return"Builder"},a.Message=function(){},a.Enum=function(){},a.Service=function(){},a),o.Map=function(t,s){var e=function(t,e){if(!t.map)throw Error("field is not a map");if(this.field=t,this.keyElem=new s.Element(t.keyType,null,!0,t.syntax),this.valueElem=new s.Element(t.type,t.resolvedType,!1,t.syntax),this.map={},Object.defineProperty(this,"size",{get:function(){return Object.keys(this.map).length}}),e)for(var r=Object.keys(e),n=0;n<r.length;n++){var i=this.keyElem.valueFromString(r[n]),o=this.valueElem.verifyValue(e[r[n]]);this.map[this.keyElem.valueToString(i)]={key:i,value:o}}},r=e.prototype;function i(t){var e=0;return{next:function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}}return r.clear=function(){this.map={}},r.delete=function(t){var e=this.keyElem.valueToString(this.keyElem.verifyValue(t)),r=e in this.map;return delete this.map[e],r},r.entries=function(){for(var t,e=[],r=Object.keys(this.map),n=0;n<r.length;n++)e.push([(t=this.map[r[n]]).key,t.value]);return i(e)},r.keys=function(){for(var t=[],e=Object.keys(this.map),r=0;r<e.length;r++)t.push(this.map[e[r]].key);return i(t)},r.values=function(){for(var t=[],e=Object.keys(this.map),r=0;r<e.length;r++)t.push(this.map[e[r]].value);return i(t)},r.forEach=function(t,e){for(var r,n=Object.keys(this.map),i=0;i<n.length;i++)t.call(e,(r=this.map[n[i]]).value,r.key,this)},r.set=function(t,e){var r=this.keyElem.verifyValue(t),n=this.valueElem.verifyValue(e);return this.map[this.keyElem.valueToString(r)]={key:r,value:n},this},r.get=function(t){var e=this.keyElem.valueToString(this.keyElem.verifyValue(t));if(e in this.map)return this.map[e].value},r.has=function(t){return this.keyElem.valueToString(this.keyElem.verifyValue(t))in this.map},e}(0,o.Reflect),o.loadProto=function(t,e,r){return("string"==typeof e||e&&"string"==typeof e.file&&"string"==typeof e.root)&&(r=e,e=void 0),o.loadJson(o.DotProto.Parser.parse(t),e,r)},o.protoFromString=o.loadProto,o.loadProtoFile=function(e,r,n){if(r&&"object"==typeof r?(n=r,r=null):r&&"function"==typeof r||(r=null),r)return o.Util.fetch("string"==typeof e?e:e.root+"/"+e.file,function(t){if(null!==t)try{r(null,o.loadProto(t,n,e))}catch(t){r(t)}else r(Error("Failed to fetch file"))});var t=o.Util.fetch("object"==typeof e?e.root+"/"+e.file:e);return null===t?null:o.loadProto(t,n,e)},o.protoFromFile=o.loadProtoFile,o.newBuilder=function(t){return void 0===(t=t||{}).convertFieldsToCamelCase&&(t.convertFieldsToCamelCase=o.convertFieldsToCamelCase),void 0===t.populateAccessors&&(t.populateAccessors=o.populateAccessors),new o.Builder(t)},o.loadJson=function(t,e,r){return("string"==typeof e||e&&"string"==typeof e.file&&"string"==typeof e.root)&&(r=e,e=null),e&&"object"==typeof e||(e=o.newBuilder()),"string"==typeof t&&(t=JSON.parse(t)),e.import(t,r),e.resolveAll(),e},o.loadJsonFile=function(e,r,n){if(r&&"object"==typeof r?(n=r,r=null):r&&"function"==typeof r||(r=null),r)return o.Util.fetch("string"==typeof e?e:e.root+"/"+e.file,function(t){if(null!==t)try{r(null,o.loadJson(JSON.parse(t),n,e))}catch(t){r(t)}else r(Error("Failed to fetch file"))});var t=o.Util.fetch("object"==typeof e?e.root+"/"+e.file:e);return null===t?null:o.loadJson(JSON.parse(t),n,e)},o},"function"==typeof define&&define.amd?define(["bytebuffer"],e):"function"==typeof h&&"object"==typeof r&&r&&r.exports?r.exports=e(h("bytebuffer")):(t.dcodeIO=t.dcodeIO||{}).ProtoBuf=e(t.dcodeIO.ByteBuffer)}).call(this,h("_process"))},{_process:85,bytebuffer:33,fs:30,path:30}],87:[function(t,e,r){e.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":88}],88:[function(t,e,r){"use strict";var n=t("process-nextick-args"),i=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};e.exports=l;var o=t("core-util-is");o.inherits=t("inherits");var s=t("./_stream_readable"),a=t("./_stream_writable");o.inherits(l,s);for(var u=i(a.prototype),c=0;c<u.length;c++){var f=u[c];l.prototype[f]||(l.prototype[f]=a.prototype[f])}function l(t){if(!(this instanceof l))return new l(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||n.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),l.prototype._destroy=function(t,e){this.push(null),this.end(),n.nextTick(e,t)}},{"./_stream_readable":90,"./_stream_writable":92,"core-util-is":34,inherits:72,"process-nextick-args":84}],89:[function(t,e,r){"use strict";e.exports=o;var n=t("./_stream_transform"),i=t("core-util-is");function o(t){if(!(this instanceof o))return new o(t);n.call(this,t)}i.inherits=t("inherits"),i.inherits(o,n),o.prototype._transform=function(t,e,r){r(null,t)}},{"./_stream_transform":91,"core-util-is":34,inherits:72}],90:[function(L,j,t){(function(y,t){"use strict";var v=L("process-nextick-args");j.exports=h;var s,m=L("isarray");h.ReadableState=o;L("events").EventEmitter;var b=function(t,e){return t.listeners(e).length},i=L("./internal/streams/stream"),c=L("safe-buffer").Buffer,f=t.Uint8Array||function(){};var e=L("core-util-is");e.inherits=L("inherits");var r=L("util"),w=void 0;w=r&&r.debuglog?r.debuglog("stream"):function(){};var a,u=L("./internal/streams/BufferList"),n=L("./internal/streams/destroy");e.inherits(h,i);var l=["error","close","destroy","pause","resume"];function o(t,e){t=t||{};var r=e instanceof(s=s||L("./_stream_duplex"));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=t.readableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r&&(i||0===i)?i:o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(a||(a=L("string_decoder/").StringDecoder),this.decoder=new a(t.encoding),this.encoding=t.encoding)}function h(t){if(s=s||L("./_stream_duplex"),!(this instanceof h))return new h(t);this._readableState=new o(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),i.call(this)}function p(t,e,r,n,i){var o,s,a,u=t._readableState;null===e?(u.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,E(t)}(t,u)):(i||(o=function(t,e){var r;n=e,c.isBuffer(n)||n instanceof f||"string"==typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(u,e)),o?t.emit("error",o):u.objectMode||e&&0<e.length?("string"==typeof e||u.objectMode||Object.getPrototypeOf(e)===c.prototype||(s=e,e=c.from(s)),n?u.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):d(t,u,e,!0):u.ended?t.emit("error",new Error("stream.push() after EOF")):(u.reading=!1,u.decoder&&!r?(e=u.decoder.write(e),u.objectMode||0!==e.length?d(t,u,e,!1):T(t,u)):d(t,u,e,!1))):n||(u.reading=!1));return!(a=u).ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}function d(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&E(t)),T(t,e)}Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),h.prototype.destroy=n.destroy,h.prototype._undestroy=n.undestroy,h.prototype._destroy=function(t,e){this.push(null),e(t)},h.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=c.from(t,e),e=""),r=!0),p(this,t,e,!1,r)},h.prototype.unshift=function(t){return p(this,t,null,!0,!1)},h.prototype.isPaused=function(){return!1===this._readableState.flowing},h.prototype.setEncoding=function(t){return a||(a=L("string_decoder/").StringDecoder),this._readableState.decoder=new a(t),this._readableState.encoding=t,this};var g=8388608;function _(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=(g<=(r=t)?r=g:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),r)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0));var r}function E(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(w("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?v.nextTick(x,t):x(t))}function x(t){w("emit readable"),t.emit("readable"),k(t)}function T(t,e){e.readingMore||(e.readingMore=!0,v.nextTick(S,t,e))}function S(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(w("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function A(t){w("readable nexttick read 0"),t.read(0)}function I(t,e){e.reading||(w("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),k(t),e.flowing&&!e.reading&&t.read(0)}function k(t){var e=t._readableState;for(w("flow",e.flowing);e.flowing&&null!==t.read(););}function C(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var n;t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,n=1,i=r.data;t-=i.length;for(;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),0===(t-=s)){s===o.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r).data=o.slice(s);break}++n}return e.length-=n,i}(t,e):function(t,e){var r=c.allocUnsafe(t),n=e.head,i=1;n.data.copy(r),t-=n.data.length;for(;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,s),0===(t-=s)){s===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n).data=o.slice(s);break}++i}return e.length-=i,r}(t,e);return n}(t,e.buffer,e.decoder),r);var r}function O(t){var e=t._readableState;if(0<e.length)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,v.nextTick(B,e,t))}function B(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function P(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}h.prototype.read=function(t){w("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return w("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?O(this):E(this),null;if(0===(t=_(t,e))&&e.ended)return 0===e.length&&O(this),null;var n,i=e.needReadable;return w("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&w("length less than watermark",i=!0),e.ended||e.reading?w("reading or ended",i=!1):i&&(w("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=_(r,e))),null===(n=0<t?C(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&O(this)),null!==n&&this.emit("data",n),n},h.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},h.prototype.pipe=function(r,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=r;break;case 1:i.pipes=[i.pipes,r];break;default:i.pipes.push(r)}i.pipesCount+=1,w("pipe count=%d opts=%j",i.pipesCount,t);var e=(!t||!1!==t.end)&&r!==y.stdout&&r!==y.stderr?s:g;function o(t,e){w("onunpipe"),t===n&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,w("cleanup"),r.removeListener("close",p),r.removeListener("finish",d),r.removeListener("drain",u),r.removeListener("error",h),r.removeListener("unpipe",o),n.removeListener("end",s),n.removeListener("end",g),n.removeListener("data",l),c=!0,!i.awaitDrain||r._writableState&&!r._writableState.needDrain||u())}function s(){w("onend"),r.end()}i.endEmitted?v.nextTick(e):n.once("end",e),r.on("unpipe",o);var a,u=(a=n,function(){var t=a._readableState;w("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&b(a,"data")&&(t.flowing=!0,k(a))});r.on("drain",u);var c=!1;var f=!1;function l(t){w("ondata"),(f=!1)!==r.write(t)||f||((1===i.pipesCount&&i.pipes===r||1<i.pipesCount&&-1!==P(i.pipes,r))&&!c&&(w("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,f=!0),n.pause())}function h(t){w("onerror",t),g(),r.removeListener("error",h),0===b(r,"error")&&r.emit("error",t)}function p(){r.removeListener("finish",d),g()}function d(){w("onfinish"),r.removeListener("close",p),g()}function g(){w("unpipe"),n.unpipe(r)}return n.on("data",l),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?m(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(r,"error",h),r.once("close",p),r.once("finish",d),r.emit("pipe",n),i.flowing||(w("pipe resume"),n.resume()),r},h.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var s=P(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},h.prototype.addListener=h.prototype.on=function(t,e){var r=i.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&E(this):v.nextTick(A,this))}return r},h.prototype.resume=function(){var t,e,r=this._readableState;return r.flowing||(w("resume"),r.flowing=!0,t=this,(e=r).resumeScheduled||(e.resumeScheduled=!0,v.nextTick(I,t,e))),this},h.prototype.pause=function(){return w("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(w("pause"),this._readableState.flowing=!1,this.emit("pause")),this},h.prototype.wrap=function(e){var r=this,n=this._readableState,i=!1;for(var t in e.on("end",function(){if(w("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),e.on("data",function(t){(w("wrapped data"),n.decoder&&(t=n.decoder.write(t)),n.objectMode&&null==t)||(n.objectMode||t&&t.length)&&(r.push(t)||(i=!0,e.pause()))}),e)void 0===this[t]&&"function"==typeof e[t]&&(this[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t));for(var o=0;o<l.length;o++)e.on(l[o],this.emit.bind(this,l[o]));return this._read=function(t){w("wrapped _read",t),i&&(i=!1,e.resume())},this},Object.defineProperty(h.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),h._fromList=C}).call(this,L("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":88,"./internal/streams/BufferList":93,"./internal/streams/destroy":94,"./internal/streams/stream":95,_process:85,"core-util-is":34,events:70,inherits:72,isarray:74,"process-nextick-args":84,"safe-buffer":100,"string_decoder/":104,util:30}],91:[function(t,e,r){"use strict";e.exports=o;var n=t("./_stream_duplex"),i=t("core-util-is");function o(t){if(!(this instanceof o))return new o(t);n.call(this,t),this._transformState={afterTransform:function(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,(r.writecb=null)!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var r=this;"function"==typeof this._flush?this._flush(function(t,e){a(r,t,e)}):a(this,null,null)}function a(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=t("inherits"),i.inherits(o,n),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,n.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var r=this;n.prototype._destroy.call(this,t,function(t){e(t),r.emit("close")})}},{"./_stream_duplex":88,"core-util-is":34,inherits:72}],92:[function(x,T,t){(function(t,e,r){"use strict";var v=x("process-nextick-args");function l(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}T.exports=f;var a,h=!t.browser&&-1<["v0.10","v0.9."].indexOf(t.version.slice(0,5))?r:v.nextTick;f.WritableState=c;var n=x("core-util-is");n.inherits=x("inherits");var i={deprecate:x("util-deprecate")},o=x("./internal/streams/stream"),m=x("safe-buffer").Buffer,b=e.Uint8Array||function(){};var s,u=x("./internal/streams/destroy");function w(){}function c(t,e){a=a||x("./_stream_duplex"),t=t||{};var r=e instanceof a;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=t.writableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r&&(i||0===i)?i:o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var s=(this.destroyed=!1)===t.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(l=r,l.writing=!1,l.writecb=null,l.length-=l.writelen,l.writelen=0,e)s=t,a=r,u=n,c=e,f=i,--a.pendingcb,u?(v.nextTick(f,c),v.nextTick(E,s,a),s._writableState.errorEmitted=!0,s.emit("error",c)):(f(c),s._writableState.errorEmitted=!0,s.emit("error",c),E(s,a));else{var o=g(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||d(t,r),n?h(p,t,r,o,i):p(t,r,o,i)}var s,a,u,c,f;var l}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}function f(t){if(a=a||x("./_stream_duplex"),!(s.call(f,this)||this instanceof a))return new f(t);this._writableState=new c(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),o.call(this)}function _(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function p(t,e,r,n){var i,o;r||(i=t,0===(o=e).length&&o.needDrain&&(o.needDrain=!1,i.emit("drain"))),e.pendingcb--,n(),E(t,e)}function d(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)(i[s]=r).isBuf||(a=!1),r=r.next,s+=1;i.allBuffers=a,_(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new l(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,f=r.callback;if(_(t,e,!1,e.objectMode?1:u.length,u,c,f),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function g(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function y(e,r){e._final(function(t){r.pendingcb--,t&&e.emit("error",t),r.prefinished=!0,e.emit("prefinish"),E(e,r)})}function E(t,e){var r,n,i=g(e);return i&&(r=t,(n=e).prefinished||n.finalCalled||("function"==typeof r._final?(n.pendingcb++,n.finalCalled=!0,v.nextTick(y,r,n)):(n.prefinished=!0,r.emit("prefinish"))),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),i}n.inherits(f,o),c.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(c.prototype,"buffer",{get:i.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(f,Symbol.hasInstance,{value:function(t){return!!s.call(this,t)||this===f&&(t&&t._writableState instanceof c)}})):s=function(t){return t instanceof this},f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},f.prototype.write=function(t,e,r){var n,i,o,s,a,u,c,f,l,h,p,d=this._writableState,g=!1,y=!d.objectMode&&(n=t,m.isBuffer(n)||n instanceof b);return y&&!m.isBuffer(t)&&(i=t,t=m.from(i)),"function"==typeof e&&(r=e,e=null),y?e="buffer":e||(e=d.defaultEncoding),"function"!=typeof r&&(r=w),d.ended?(l=this,h=r,p=new Error("write after end"),l.emit("error",p),v.nextTick(h,p)):(y||(o=this,s=d,u=r,f=!(c=!0),null===(a=t)?f=new TypeError("May not write null values to stream"):"string"==typeof a||void 0===a||s.objectMode||(f=new TypeError("Invalid non-string/buffer chunk")),f&&(o.emit("error",f),v.nextTick(u,f),c=!1),c))&&(d.pendingcb++,g=function(t,e,r,n,i,o){if(!r){var s=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=m.from(e,r));return e}(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else _(t,e,!1,a,n,i,o);return u}(this,d,y,t,e,r)),g},f.prototype.cork=function(){this._writableState.corked++},f.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||d(this,t))},f.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),f.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},f.prototype._writev=null,f.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,e=t=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(t,e,r){e.ending=!0,E(t,e),r&&(e.finished?v.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,n,r)},Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),f.prototype.destroy=u.destroy,f.prototype._undestroy=u.undestroy,f.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,x("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},x("timers").setImmediate)},{"./_stream_duplex":88,"./internal/streams/destroy":94,"./internal/streams/stream":95,_process:85,"core-util-is":34,inherits:72,"process-nextick-args":84,"safe-buffer":100,timers:105,"util-deprecate":108}],93:[function(t,e,r){"use strict";var a=t("safe-buffer").Buffer,n=t("util");e.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};0<this.length?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return a.alloc(0);if(1===this.length)return this.head.data;for(var e,r,n,i=a.allocUnsafe(t>>>0),o=this.head,s=0;o;)e=o.data,r=i,n=s,e.copy(r,n),s+=o.data.length,o=o.next;return i},t}(),n&&n.inspect&&n.inspect.custom&&(e.exports.prototype[n.inspect.custom]=function(){var t=n.inspect({length:this.length});return this.constructor.name+" "+t})},{"safe-buffer":100,util:30}],94:[function(t,e,r){"use strict";var o=t("process-nextick-args");function s(t,e){t.emit("error",e)}e.exports={destroy:function(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?e?e(t):!t||this._writableState&&this._writableState.errorEmitted||o.nextTick(s,this,t):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(o.nextTick(s,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":84}],95:[function(t,e,r){e.exports=t("events").EventEmitter},{events:70}],96:[function(t,e,r){e.exports=t("./readable").PassThrough},{"./readable":97}],97:[function(t,e,r){(((r=e.exports=t("./lib/_stream_readable.js")).Stream=r).Readable=r).Writable=t("./lib/_stream_writable.js"),r.Duplex=t("./lib/_stream_duplex.js"),r.Transform=t("./lib/_stream_transform.js"),r.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":88,"./lib/_stream_passthrough.js":89,"./lib/_stream_readable.js":90,"./lib/_stream_transform.js":91,"./lib/_stream_writable.js":92}],98:[function(t,e,r){e.exports=t("./readable").Transform},{"./readable":97}],99:[function(t,e,r){e.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":92}],100:[function(t,e,r){var n=t("buffer"),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,r),r.Buffer=s),o(i,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},{buffer:32}],101:[function(F,t,e){(function(r){!function(c){c.parser=function(t,e){return new i(t,e)},c.SAXParser=i,c.SAXStream=s,c.createStream=function(t,e){return new s(t,e)},c.MAX_BUFFER_LENGTH=65536;var n,f=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function i(t,e){if(!(this instanceof i))return new i(t,e);var r=this;!function(t){for(var e=0,r=f.length;e<r;e++)t[f[e]]=""}(r),r.q=r.c="",r.bufferCheckPosition=c.MAX_BUFFER_LENGTH,r.opt=e||{},r.opt.lowercase=r.opt.lowercase||r.opt.lowercasetags,r.looseCase=r.opt.lowercase?"toLowerCase":"toUpperCase",r.tags=[],r.closed=r.closedRoot=r.sawRoot=!1,r.tag=r.error=null,r.strict=!!t,r.noscript=!(!t&&!r.opt.noscript),r.state=x.BEGIN,r.strictEntities=r.opt.strictEntities,r.ENTITIES=r.strictEntities?Object.create(c.XML_ENTITIES):Object.create(c.ENTITIES),r.attribList=[],r.opt.xmlns&&(r.ns=Object.create(p)),r.trackPosition=!1!==r.opt.position,r.trackPosition&&(r.position=r.line=r.column=0),T(r,"onready")}c.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){}return e.prototype=t,new e}),Object.keys||(Object.keys=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e}),i.prototype={end:function(){C(this)},write:function(t){var e=this;if(this.error)throw this.error;if(e.closed)return k(e,"Cannot write after close. Assign an onready handler.");if(null===t)return C(e);"object"==typeof t&&(t=t.toString());var r=0,n="";for(;n=D(t,r++),e.c=n;)switch(e.trackPosition&&(e.position++,"\n"===n?(e.line++,e.column=0):e.column++),e.state){case x.BEGIN:if(e.state=x.BEGIN_WHITESPACE,"\ufeff"===n)continue;M(e,n);continue;case x.BEGIN_WHITESPACE:M(e,n);continue;case x.TEXT:if(e.sawRoot&&!e.closedRoot){for(var i=r-1;n&&"<"!==n&&"&"!==n;)(n=D(t,r++))&&e.trackPosition&&(e.position++,"\n"===n?(e.line++,e.column=0):e.column++);e.textNode+=t.substring(i,r-1)}"<"!==n||e.sawRoot&&e.closedRoot&&!e.strict?(m(n)||e.sawRoot&&!e.closedRoot||O(e,"Text data outside of root node."),"&"===n?e.state=x.TEXT_ENTITY:e.textNode+=n):(e.state=x.OPEN_WAKA,e.startTagPosition=e.position);continue;case x.SCRIPT:"<"===n?e.state=x.SCRIPT_ENDING:e.script+=n;continue;case x.SCRIPT_ENDING:e.state="/"===n?x.CLOSE_TAG:(e.script+="<"+n,x.SCRIPT);continue;case x.OPEN_WAKA:if("!"===n)e.state=x.SGML_DECL,e.sgmlDecl="";else if(m(n));else if(w(d,n))e.state=x.OPEN_TAG,e.tagName=n;else if("/"===n)e.state=x.CLOSE_TAG,e.tagName="";else if("?"===n)e.state=x.PROC_INST,e.procInstName=e.procInstBody="";else{if(O(e,"Unencoded <"),e.startTagPosition+1<e.position){var o=e.position-e.startTagPosition;n=new Array(o).join(" ")+n}e.textNode+="<"+n,e.state=x.TEXT}continue;case x.SGML_DECL:(e.sgmlDecl+n).toUpperCase()===l?(S(e,"onopencdata"),e.state=x.CDATA,e.sgmlDecl="",e.cdata=""):e.sgmlDecl+n==="--"?(e.state=x.COMMENT,e.comment="",e.sgmlDecl=""):(e.sgmlDecl+n).toUpperCase()===h?(e.state=x.DOCTYPE,(e.doctype||e.sawRoot)&&O(e,"Inappropriately located doctype declaration"),e.doctype="",e.sgmlDecl=""):">"===n?(S(e,"onsgmldeclaration",e.sgmlDecl),e.sgmlDecl="",e.state=x.TEXT):(b(n)&&(e.state=x.SGML_DECL_QUOTED),e.sgmlDecl+=n);continue;case x.SGML_DECL_QUOTED:n===e.q&&(e.state=x.SGML_DECL,e.q=""),e.sgmlDecl+=n;continue;case x.DOCTYPE:">"===n?(e.state=x.TEXT,S(e,"ondoctype",e.doctype),e.doctype=!0):(e.doctype+=n,"["===n?e.state=x.DOCTYPE_DTD:b(n)&&(e.state=x.DOCTYPE_QUOTED,e.q=n));continue;case x.DOCTYPE_QUOTED:e.doctype+=n,n===e.q&&(e.q="",e.state=x.DOCTYPE);continue;case x.DOCTYPE_DTD:e.doctype+=n,"]"===n?e.state=x.DOCTYPE:b(n)&&(e.state=x.DOCTYPE_DTD_QUOTED,e.q=n);continue;case x.DOCTYPE_DTD_QUOTED:e.doctype+=n,n===e.q&&(e.state=x.DOCTYPE_DTD,e.q="");continue;case x.COMMENT:"-"===n?e.state=x.COMMENT_ENDING:e.comment+=n;continue;case x.COMMENT_ENDING:"-"===n?(e.state=x.COMMENT_ENDED,e.comment=I(e.opt,e.comment),e.comment&&S(e,"oncomment",e.comment),e.comment=""):(e.comment+="-"+n,e.state=x.COMMENT);continue;case x.COMMENT_ENDED:e.state=">"!==n?(O(e,"Malformed comment"),e.comment+="--"+n,x.COMMENT):x.TEXT;continue;case x.CDATA:"]"===n?e.state=x.CDATA_ENDING:e.cdata+=n;continue;case x.CDATA_ENDING:e.state="]"===n?x.CDATA_ENDING_2:(e.cdata+="]"+n,x.CDATA);continue;case x.CDATA_ENDING_2:">"===n?(e.cdata&&S(e,"oncdata",e.cdata),S(e,"onclosecdata"),e.cdata="",e.state=x.TEXT):"]"===n?e.cdata+="]":(e.cdata+="]]"+n,e.state=x.CDATA);continue;case x.PROC_INST:"?"===n?e.state=x.PROC_INST_ENDING:m(n)?e.state=x.PROC_INST_BODY:e.procInstName+=n;continue;case x.PROC_INST_BODY:if(!e.procInstBody&&m(n))continue;"?"===n?e.state=x.PROC_INST_ENDING:e.procInstBody+=n;continue;case x.PROC_INST_ENDING:e.state=">"===n?(S(e,"onprocessinginstruction",{name:e.procInstName,body:e.procInstBody}),e.procInstName=e.procInstBody="",x.TEXT):(e.procInstBody+="?"+n,x.PROC_INST_BODY);continue;case x.OPEN_TAG:w(g,n)?e.tagName+=n:(B(e),">"===n?j(e):e.state="/"===n?x.OPEN_TAG_SLASH:(m(n)||O(e,"Invalid character in tag name"),x.ATTRIB));continue;case x.OPEN_TAG_SLASH:">"===n?(j(e,!0),N(e)):(O(e,"Forward-slash in opening tag not followed by >"),e.state=x.ATTRIB);continue;case x.ATTRIB:if(m(n))continue;">"===n?j(e):"/"===n?e.state=x.OPEN_TAG_SLASH:w(d,n)?(e.attribName=n,e.attribValue="",e.state=x.ATTRIB_NAME):O(e,"Invalid attribute name");continue;case x.ATTRIB_NAME:"="===n?e.state=x.ATTRIB_VALUE:">"===n?(O(e,"Attribute without value"),e.attribValue=e.attribName,L(e),j(e)):m(n)?e.state=x.ATTRIB_NAME_SAW_WHITE:w(g,n)?e.attribName+=n:O(e,"Invalid attribute name");continue;case x.ATTRIB_NAME_SAW_WHITE:if("="===n)e.state=x.ATTRIB_VALUE;else{if(m(n))continue;O(e,"Attribute without value"),e.tag.attributes[e.attribName]="",e.attribValue="",S(e,"onattribute",{name:e.attribName,value:""}),e.attribName="",">"===n?j(e):w(d,n)?(e.attribName=n,e.state=x.ATTRIB_NAME):(O(e,"Invalid attribute name"),e.state=x.ATTRIB)}continue;case x.ATTRIB_VALUE:if(m(n))continue;b(n)?(e.q=n,e.state=x.ATTRIB_VALUE_QUOTED):(O(e,"Unquoted attribute value"),e.state=x.ATTRIB_VALUE_UNQUOTED,e.attribValue=n);continue;case x.ATTRIB_VALUE_QUOTED:if(n!==e.q){"&"===n?e.state=x.ATTRIB_VALUE_ENTITY_Q:e.attribValue+=n;continue}L(e),e.q="",e.state=x.ATTRIB_VALUE_CLOSED;continue;case x.ATTRIB_VALUE_CLOSED:m(n)?e.state=x.ATTRIB:">"===n?j(e):"/"===n?e.state=x.OPEN_TAG_SLASH:w(d,n)?(O(e,"No whitespace between attributes"),e.attribName=n,e.attribValue="",e.state=x.ATTRIB_NAME):O(e,"Invalid attribute name");continue;case x.ATTRIB_VALUE_UNQUOTED:if(">"!==(u=n)&&!m(u)){"&"===n?e.state=x.ATTRIB_VALUE_ENTITY_U:e.attribValue+=n;continue}L(e),">"===n?j(e):e.state=x.ATTRIB;continue;case x.CLOSE_TAG:if(e.tagName)">"===n?N(e):w(g,n)?e.tagName+=n:e.script?(e.script+="</"+e.tagName,e.tagName="",e.state=x.SCRIPT):(m(n)||O(e,"Invalid tagname in closing tag"),e.state=x.CLOSE_TAG_SAW_WHITE);else{if(m(n))continue;w(d,n)?e.tagName=n:e.script?(e.script+="</"+n,e.state=x.SCRIPT):O(e,"Invalid tagname in closing tag.")}continue;case x.CLOSE_TAG_SAW_WHITE:if(m(n))continue;">"===n?N(e):O(e,"Invalid characters in closing tag");continue;case x.TEXT_ENTITY:case x.ATTRIB_VALUE_ENTITY_Q:case x.ATTRIB_VALUE_ENTITY_U:var s,a;switch(e.state){case x.TEXT_ENTITY:s=x.TEXT,a="textNode";break;case x.ATTRIB_VALUE_ENTITY_Q:s=x.ATTRIB_VALUE_QUOTED,a="attribValue";break;case x.ATTRIB_VALUE_ENTITY_U:s=x.ATTRIB_VALUE_UNQUOTED,a="attribValue"}";"===n?(e[a]+=R(e),e.entity="",e.state=s):w(e.entity.length?v:y,n)?e.entity+=n:(O(e,"Invalid character in entity name"),e[a]+="&"+e.entity+n,e.entity="",e.state=s);continue;default:throw new Error(e,"Unknown state: "+e.state)}var u;e.position>=e.bufferCheckPosition&&function(t){for(var e=Math.max(c.MAX_BUFFER_LENGTH,10),r=0,n=0,i=f.length;n<i;n++){var o=t[f[n]].length;if(e<o)switch(f[n]){case"textNode":A(t);break;case"cdata":S(t,"oncdata",t.cdata),t.cdata="";break;case"script":S(t,"onscript",t.script),t.script="";break;default:k(t,"Max buffer length exceeded: "+f[n])}r=Math.max(r,o)}var s=c.MAX_BUFFER_LENGTH-r;t.bufferCheckPosition=s+t.position}(e);return e},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var t;A(t=this),""!==t.cdata&&(S(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(S(t,"onscript",t.script),t.script="")}};try{n=F("stream").Stream}catch(t){n=function(){}}var o=c.EVENTS.filter(function(t){return"error"!==t&&"end"!==t});function s(t,e){if(!(this instanceof s))return new s(t,e);n.apply(this),this._parser=new i(t,e),this.writable=!0,this.readable=!0;var r=this;this._parser.onend=function(){r.emit("end")},this._parser.onerror=function(t){r.emit("error",t),r._parser.error=null},this._decoder=null,o.forEach(function(e){Object.defineProperty(r,"on"+e,{get:function(){return r._parser["on"+e]},set:function(t){if(!t)return r.removeAllListeners(e),r._parser["on"+e]=t;r.on(e,t)},enumerable:!0,configurable:!1})})}(s.prototype=Object.create(n.prototype,{constructor:{value:s}})).write=function(t){if("function"==typeof r&&"function"==typeof r.isBuffer&&r.isBuffer(t)){if(!this._decoder){var e=F("string_decoder").StringDecoder;this._decoder=new e("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},s.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},s.prototype.on=function(e,t){var r=this;return r._parser["on"+e]||-1===o.indexOf(e)||(r._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),r.emit.apply(r,t)}),n.prototype.on.call(r,e,t)};var l="[CDATA[",h="DOCTYPE",a="http://www.w3.org/XML/1998/namespace",u="http://www.w3.org/2000/xmlns/",p={xml:a,xmlns:u},d=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,g=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function m(t){return" "===t||"\n"===t||"\r"===t||"\t"===t}function b(t){return'"'===t||"'"===t}function w(t,e){return t.test(e)}var _,E,t,x=0;for(var e in c.STATE={BEGIN:x++,BEGIN_WHITESPACE:x++,TEXT:x++,TEXT_ENTITY:x++,OPEN_WAKA:x++,SGML_DECL:x++,SGML_DECL_QUOTED:x++,DOCTYPE:x++,DOCTYPE_QUOTED:x++,DOCTYPE_DTD:x++,DOCTYPE_DTD_QUOTED:x++,COMMENT_STARTING:x++,COMMENT:x++,COMMENT_ENDING:x++,COMMENT_ENDED:x++,CDATA:x++,CDATA_ENDING:x++,CDATA_ENDING_2:x++,PROC_INST:x++,PROC_INST_BODY:x++,PROC_INST_ENDING:x++,OPEN_TAG:x++,OPEN_TAG_SLASH:x++,ATTRIB:x++,ATTRIB_NAME:x++,ATTRIB_NAME_SAW_WHITE:x++,ATTRIB_VALUE:x++,ATTRIB_VALUE_QUOTED:x++,ATTRIB_VALUE_CLOSED:x++,ATTRIB_VALUE_UNQUOTED:x++,ATTRIB_VALUE_ENTITY_Q:x++,ATTRIB_VALUE_ENTITY_U:x++,CLOSE_TAG:x++,CLOSE_TAG_SAW_WHITE:x++,SCRIPT:x++,SCRIPT_ENDING:x++},c.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},c.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(c.ENTITIES).forEach(function(t){var e=c.ENTITIES[t],r="number"==typeof e?String.fromCharCode(e):e;c.ENTITIES[t]=r}),c.STATE)c.STATE[c.STATE[e]]=e;function T(t,e,r){t[e]&&t[e](r)}function S(t,e,r){t.textNode&&A(t),T(t,e,r)}function A(t){t.textNode=I(t.opt,t.textNode),t.textNode&&T(t,"ontext",t.textNode),t.textNode=""}function I(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function k(t,e){return A(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,T(t,"onerror",e),t}function C(t){return t.sawRoot&&!t.closedRoot&&O(t,"Unclosed root tag"),t.state!==x.BEGIN&&t.state!==x.BEGIN_WHITESPACE&&t.state!==x.TEXT&&k(t,"Unexpected end"),A(t),t.c="",t.closed=!0,T(t,"onend"),i.call(t,t.strict,t.opt),t}function O(t,e){if("object"!=typeof t||!(t instanceof i))throw new Error("bad call to strictFail");t.strict&&k(t,e)}function B(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,r=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(r.ns=e.ns),t.attribList.length=0,S(t,"onopentagstart",r)}function P(t,e){var r=t.indexOf(":")<0?["",t]:t.split(":"),n=r[0],i=r[1];return e&&"xmlns"===t&&(n="xmlns",i=""),{prefix:n,local:i}}function L(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))t.attribName=t.attribValue="";else{if(t.opt.xmlns){var e=P(t.attribName,!0),r=e.prefix,n=e.local;if("xmlns"===r)if("xml"===n&&t.attribValue!==a)O(t,"xml: prefix must be bound to "+a+"\nActual: "+t.attribValue);else if("xmlns"===n&&t.attribValue!==u)O(t,"xmlns: prefix must be bound to "+u+"\nActual: "+t.attribValue);else{var i=t.tag,o=t.tags[t.tags.length-1]||t;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[n]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,S(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}}function j(e,t){if(e.opt.xmlns){var r=e.tag,n=P(e.tagName);r.prefix=n.prefix,r.local=n.local,r.uri=r.ns[n.prefix]||"",r.prefix&&!r.uri&&(O(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),r.uri=n.prefix);var i=e.tags[e.tags.length-1]||e;r.ns&&i.ns!==r.ns&&Object.keys(r.ns).forEach(function(t){S(e,"onopennamespace",{prefix:t,uri:r.ns[t]})});for(var o=0,s=e.attribList.length;o<s;o++){var a=e.attribList[o],u=a[0],c=a[1],f=P(u,!0),l=f.prefix,h=f.local,p=""===l?"":r.ns[l]||"",d={name:u,value:c,prefix:l,local:h,uri:p};l&&"xmlns"!==l&&!p&&(O(e,"Unbound namespace prefix: "+JSON.stringify(l)),d.uri=l),e.tag.attributes[u]=d,S(e,"onattribute",d)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),S(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=x.TEXT:e.state=x.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function N(r){if(!r.tagName)return O(r,"Weird empty close tag."),r.textNode+="</>",void(r.state=x.TEXT);if(r.script){if("script"!==r.tagName)return r.script+="</"+r.tagName+">",r.tagName="",void(r.state=x.SCRIPT);S(r,"onscript",r.script),r.script=""}var t=r.tags.length,e=r.tagName;r.strict||(e=e[r.looseCase]());for(var n=e;t--;){if(r.tags[t].name===n)break;O(r,"Unexpected close tag")}if(t<0)return O(r,"Unmatched closing tag: "+r.tagName),r.textNode+="</"+r.tagName+">",void(r.state=x.TEXT);r.tagName=e;for(var i=r.tags.length;i-- >t;){var o=r.tag=r.tags.pop();r.tagName=r.tag.name,S(r,"onclosetag",r.tagName);var s={};for(var a in o.ns)s[a]=o.ns[a];var u=r.tags[r.tags.length-1]||r;r.opt.xmlns&&o.ns!==u.ns&&Object.keys(o.ns).forEach(function(t){var e=o.ns[t];S(r,"onclosenamespace",{prefix:t,uri:e})})}0===t&&(r.closedRoot=!0),r.tagName=r.attribValue=r.attribName="",r.attribList.length=0,r.state=x.TEXT}function R(t){var e,r=t.entity,n=r.toLowerCase(),i="";return t.ENTITIES[r]?t.ENTITIES[r]:t.ENTITIES[n]?t.ENTITIES[n]:("#"===(r=n).charAt(0)&&(i="x"===r.charAt(1)?(r=r.slice(2),(e=parseInt(r,16)).toString(16)):(r=r.slice(1),(e=parseInt(r,10)).toString(10))),r=r.replace(/^0+/,""),isNaN(e)||i.toLowerCase()!==r?(O(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCodePoint(e))}function M(t,e){"<"===e?(t.state=x.OPEN_WAKA,t.startTagPosition=t.position):m(e)||(O(t,"Non-whitespace before first tag."),t.textNode=e,t.state=x.TEXT)}function D(t,e){var r="";return e<t.length&&(r=t.charAt(e)),r}x=c.STATE,String.fromCodePoint||(_=String.fromCharCode,E=Math.floor,t=function(){var t,e,r=[],n=-1,i=arguments.length;if(!i)return"";for(var o="";++n<i;){var s=Number(arguments[n]);if(!isFinite(s)||s<0||1114111<s||E(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?r.push(s):(t=55296+((s-=65536)>>10),e=s%1024+56320,r.push(t,e)),(n+1===i||16384<r.length)&&(o+=_.apply(null,r),r.length=0)}return o},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:t,configurable:!0,writable:!0}):String.fromCodePoint=t)}(void 0===e?this.sax={}:e)}).call(this,F("buffer").Buffer)},{buffer:32,stream:103,string_decoder:104}],102:[function(n,i,o){var t,p,d,y,v,m,b,w,_,E,e,x,T;t=this,y="hasOwnProperty",v=/[\.\/]/,m=/\s*,\s*/,b=function(t,e){return t-e},w={n:{}},_=function(){for(var t=0,e=this.length;t<e;t++)if(void 0!==this[t])return this[t]},E=function(){for(var t=this.length;--t;)if(void 0!==this[t])return this[t]},e=Object.prototype.toString,x=String,T=Array.isArray||function(t){return t instanceof Array||"[object Array]"==e.call(t)},eve=function(t,e){var r,n=d,i=Array.prototype.slice.call(arguments,2),o=eve.listeners(t),s=0,a=[],u={},c=[],f=p;c.firstDefined=_,c.lastDefined=E,p=t;for(var l=d=0,h=o.length;l<h;l++)"zIndex"in o[l]&&(a.push(o[l].zIndex),o[l].zIndex<0&&(u[o[l].zIndex]=o[l]));for(a.sort(b);a[s]<0;)if(r=u[a[s++]],c.push(r.apply(e,i)),d)return d=n,c;for(l=0;l<h;l++)if("zIndex"in(r=o[l]))if(r.zIndex==a[s]){if(c.push(r.apply(e,i)),d)break;do{if((r=u[a[++s]])&&c.push(r.apply(e,i)),d)break}while(r)}else u[r.zIndex]=r;else if(c.push(r.apply(e,i)),d)break;return d=n,p=f,c},eve._events=w,eve.listeners=function(t){var e,r,n,i,o,s,a,u,c=T(t)?t:t.split(v),f=w,l=[f],h=[];for(i=0,o=c.length;i<o;i++){for(u=[],s=0,a=l.length;s<a;s++)for(r=[(f=l[s].n)[c[i]],f["*"]],n=2;n--;)(e=r[n])&&(u.push(e),h=h.concat(e.f||[]));l=u}return h},eve.separator=function(t){v=t?(t="["+(t=x(t).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",new RegExp(t)):/[\.\/]/},eve.on=function(t,s){if("function"!=typeof s)return function(){};for(var e=T(t)?T(t[0])?t:[t]:x(t).split(m),r=0,n=e.length;r<n;r++)!function(t){for(var e,r=T(t)?t:x(t).split(v),n=w,i=0,o=r.length;i<o;i++)n=(n=n.n).hasOwnProperty(r[i])&&n[r[i]]||(n[r[i]]={n:{}});for(n.f=n.f||[],i=0,o=n.f.length;i<o;i++)if(n.f[i]==s){e=!0;break}!e&&n.f.push(s)}(e[r]);return function(t){+t==+t&&(s.zIndex=+t)}},eve.f=function(t){var e=[].slice.call(arguments,1);return function(){eve.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},eve.stop=function(){d=1},eve.nt=function(t){var e=T(p)?p.join("."):p;return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},eve.nts=function(){return T(p)?p:p.split(v)},eve.off=eve.unbind=function(t,e){if(t){var r=T(t)?T(t[0])?t:[t]:x(t).split(m);if(1<r.length)for(var n=0,i=r.length;n<i;n++)eve.off(r[n],e);else{r=T(t)?t:x(t).split(v);var o,s,a,u,c,f=[w],l=[];for(n=0,i=r.length;n<i;n++)for(u=0;u<f.length;u+=a.length-2){if(a=[u,1],o=f[u].n,"*"!=r[n])o[r[n]]&&(a.push(o[r[n]]),l.unshift({n:o,name:r[n]}));else for(s in o)o[y](s)&&(a.push(o[s]),l.unshift({n:o,name:s}));f.splice.apply(f,a)}for(n=0,i=f.length;n<i;n++)for(o=f[n];o.n;){if(e){if(o.f){for(u=0,c=o.f.length;u<c;u++)if(o.f[u]==e){o.f.splice(u,1);break}!o.f.length&&delete o.f}for(s in o.n)if(o.n[y](s)&&o.n[s].f){var h=o.n[s].f;for(u=0,c=h.length;u<c;u++)if(h[u]==e){h.splice(u,1);break}!h.length&&delete o.n[s].f}}else for(s in delete o.f,o.n)o.n[y](s)&&o.n[s].f&&delete o.n[s].f;o=o.n}t:for(n=0,i=l.length;n<i;n++){for(s in(o=l[n]).n[o.name].f)continue t;for(s in o.n[o.name].n)continue t;delete o.n[o.name]}}}else eve._events=w={n:{}}},eve.once=function(t,e){var r=function(){return eve.off(t,r),e.apply(this,arguments)};return eve.on(t,r)},eve.version="0.5.0",eve.toString=function(){return"You are running Eve 0.5.0"},void 0!==i&&i.exports?i.exports=eve:"function"==typeof define&&define.amd?define("eve",[],function(){return eve}):t.eve=eve,function(e,r){if("function"==typeof define&&define.amd)define(["eve"],function(t){return r(e,t)});else if(void 0!==o){var t=n("eve");i.exports=r(e,t)}else r(e,e.eve)}(window||this,function(v,W){var o,s,f,a,i,l,h,t,p,d,y,m,b,w,_,E,x,T=(o=void 0===W?function(){}:W,f={},a=v.requestAnimationFrame||v.webkitRequestAnimationFrame||v.mozRequestAnimationFrame||v.oRequestAnimationFrame||v.msRequestAnimationFrame||function(t){return setTimeout(t,16,(new Date).getTime()),!0},i=Array.isArray||function(t){return t instanceof Array||"[object Array]"==Object.prototype.toString.call(t)},l=0,h="M"+(+new Date).toString(36),t=Date.now||function(){return+new Date},p=function(t){if(null==t)return this.s;var e=this.s-t;this.b+=this.dur*e,this.B+=this.dur*e,this.s=t},d=function(t){if(null==t)return this.spd;this.spd=t},y=function(t){if(null==t)return this.dur;this.s=this.s*t/this.dur,this.dur=t},m=function(){delete f[this.id],this.update(),o("mina.stop."+this.id,this)},b=function(){this.pdif||(delete f[this.id],this.update(),this.pdif=this.get()-this.b)},w=function(){this.pdif&&(this.b=this.get()-this.pdif,delete this.pdif,f[this.id]=this,E())},_=function(){var t,e=this;if(i(e.start)){t=[];for(var r=0,n=e.start.length;r<n;r++)t[r]=+e.start[r]+(e.end[r]-e.start[r])*e.easing(e.s)}else t=+e.start+(e.end-e.start)*e.easing(e.s);e.set(t)},E=function(t){if(t){var e=0;for(var r in f)if(f.hasOwnProperty(r)){var n=f[r],i=n.get();e++,n.s=(i-n.b)/(n.dur/n.spd),1<=n.s&&(delete f[r],n.s=1,e--,function(t){setTimeout(function(){o("mina.finish."+t.id,t)})}(n)),n.update()}s=!!e&&a(E)}else s||(s=a(E))},(x=function(t,e,r,n,i,o,s){var a={id:h+(l++).toString(36),start:t,end:e,b:r,s:0,dur:n-r,spd:1,get:i,set:o,easing:s||x.linear,status:p,speed:d,duration:y,stop:m,pause:b,resume:w,update:_};f[a.id]=a;var u,c=0;for(u in f)if(f.hasOwnProperty(u)&&2==++c)break;return 1==c&&E(),a}).time=t,x.getById=function(t){return f[t]||null},x.linear=function(t){return t},x.easeout=function(t){return Math.pow(t,1.7)},x.easein=function(t){return Math.pow(t,.48)},x.easeinout=function(t){if(1==t)return 1;if(0==t)return 0;var e=.48-t/1.04,r=Math.sqrt(.1734+e*e),n=r-e,i=-r-e,o=Math.pow(Math.abs(n),1/3)*(n<0?-1:1)+Math.pow(Math.abs(i),1/3)*(i<0?-1:1)+.5;return 3*(1-o)*o*o+o*o*o},x.backin=function(t){return 1==t?1:t*t*(2.70158*t-1.70158)},x.backout=function(t){return 0==t?0:(t-=1)*t*(2.70158*t+1.70158)+1},x.elastic=function(t){return t==!!t?t:Math.pow(2,-10*t)*Math.sin((t-.075)*(2*Math.PI)/.3)+1},x.bounce=function(t){var e=7.5625;return t<1/2.75?e*t*t:t<2/2.75?e*(t-=1.5/2.75)*t+.75:t<2.5/2.75?e*(t-=2.25/2.75)*t+.9375:e*(t-=2.625/2.75)*t+.984375},v.mina=x),e=function(t){function y(t,e){if(t){if(t.nodeType)return X(t);if(C(t,"array")&&y.set)return y.set.apply(y,t);if(t instanceof z)return t;if(null==e)return X(t=p.doc.querySelector(String(t)))}return new q(t=null==t?"100%":t,e=null==e?"100%":e)}y.version="0.5.1",y.toString=function(){return"Snap v"+this.version},y._={};var p={win:t.window,doc:t.window.document};y._.glob=p;var e,s,c="hasOwnProperty",v=String,u=parseFloat,f=parseInt,l=Math,h=l.max,d=l.min,m=l.abs,b=(l.pow,l.PI),r=(l.round,Object.prototype.toString),w=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,_=(y._.separator=/[,\s]+/,/[\s]*,[\s]*/),E={hs:1,rg:1},n=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,o=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,a=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\s]*,?[\s]*/gi,i=0,x="S"+(+new Date).toString(36),T=function(t){return(t&&t.type?t.type:"")+x+(i++).toString(36)},S="http://www.w3.org/1999/xlink",A="http://www.w3.org/2000/svg",I={};y.url=function(t){return"url('#"+t+"')"};function k(t,e){if(e){if("#text"==t&&(t=p.doc.createTextNode(e.text||e["#text"]||"")),"#comment"==t&&(t=p.doc.createComment(e.text||e["#text"]||"")),"string"==typeof t&&(t=k(t)),"string"==typeof e)return 1==t.nodeType?"xlink:"==e.substring(0,6)?t.getAttributeNS(S,e.substring(6)):"xml:"==e.substring(0,4)?t.getAttributeNS(A,e.substring(4)):t.getAttribute(e):"text"==e?t.nodeValue:null;if(1==t.nodeType){for(var r in e)if(e[c](r)){var n=v(e[r]);n?"xlink:"==r.substring(0,6)?t.setAttributeNS(S,r.substring(6),n):"xml:"==r.substring(0,4)?t.setAttributeNS(A,r.substring(4),n):t.setAttribute(r,n):t.removeAttribute(r)}}else"text"in e&&(t.nodeValue=e.text)}else t=p.doc.createElementNS(A,t);return t}function C(t,e){return"finite"==(e=v.prototype.toLowerCase.call(e))?isFinite(t):!("array"!=e||!(t instanceof Array||Array.isArray&&Array.isArray(t)))||("null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||r.call(t).slice(8,-1).toLowerCase()==e)}function O(o,s,a){return function t(){var e=Array.prototype.slice.call(arguments,0),r=e.join("␀"),n=t.cache=t.cache||{},i=t.count=t.count||[];return n[c](r)?function(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return t.push(t.splice(r,1)[0])}(i,r):(1e3<=i.length&&delete n[i.shift()],i.push(r),n[r]=o.apply(s,e)),a?a(n[r]):n[r]}}function B(t){return t%360*b/180}y._.$=k,y._.id=T,y.format=(e=/\{([^\}]+)\}/g,s=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(t,i){return v(t).replace(e,function(t,e){return r=t,o=n=i,e.replace(s,function(t,e,r,n,i){e=e||n,o&&(e in o&&(o=o[e]),"function"==typeof o&&i&&(o=o()))}),o=(null==o||o==n?r:o)+"";var r,n,o})}),y._.clone=function t(e){if("function"==typeof e||Object(e)!==e)return e;var r=new e.constructor;for(var n in e)e[c](n)&&(r[n]=t(e[n]));return r},y._.cacher=O,y.rad=B,y.deg=function(t){return 180*t/b%360},y.sin=function(t){return l.sin(y.rad(t))},y.tan=function(t){return l.tan(y.rad(t))},y.cos=function(t){return l.cos(y.rad(t))},y.asin=function(t){return y.deg(l.asin(t))},y.acos=function(t){return y.deg(l.acos(t))},y.atan=function(t){return y.deg(l.atan(t))},y.atan2=function(t){return y.deg(l.atan2(t))},y.angle=function t(e,r,n,i,o,s){if(null!=o)return t(e,r,o,s)-t(n,i,o,s);var a=e-n,u=r-i;return a||u?(180+180*l.atan2(-u,-a)/b+360)%360:0},y.len=function(t,e,r,n){return Math.sqrt(y.len2(t,e,r,n))},y.len2=function(t,e,r,n){return(t-r)*(t-r)+(e-n)*(e-n)},y.closestPoint=function(t,n,i){function e(t){var e=t.x-n,r=t.y-i;return e*e+r*r}for(var r,o,s,a,u=t.node,c=u.getTotalLength(),f=c/u.pathSegList.numberOfItems*.125,l=1/0,h=0;h<=c;h+=f)(a=e(s=u.getPointAtLength(h)))<l&&(r=s,o=h,l=a);for(f*=.5;.5<f;){var p,d,g,y,v,m;0<=(g=o-f)&&(v=e(p=u.getPointAtLength(g)))<l?(r=p,o=g,l=v):(y=o+f)<=c&&(m=e(d=u.getPointAtLength(y)))<l?(r=d,o=y,l=m):f*=.5}return r={x:r.x,y:r.y,length:o,distance:Math.sqrt(l)}},y.is=C,y.snapTo=function(t,e,r){if(r=C(r,"finite")?r:10,C(t,"array")){for(var n=t.length;n--;)if(m(t[n]-e)<=r)return t[n]}else{var i=e%(t=+t);if(i<r)return e-i;if(t-r<i)return e-i+t}return e},y.getRGB=O(function(t){if(!t||(t=v(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:N};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:N};if(!E[c](t.toLowerCase().substring(0,2))&&"#"!=t.charAt()&&(t=P(t)),!t)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:N};var e,r,n,i,o,s,a=t.match(w);return a?(a[2]&&(n=f(a[2].substring(5),16),r=f(a[2].substring(3,5),16),e=f(a[2].substring(1,3),16)),a[3]&&(n=f((o=a[3].charAt(3))+o,16),r=f((o=a[3].charAt(2))+o,16),e=f((o=a[3].charAt(1))+o,16)),a[4]&&(s=a[4].split(_),e=u(s[0]),"%"==s[0].slice(-1)&&(e*=2.55),r=u(s[1]),"%"==s[1].slice(-1)&&(r*=2.55),n=u(s[2]),"%"==s[2].slice(-1)&&(n*=2.55),"rgba"==a[1].toLowerCase().slice(0,4)&&(i=u(s[3])),s[3]&&"%"==s[3].slice(-1)&&(i/=100)),a[5]?(s=a[5].split(_),e=u(s[0]),"%"==s[0].slice(-1)&&(e/=100),r=u(s[1]),"%"==s[1].slice(-1)&&(r/=100),n=u(s[2]),"%"==s[2].slice(-1)&&(n/=100),("deg"==s[0].slice(-3)||"°"==s[0].slice(-1))&&(e/=360),"hsba"==a[1].toLowerCase().slice(0,4)&&(i=u(s[3])),s[3]&&"%"==s[3].slice(-1)&&(i/=100),y.hsb2rgb(e,r,n,i)):a[6]?(s=a[6].split(_),e=u(s[0]),"%"==s[0].slice(-1)&&(e/=100),r=u(s[1]),"%"==s[1].slice(-1)&&(r/=100),n=u(s[2]),"%"==s[2].slice(-1)&&(n/=100),("deg"==s[0].slice(-3)||"°"==s[0].slice(-1))&&(e/=360),"hsla"==a[1].toLowerCase().slice(0,4)&&(i=u(s[3])),s[3]&&"%"==s[3].slice(-1)&&(i/=100),y.hsl2rgb(e,r,n,i)):(e=d(l.round(e),255),r=d(l.round(r),255),n=d(l.round(n),255),i=d(h(i,0),1),(a={r:e,g:r,b:n,toString:N}).hex="#"+(16777216|n|r<<8|e<<16).toString(16).slice(1),a.opacity=C(i,"finite")?i:1,a)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:N}},y),y.hsb=O(function(t,e,r){return y.hsb2rgb(t,e,r).hex}),y.hsl=O(function(t,e,r){return y.hsl2rgb(t,e,r).hex}),y.rgb=O(function(t,e,r,n){if(C(n,"finite")){var i=l.round;return"rgba("+[i(t),i(e),i(r),+n.toFixed(2)]+")"}return"#"+(16777216|r|e<<8|t<<16).toString(16).slice(1)});var P=function(t){var r=p.doc.getElementsByTagName("head")[0]||p.doc.getElementsByTagName("svg")[0],n="rgb(255, 0, 0)";return(P=O(function(t){if("red"==t.toLowerCase())return n;r.style.color=n,r.style.color=t;var e=p.doc.defaultView.getComputedStyle(r,"").getPropertyValue("color");return e==n?null:e}))(t)},L=function(){return"hsb("+[this.h,this.s,this.b]+")"},j=function(){return"hsl("+[this.h,this.s,this.l]+")"},N=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},R=function(t,e,r){if(null==e&&C(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,e=t.g,t=t.r),null==e&&C(t,string)){var n=y.getRGB(t);t=n.r,e=n.g,r=n.b}return(1<t||1<e||1<r)&&(t/=255,e/=255,r/=255),[t,e,r]},M=function(t,e,r,n){var i={r:t=l.round(255*t),g:e=l.round(255*e),b:r=l.round(255*r),opacity:C(n,"finite")?n:1,hex:y.rgb(t,e,r),toString:N};return C(n,"finite")&&(i.opacity=n),i};y.color=function(t){var e;return C(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=y.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.opacity=1,t.hex=e.hex):C(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=y.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.opacity=1,t.hex=e.hex):(C(t,"string")&&(t=y.getRGB(t)),C(t,"object")&&"r"in t&&"g"in t&&"b"in t&&!("error"in t)?(e=y.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=y.rgb2hsb(t),t.v=e.b):((t={hex:"none"}).r=t.g=t.b=t.h=t.s=t.v=t.l=-1,t.error=1)),t.toString=N,t},y.hsb2rgb=function(t,e,r,n){var i,o,s,a,u;return C(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(r=t.b,e=t.s,n=t.o,t=t.h),a=(u=r*e)*(1-m((t=(t*=360)%360/60)%2-1)),i=o=s=r-u,M(i+=[u,a,0,0,a,u][t=~~t],o+=[a,u,u,a,0,0][t],s+=[0,0,a,u,u,a][t],n)},y.hsl2rgb=function(t,e,r,n){var i,o,s,a,u;return C(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(r=t.l,e=t.s,t=t.h),(1<t||1<e||1<r)&&(t/=360,e/=100,r/=100),a=(u=2*e*(r<.5?r:1-r))*(1-m((t=(t*=360)%360/60)%2-1)),i=o=s=r-u/2,M(i+=[u,a,0,0,a,u][t=~~t],o+=[a,u,u,a,0,0][t],s+=[0,0,a,u,u,a][t],n)},y.rgb2hsb=function(t,e,r){var n,i;return t=(r=R(t,e,r))[0],e=r[1],r=r[2],{h:((0==(i=(n=h(t,e,r))-d(t,e,r))?null:n==t?(e-r)/i:n==e?(r-t)/i+2:(t-e)/i+4)+360)%6*60/360,s:0==i?0:i/n,b:n,toString:L}},y.rgb2hsl=function(t,e,r){var n,i,o,s;return t=(r=R(t,e,r))[0],e=r[1],r=r[2],n=((i=h(t,e,r))+(o=d(t,e,r)))/2,{h:((0==(s=i-o)?null:i==t?(e-r)/s:i==e?(r-t)/s+2:(t-e)/s+4)+360)%6*60/360,s:0==s?0:n<.5?s/(2*n):s/(2-2*n),l:n,toString:j}},y.parsePathString=function(t){if(!t)return null;var e=y.path(t);if(e.arr)return y.path.clone(e.arr);var o={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},s=[];return C(t,"array")&&C(t[0],"array")&&(s=y.path.clone(t)),s.length||v(t).replace(n,function(t,e,r){var n=[],i=e.toLowerCase();if(r.replace(a,function(t,e){e&&n.push(+e)}),"m"==i&&2<n.length&&(s.push([e].concat(n.splice(0,2))),i="l",e="m"==e?"l":"L"),"o"==i&&1==n.length&&s.push([e,n[0]]),"r"==i)s.push([e].concat(n));else for(;n.length>=o[i]&&(s.push([e].concat(n.splice(0,o[i]))),o[i]););}),s.toString=y.path.toString,e.arr=y.path.clone(s),s};var D=y.parseTransformString=function(t){if(!t)return null;var i=[];return C(t,"array")&&C(t[0],"array")&&(i=y.path.clone(t)),i.length||v(t).replace(o,function(t,e,r){var n=[];e.toLowerCase();r.replace(a,function(t,e){e&&n.push(+e)}),i.push([e].concat(n))}),i.toString=y.path.toString,i};y._.svgTransform2string=function(t){var n=[];return t=t.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(t,e,r){return r=r.split(/\s*,\s*|\s+/),"rotate"==e&&1==r.length&&r.push(0,0),"scale"==e&&(2<r.length?r=r.slice(0,2):2==r.length&&r.push(0,0),1==r.length&&r.push(r[0],0,0)),"skewX"==e?n.push(["m",1,0,l.tan(B(r[0])),1,0,0]):"skewY"==e?n.push(["m",1,l.tan(B(r[0])),0,1,0,0]):n.push([e.charAt(0)].concat(r)),t}),n},y._.rgTransform=/^[a-z][\s]*-?\.?\d/i,y._.transform2matrix=function(t,e){var r=D(t),n=new y.Matrix;if(r)for(var i=0,o=r.length;i<o;i++){var s,a,u,c,f,l=r[i],h=l.length,p=v(l[0]).toLowerCase(),d=l[0]!=p,g=d?n.invert():0;"t"==p&&2==h?n.translate(l[1],0):"t"==p&&3==h?d?(s=g.x(0,0),a=g.y(0,0),u=g.x(l[1],l[2]),c=g.y(l[1],l[2]),n.translate(u-s,c-a)):n.translate(l[1],l[2]):"r"==p?2==h?(f=f||e,n.rotate(l[1],f.x+f.width/2,f.y+f.height/2)):4==h&&(d?(u=g.x(l[2],l[3]),c=g.y(l[2],l[3]),n.rotate(l[1],u,c)):n.rotate(l[1],l[2],l[3])):"s"==p?2==h||3==h?(f=f||e,n.scale(l[1],l[h-1],f.x+f.width/2,f.y+f.height/2)):4==h?d?(u=g.x(l[2],l[3]),c=g.y(l[2],l[3]),n.scale(l[1],l[1],u,c)):n.scale(l[1],l[1],l[2],l[3]):5==h&&(d?(u=g.x(l[3],l[4]),c=g.y(l[3],l[4]),n.scale(l[1],l[2],u,c)):n.scale(l[1],l[2],l[3],l[4])):"m"==p&&7==h&&n.add(l[1],l[2],l[3],l[4],l[5],l[6])}return n},y._unit2px=function(r,n,i){var t=F(r).node,o={},e=t.querySelector(".svg---mgr");e||(k(e=k("rect"),{x:-9e9,y:-9e9,width:10,height:10,class:"svg---mgr",fill:"none"}),t.appendChild(e));function s(t){if(null==t)return"";if(t==+t)return t;k(e,{width:t});try{return e.getBBox().width}catch(t){return 0}}function a(t){if(null==t)return"";if(t==+t)return t;k(e,{height:t});try{return e.getBBox().height}catch(t){return 0}}function u(t,e){null==n?o[t]=e(r.attr(t)||0):t==n&&(o=e(null==i?r.attr(t)||0:i))}switch(r.type){case"rect":u("rx",s),u("ry",a);case"image":u("width",s),u("height",a);case"text":u("x",s),u("y",a);break;case"circle":u("cx",s),u("cy",a),u("r",s);break;case"ellipse":u("cx",s),u("cy",a),u("rx",s),u("ry",a);break;case"line":u("x1",s),u("x2",s),u("y1",a),u("y2",a);break;case"marker":u("refX",s),u("markerWidth",s),u("refY",a),u("markerHeight",a);break;case"radialGradient":u("fx",s),u("fy",a);break;case"tspan":u("dx",s),u("dy",a);break;default:u(n,s)}return t.removeChild(e),o};p.doc.contains||p.doc.compareDocumentPosition;function F(t){return t.node.ownerSVGElement&&X(t.node.ownerSVGElement)||y.select("svg")}function U(t){C(t,"array")||(t=Array.prototype.slice.call(arguments,0));for(var e=0,r=0,n=this.node;this[e];)delete this[e++];for(e=0;e<t.length;e++)"set"==t[e].type?t[e].forEach(function(t){n.appendChild(t.node)}):n.appendChild(t[e].node);var i=n.childNodes;for(e=0;e<i.length;e++)this[r++]=X(i[e]);return this}function z(t){if(t.snap in I)return I[t.snap];var e;try{e=t.ownerSVGElement}catch(t){}this.node=t,e&&(this.paper=new q(e)),this.type=t.tagName||t.nodeName;var r=this.id=T(this);if(this.anims={},this._={transform:[]},t.snap=r,"g"==(I[r]=this).type&&(this.add=U),this.type in{g:1,mask:1,pattern:1,symbol:1})for(var n in q.prototype)q.prototype[c](n)&&(this[n]=q.prototype[n])}function Y(t){this.node=t}function V(t,e){var r=k(t);return e.appendChild(r),X(r)}function q(t,e){var r,n,i,o=q.prototype;if(t&&t.tagName&&"svg"==t.tagName.toLowerCase()){if(t.snap in I)return I[t.snap];var s=t.ownerDocument;for(var a in r=new z(t),n=t.getElementsByTagName("desc")[0],i=t.getElementsByTagName("defs")[0],n||((n=k("desc")).appendChild(s.createTextNode("Created with Snap")),r.node.appendChild(n)),i||(i=k("defs"),r.node.appendChild(i)),r.defs=i,o)o[c](a)&&(r[a]=o[a]);r.paper=r.root=r}else k((r=V("svg",p.doc.body)).node,{height:e,version:1.1,width:t,xmlns:A});return r}function X(t){return t?t instanceof z||t instanceof Y?t:t.tagName&&"svg"==t.tagName.toLowerCase()?new q(t):t.tagName&&"object"==t.tagName.toLowerCase()&&"image/svg+xml"==t.type?new q(t.contentDocument.getElementsByTagName("svg")[0]):new z(t):t}y._.getSomeDefs=function(t){var e=t.node.ownerSVGElement&&X(t.node.ownerSVGElement)||t.node.parentNode&&X(t.node.parentNode)||y.select("svg")||y(0,0),r=e.select("defs"),n=null!=r&&r.node;return n||(n=V("defs",e.node).node),n},y._.getSomeSVG=F,y.select=function(t){return t=v(t).replace(/([^\\]):/g,"$1\\:"),X(p.doc.querySelector(t))},y.selectAll=function(t){for(var e=p.doc.querySelectorAll(t),r=(y.set||Array)(),n=0;n<e.length;n++)r.push(X(e[n]));return r},setInterval(function(){for(var t in I)if(I[c](t)){var e=I[t],r=e.node;("svg"!=e.type&&!r.ownerSVGElement||"svg"==e.type&&(!r.parentNode||"ownerSVGElement"in r.parentNode&&!r.ownerSVGElement))&&delete I[t]}},1e4),z.prototype.attr=function(t,e){var r=this.node;if(!t){if(1!=r.nodeType)return{text:r.nodeValue};for(var n=r.attributes,i={},o=0,s=n.length;o<s;o++)i[n[o].nodeName]=n[o].nodeValue;return i}if(C(t,"string")){if(!(1<arguments.length))return W("snap.util.getattr."+t,this).firstDefined();var a={};a[t]=e,t=a}for(var u in t)t[c](u)&&W("snap.util.attr."+u,this,t[u]);return this},y.parse=function(t){var e=p.doc.createDocumentFragment(),r=!0,n=p.doc.createElement("div");if((t=v(t)).match(/^\s*<\s*svg(?:\s|>)/)||(t="<svg>"+t+"</svg>",r=!1),n.innerHTML=t,t=n.getElementsByTagName("svg")[0])if(r)e=t;else for(;t.firstChild;)e.appendChild(t.firstChild);return new Y(e)},y.fragment=function(){for(var t=Array.prototype.slice.call(arguments,0),e=p.doc.createDocumentFragment(),r=0,n=t.length;r<n;r++){var i=t[r];i.node&&i.node.nodeType&&e.appendChild(i.node),i.nodeType&&e.appendChild(i),"string"==typeof i&&e.appendChild(y.parse(i).node)}return new Y(e)},y._.make=V,y._.wrap=X,q.prototype.el=function(t,e){var r=V(t,this.node);return e&&r.attr(e),r},z.prototype.children=function(){for(var t=[],e=this.node.childNodes,r=0,n=e.length;r<n;r++)t[r]=y(e[r]);return t},z.prototype.toJSON=function(){var t=[];return function t(e,r){for(var n=0,i=e.length;n<i;n++){var o={type:e[n].type,attr:e[n].attr()},s=e[n].children();r.push(o),s.length&&t(s,o.childNodes=[])}}([this],t),t[0]},W.on("snap.util.getattr",function(){var t=W.nt(),e=(t=t.substring(t.lastIndexOf(".")+1)).replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});return H[c](e)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(e):k(this.node,t)});var H={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};W.on("snap.util.attr",function(t){var e=W.nt(),r={};r[e=e.substring(e.lastIndexOf(".")+1)]=t;var n=e.replace(/-(\w)/gi,function(t,e){return e.toUpperCase()}),i=e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});H[c](i)?this.node.style[n]=null==t?"":t:k(this.node,r)}),y.ajax=function(t,e,r,n){var i=new XMLHttpRequest,o=T();if(i){if(C(e,"function"))n=r,r=e,e=null;else if(C(e,"object")){var s=[];for(var a in e)e.hasOwnProperty(a)&&s.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));e=s.join("&")}return i.open(e?"POST":"GET",t,!0),e&&(i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-type","application/x-www-form-urlencoded")),r&&(W.once("snap.ajax."+o+".0",r),W.once("snap.ajax."+o+".200",r),W.once("snap.ajax."+o+".304",r)),i.onreadystatechange=function(){4==i.readyState&&W("snap.ajax."+o+"."+i.status,n,i)},4==i.readyState?i:(i.send(e),i)}},y.load=function(t,r,n){y.ajax(t,function(t){var e=y.parse(t.responseText);n?r.call(n,e):r(e)})};return y.getElementByPoint=function(t,e){this.canvas;var r,n,i,o,s,a,u,c=p.doc.elementFromPoint(t,e);if(p.win.opera&&"svg"==c.tagName){var f=(n=(r=c).getBoundingClientRect(),i=r.ownerDocument,o=i.body,s=i.documentElement,a=s.clientTop||o.clientTop||0,u=s.clientLeft||o.clientLeft||0,{y:n.top+(g.win.pageYOffset||s.scrollTop||o.scrollTop)-a,x:n.left+(g.win.pageXOffset||s.scrollLeft||o.scrollLeft)-u}),l=c.createSVGRect();l.x=t-f.x,l.y=e-f.y,l.width=l.height=1;var h=c.getIntersectionList(l,null);h.length&&(c=h[h.length-1])}return c?X(c):null},y.plugin=function(t){t(y,z,q,p,Y)},p.win.Snap=y}(v||this);return e.plugin(function(d,t,e,r,n){var i=t.prototype,a=d.is,f=String,o=d._unit2px,g=d._.$,u=d._.make,c=d._.getSomeDefs,s=d._.wrap;i.getBBox=function(t){if("tspan"==this.type)return d._.box(this.node.getClientRects().item(0));if(!d.Matrix||!d.path)return this.node.getBBox();var e=this,r=new d.Matrix;if(e.removed)return d._.box();for(;"use"==e.type;)if(t||(r=r.add(e.transform().localMatrix.translate(e.attr("x")||0,e.attr("y")||0))),e.original)e=e.original;else{var n=e.attr("xlink:href");e=e.original=e.node.ownerDocument.getElementById(n.substring(n.indexOf("#")+1))}var i=e._,o=d.path.get[e.type]||d.path.get.deflt;try{return t?(i.bboxwt=o?d.path.getBBox(e.realPath=o(e)):d._.box(e.node.getBBox()),d._.box(i.bboxwt)):(e.realPath=o(e),e.matrix=e.transform().localMatrix,i.bbox=d.path.getBBox(d.path.map(e.realPath,r.add(e.matrix))),d._.box(i.bbox))}catch(t){return d._.box()}};var l=function(){return this.string};function h(t,e){if(null==e){var r=!0;if(!(e="linearGradient"==t.type||"radialGradient"==t.type?t.node.getAttribute("gradientTransform"):"pattern"==t.type?t.node.getAttribute("patternTransform"):t.node.getAttribute("transform")))return new d.Matrix;e=d._.svgTransform2string(e)}else e=d._.rgTransform.test(e)?f(e).replace(/\.{3}|\u2026/g,t._.transform||""):d._.svgTransform2string(e),a(e,"array")&&(e=d.path?d.path.toString.call(e):f(e)),t._.transform=e;var n=d._.transform2matrix(e,t.getBBox(1));if(r)return n;t.matrix=n}i.transform=function(t){var e=this._;if(null!=t)return t instanceof d.Matrix?(this.matrix=t,this._.transform=t.toTransformString()):h(this,t),this.node&&("linearGradient"==this.type||"radialGradient"==this.type?g(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?g(this.node,{patternTransform:this.matrix}):g(this.node,{transform:this.matrix})),this;for(var r,n=this,i=new d.Matrix(this.node.getCTM()),o=h(this),s=[o],a=new d.Matrix,u=o.toTransformString(),c=f(o)==f(this.matrix)?f(e.transform):u;"svg"!=n.type&&(n=n.parent());)s.push(h(n));for(r=s.length;r--;)a.add(s[r]);return{string:c,globalMatrix:i,totalMatrix:a,localMatrix:o,diffMatrix:i.clone().add(o.invert()),global:i.toTransformString(),total:a.toTransformString(),local:u,toString:l}},i.parent=function(){return s(this.node.parentNode)},i.append=i.add=function(t){if(t){if("set"==t.type){var e=this;return t.forEach(function(t){e.add(t)}),this}t=s(t),this.node.appendChild(t.node),t.paper=this.paper}return this},i.appendTo=function(t){return t&&(t=s(t)).append(this),this},i.prepend=function(t){if(t){if("set"==t.type){var e,r=this;return t.forEach(function(t){e?e.after(t):r.prepend(t),e=t}),this}var n=(t=s(t)).parent();this.node.insertBefore(t.node,this.node.firstChild),this.add&&this.add(),t.paper=this.paper,this.parent()&&this.parent().add(),n&&n.add()}return this},i.prependTo=function(t){return(t=s(t)).prepend(this),this},i.before=function(t){if("set"==t.type){var r=this;return t.forEach(function(t){var e=t.parent();r.node.parentNode.insertBefore(t.node,r.node),e&&e.add()}),this.parent().add(),this}var e=(t=s(t)).parent();return this.node.parentNode.insertBefore(t.node,this.node),this.parent()&&this.parent().add(),e&&e.add(),t.paper=this.paper,this},i.after=function(t){var e=(t=s(t)).parent();return this.node.nextSibling?this.node.parentNode.insertBefore(t.node,this.node.nextSibling):this.node.parentNode.appendChild(t.node),this.parent()&&this.parent().add(),e&&e.add(),t.paper=this.paper,this},i.insertBefore=function(t){t=s(t);var e=this.parent();return t.node.parentNode.insertBefore(this.node,t.node),this.paper=t.paper,e&&e.add(),t.parent()&&t.parent().add(),this},i.insertAfter=function(t){t=s(t);var e=this.parent();return t.node.parentNode.insertBefore(this.node,t.node.nextSibling),this.paper=t.paper,e&&e.add(),t.parent()&&t.parent().add(),this},i.remove=function(){var t=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,t&&t.add(),this},i.select=function(t){return s(this.node.querySelector(t))},i.selectAll=function(t){for(var e=this.node.querySelectorAll(t),r=(d.set||Array)(),n=0;n<e.length;n++)r.push(s(e[n]));return r},i.asPX=function(t,e){return null==e&&(e=this.attr(t)),+o(this,t,e)},i.use=function(){var t,e=this.node.id;return e||(e=this.id,g(this.node,{id:e})),t="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?u(this.type,this.node.parentNode):u("use",this.node.parentNode),g(t.node,{"xlink:href":"#"+e}),t.original=this,t},i.clone=function(){var t=s(this.node.cloneNode(!0));return g(t.node,"id")&&g(t.node,{id:t.id}),function(t){var e,r=t.selectAll("*"),i=/^\s*url\(("|'|)(.*)\1\)\s*$/,n=[],o={};function s(r,n){var t=g(r.node,n);(t=(t=t&&t.match(i))&&t[2])&&"#"==t.charAt()&&(t=t.substring(1))&&(o[t]=(o[t]||[]).concat(function(t){var e={};e[n]=d.url(t),g(r.node,e)}))}function a(e){var t=g(e.node,"xlink:href");t&&"#"==t.charAt()&&(t=t.substring(1))&&(o[t]=(o[t]||[]).concat(function(t){e.attr("xlink:href","#"+t)}))}for(var u=0,c=r.length;u<c;u++){s(e=r[u],"fill"),s(e,"stroke"),s(e,"filter"),s(e,"mask"),s(e,"clip-path"),a(e);var f=g(e.node,"id");f&&(g(e.node,{id:e.id}),n.push({old:f,id:e.id}))}for(u=0,c=n.length;u<c;u++){var l=o[n[u].old];if(l)for(var h=0,p=l.length;h<p;h++)l[h](n[u].id)}}(t),t.insertAfter(this),t},i.toDefs=function(){return c(this).appendChild(this.node),this},i.pattern=i.toPattern=function(t,e,r,n){var i=u("pattern",c(this));return null==t&&(t=this.getBBox()),a(t,"object")&&"x"in t&&(e=t.y,r=t.width,n=t.height,t=t.x),g(i.node,{x:t,y:e,width:r,height:n,patternUnits:"userSpaceOnUse",id:i.id,viewBox:[t,e,r,n].join(" ")}),i.node.appendChild(this.node),i},i.marker=function(t,e,r,n,i,o){var s=u("marker",c(this));return null==t&&(t=this.getBBox()),a(t,"object")&&"x"in t&&(e=t.y,r=t.width,n=t.height,i=t.refX||t.cx,o=t.refY||t.cy,t=t.x),g(s.node,{viewBox:[t,e,r,n].join(" "),markerWidth:r,markerHeight:n,orient:"auto",refX:i||0,refY:o||0,id:s.id}),s.node.appendChild(this.node),s};var p={};function y(o){return function(){var t=o?"<"+this.type:"",e=this.node.attributes,r=this.node.childNodes;if(o)for(var n=0,i=e.length;n<i;n++)t+=" "+e[n].name+'="'+e[n].value.replace(/"/g,'\\"')+'"';if(r.length){for(o&&(t+=">"),n=0,i=r.length;n<i;n++)3==r[n].nodeType?t+=r[n].nodeValue:1==r[n].nodeType&&(t+=s(r[n]).toString());o&&(t+="</"+this.type+">")}else o&&(t+="/>");return t}}i.data=function(t,e){var r=p[this.id]=p[this.id]||{};if(0==arguments.length)return W("snap.data.get."+this.id,this,r,null),r;if(1!=arguments.length)return r[t]=e,W("snap.data.set."+this.id,this,e,t),this;if(d.is(t,"object")){for(var n in t)t.hasOwnProperty(n)&&this.data(n,t[n]);return this}return W("snap.data.get."+this.id,this,r[t],t),r[t]},i.removeData=function(t){return null==t?p[this.id]={}:p[this.id]&&delete p[this.id][t],this},i.outerSVG=i.toString=y(1),i.innerSVG=y(),i.toDataURL=function(){if(v&&v.btoa){var t=this.getBBox(),e=d.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+t.x.toFixed(3),y:+t.y.toFixed(3),width:+t.width.toFixed(3),height:+t.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e)))}},n.prototype.select=i.select,n.prototype.selectAll=i.selectAll}),e.plugin(function(t,e,r,n,i){var o=e.prototype,y=t.is,v=String,m="hasOwnProperty";function b(r,n,i){return function(t){var e=t.slice(r,n);return 1==e.length&&(e=e[0]),i?i(e):e}}var w=function(t,e,r,n){"function"!=typeof r||r.length||(n=r,r=T.linear),this.attr=t,this.dur=e,r&&(this.easing=r),n&&(this.callback=n)};t._.Animation=w,t.animation=function(t,e,r,n){return new w(t,e,r,n)},o.inAnim=function(){var t=[];for(var e in this.anims)this.anims[m](e)&&function(e){t.push({anim:new w(e._attrs,e.dur,e.easing,e._callback),mina:e,curStatus:e.status(),status:function(t){return e.status(t)},stop:function(){e.stop()}})}(this.anims[e]);return t},t.animate=function(t,e,r,n,i,o){"function"!=typeof i||i.length||(o=i,i=T.linear);var s=T.time(),a=T(t,e,s,s+n,T.time,r,i);return o&&W.once("mina.finish."+a.id,o),a},o.stop=function(){for(var t=this.inAnim(),e=0,r=t.length;e<r;e++)t[e].stop();return this},o.animate=function(t,e,r,n){"function"!=typeof r||r.length||(n=r,r=T.linear),t instanceof w&&(n=t.callback,r=t.easing,e=t.dur,t=t.attr);var i,o,s,a,u=[],c=[],f={},l=this;for(var h in t)if(t[m](h)){l.equal?(i=(a=l.equal(h,v(t[h]))).from,o=a.to,s=a.f):(i=+l.attr(h),o=+t[h]);var p=y(i,"array")?i.length:1;f[h]=b(u.length,u.length+p,s),u=u.concat(i),c=c.concat(o)}var d=T.time(),g=T(u,c,d,d+e,T.time,function(t){var e={};for(var r in f)f[m](r)&&(e[r]=f[r](t));l.attr(e)},r);return(l.anims[g.id]=g)._attrs=t,g._callback=n,W("snap.animcreated."+l.id,g),W.once("mina.finish."+g.id,function(){W.off("mina.*."+g.id),delete l.anims[g.id],n&&n.call(l)}),W.once("mina.stop."+g.id,function(){W.off("mina.*."+g.id),delete l.anims[g.id]}),l}}),e.plugin(function(s,t,e,r,n){var a=Object.prototype.toString,u=String,c=Math;function f(t,e,r,n,i,o){if(null==e&&"[object SVGMatrix]"==a.call(t))return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.e=t.e,void(this.f=t.f);this.f=null!=t?(this.a=+t,this.b=+e,this.c=+r,this.d=+n,this.e=+i,+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0)}!function(t){function i(t){return t[0]*t[0]+t[1]*t[1]}function o(t){var e=c.sqrt(i(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}t.add=function(t,e,r,n,i,o){if(t&&t instanceof f)return this.add(t.a,t.b,t.c,t.d,t.e,t.f);var s=t*this.a+e*this.c,a=t*this.b+e*this.d;return this.e+=i*this.a+o*this.c,this.f+=i*this.b+o*this.d,this.c=r*this.a+n*this.c,this.d=r*this.b+n*this.d,this.a=s,this.b=a,this},f.prototype.multLeft=function(t,e,r,n,i,o){if(t&&t instanceof f)return this.multLeft(t.a,t.b,t.c,t.d,t.e,t.f);var s=t*this.a+r*this.b,a=t*this.c+r*this.d,u=t*this.e+r*this.f+i;return this.b=e*this.a+n*this.b,this.d=e*this.c+n*this.d,this.f=e*this.e+n*this.f+o,this.a=s,this.c=a,this.e=u,this},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new f(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new f(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){return this.e+=t*this.a+e*this.c,this.f+=t*this.b+e*this.d,this},t.scale=function(t,e,r,n){return null==e&&(e=t),(r||n)&&this.translate(r,n),this.a*=t,this.b*=t,this.c*=e,this.d*=e,(r||n)&&this.translate(-r,-n),this},t.rotate=function(t,e,r){t=s.rad(t),e=e||0,r=r||0;var n=+c.cos(t).toFixed(9),i=+c.sin(t).toFixed(9);return this.add(n,i,-i,n,e,r),this.add(1,0,0,1,-e,-r)},t.skewX=function(t){return this.skew(t,0)},t.skewY=function(t){return this.skew(0,t)},t.skew=function(t,e){t=t||0,e=e||0,t=s.rad(t),e=s.rad(e);var r=c.tan(t).toFixed(9),n=c.tan(e).toFixed(9);return this.add(1,n,r,1,0,0)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[u.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.determinant=function(){return this.a*this.d-this.b*this.c},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var e=[[this.a,this.b],[this.c,this.d]];t.scalex=c.sqrt(i(e[0])),o(e[0]),t.shear=e[0][0]*e[1][0]+e[0][1]*e[1][1],e[1]=[e[1][0]-e[0][0]*t.shear,e[1][1]-e[0][1]*t.shear],t.scaley=c.sqrt(i(e[1])),o(e[1]),t.shear/=t.scaley,this.determinant()<0&&(t.scalex=-t.scalex);var r=e[0][1],n=e[1][1];return n<0?(t.rotate=s.deg(c.acos(n)),r<0&&(t.rotate=360-t.rotate)):t.rotate=s.deg(c.asin(r)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this.split();return+e.shear.toFixed(9)?"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[+e.dx.toFixed(4),+e.dy.toFixed(4)]:"")+(e.rotate?"r"+[+e.rotate.toFixed(4),0,0]:"")+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:""))}}(f.prototype),s.Matrix=f,s.matrix=function(t,e,r,n,i,o){return new f(t,e,r,n,i,o)}}),e.plugin(function(o,s,t,i,a){var e,n=o._.make,u=o._.wrap,c=o.is,f=o._.getSomeDefs,r=/^url\((['"]?)([^)]+)\1\)$/,l=o._.$,h=o.url,p=String,d=o._.separator;function g(i){return function(t){if(W.stop(),t instanceof a&&1==t.node.childNodes.length&&("radialGradient"==t.node.firstChild.tagName||"linearGradient"==t.node.firstChild.tagName||"pattern"==t.node.firstChild.tagName)&&(t=t.node.firstChild,f(this).appendChild(t),t=u(t)),t instanceof s)if("radialGradient"==t.type||"linearGradient"==t.type||"pattern"==t.type){t.node.id||l(t.node,{id:t.id});var e=h(t.node.id)}else e=t.attr(i);else if((e=o.color(t)).error){var r=o(f(this).ownerSVGElement).gradient(t);e=r?(r.node.id||l(r.node,{id:r.id}),h(r.node.id)):t}else e=p(e);var n={};n[i]=e,l(this.node,n),this.node.style[i]=""}}o.deurl=function(t){var e=String(t).match(r);return e?e[2]:t},W.on("snap.util.attr.mask",function(t){if(t instanceof s||t instanceof a){if(W.stop(),t instanceof a&&1==t.node.childNodes.length&&(t=t.node.firstChild,f(this).appendChild(t),t=u(t)),"mask"==t.type)var e=t;else(e=n("mask",f(this))).node.appendChild(t.node);!e.node.id&&l(e.node,{id:e.id}),l(this.node,{mask:h(e.id)})}}),e=function(t){if(t instanceof s||t instanceof a){W.stop();for(var e,r=t.node;r;){if("clipPath"===r.nodeName){e=new s(r);break}if("svg"===r.nodeName){e=void 0;break}r=r.parentNode}e||((e=n("clipPath",f(this))).node.appendChild(t.node),!e.node.id&&l(e.node,{id:e.id})),l(this.node,{"clip-path":h(e.node.id||e.id)})}},W.on("snap.util.attr.clip",e),W.on("snap.util.attr.clip-path",e),W.on("snap.util.attr.clipPath",e),W.on("snap.util.attr.fill",g("fill")),W.on("snap.util.attr.stroke",g("stroke"));var y=/^([lr])(?:\(([^)]*)\))?(.*)$/i;function v(t){W.stop(),t==+t&&(t+="px"),this.node.style.fontSize=t}function m(){return W.stop(),this.node.style.fontSize}W.on("snap.util.grad.parse",function(t){var e=(t=p(t)).match(y);if(!e)return null;var r=e[1],n=e[2],i=e[3];1==(n=n.split(/\s*,\s*/).map(function(t){return+t==t?+t:t})).length&&0==n[0]&&(n=[]);var o=(i=(i=i.split("-")).map(function(t){var e={color:(t=t.split(":"))[0]};return t[1]&&(e.offset=parseFloat(t[1])),e})).length,s=0,a=0;function u(t,e){for(var r=(e-s)/(t-a),n=a;n<t;n++)i[n].offset=+(+s+r*(n-a)).toFixed(2);a=t,s=e}o--;for(var c=0;c<o;c++)"offset"in i[c]&&u(c,i[c].offset);return i[o].offset=i[o].offset||100,u(o,i[o].offset),{type:r,params:n,stops:i}}),W.on("snap.util.attr.d",function(t){W.stop(),c(t,"array")&&c(t[0],"array")&&(t=o.path.toString.call(t)),(t=p(t)).match(/[ruo]/i)&&(t=o.path.toAbsolute(t)),l(this.node,{d:t})})(-1),W.on("snap.util.attr.#text",function(t){W.stop(),t=p(t);for(var e=i.doc.createTextNode(t);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(e)})(-1),W.on("snap.util.attr.path",function(t){W.stop(),this.attr({d:t})})(-1),W.on("snap.util.attr.class",function(t){W.stop(),this.node.className.baseVal=t})(-1),W.on("snap.util.attr.viewBox",function(t){var e;e=c(t,"object")&&"x"in t?[t.x,t.y,t.width,t.height].join(" "):c(t,"array")?t.join(" "):t,l(this.node,{viewBox:e}),W.stop()})(-1),W.on("snap.util.attr.transform",function(t){this.transform(t),W.stop()})(-1),W.on("snap.util.attr.r",function(t){"rect"==this.type&&(W.stop(),l(this.node,{rx:t,ry:t}))})(-1),W.on("snap.util.attr.textpath",function(t){if(W.stop(),"text"==this.type){var e,r,n;if(!t&&this.textPath){for(r=this.textPath;r.node.firstChild;)this.node.appendChild(r.node.firstChild);return r.remove(),void delete this.textPath}if(c(t,"string")){var i=f(this),o=u(i.parentNode).path(t);i.appendChild(o.node),e=o.id,o.attr({id:e})}else(t=u(t))instanceof s&&((e=t.attr("id"))||(e=t.id,t.attr({id:e})));if(e)if(r=this.textPath,n=this.node,r)r.attr({"xlink:href":"#"+e});else{for(r=l("textPath",{"xlink:href":"#"+e});n.firstChild;)r.appendChild(n.firstChild);n.appendChild(r),this.textPath=u(r)}}})(-1),W.on("snap.util.attr.text",function(t){if("text"==this.type){for(var e=this.node,n=function(t){var e=l("tspan");if(c(t,"array"))for(var r=0;r<t.length;r++)e.appendChild(n(t[r]));else e.appendChild(i.doc.createTextNode(t));return e.normalize&&e.normalize(),e};e.firstChild;)e.removeChild(e.firstChild);for(var r=n(t);r.firstChild;)e.appendChild(r.firstChild)}W.stop()})(-1),W.on("snap.util.attr.fontSize",v)(-1),W.on("snap.util.attr.font-size",v)(-1),W.on("snap.util.getattr.transform",function(){return W.stop(),this.transform()})(-1),W.on("snap.util.getattr.textpath",function(){return W.stop(),this.textPath})(-1),function(){function t(e){return function(){W.stop();var t=i.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+e);return"none"==t?t:o(i.doc.getElementById(t.match(r)[1]))}}function e(n){return function(t){W.stop();var e="marker"+n.charAt(0).toUpperCase()+n.substring(1);if(""!=t&&t){if("marker"==t.type){var r=t.node.id;return r||l(t.node,{id:t.id}),void(this.node.style[e]=h(r))}}else this.node.style[e]="none"}}W.on("snap.util.getattr.marker-end",t("end"))(-1),W.on("snap.util.getattr.markerEnd",t("end"))(-1),W.on("snap.util.getattr.marker-start",t("start"))(-1),W.on("snap.util.getattr.markerStart",t("start"))(-1),W.on("snap.util.getattr.marker-mid",t("mid"))(-1),W.on("snap.util.getattr.markerMid",t("mid"))(-1),W.on("snap.util.attr.marker-end",e("end"))(-1),W.on("snap.util.attr.markerEnd",e("end"))(-1),W.on("snap.util.attr.marker-start",e("start"))(-1),W.on("snap.util.attr.markerStart",e("start"))(-1),W.on("snap.util.attr.marker-mid",e("mid"))(-1),W.on("snap.util.attr.markerMid",e("mid"))(-1)}(),W.on("snap.util.getattr.r",function(){if("rect"==this.type&&l(this.node,"rx")==l(this.node,"ry"))return W.stop(),l(this.node,"rx")})(-1),W.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){W.stop();var t=function t(e){for(var r=[],n=e.childNodes,i=0,o=n.length;i<o;i++){var s=n[i];3==s.nodeType&&r.push(s.nodeValue),"tspan"==s.tagName&&(1==s.childNodes.length&&3==s.firstChild.nodeType?r.push(s.firstChild.nodeValue):r.push(t(s)))}return r}(this.node);return 1==t.length?t[0]:t}})(-1),W.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1),W.on("snap.util.getattr.fill",function(t){if(!t){W.stop();var e=W("snap.util.getattr.fill",this,!0).firstDefined();return o(o.deurl(e))||e}})(-1),W.on("snap.util.getattr.stroke",function(t){if(!t){W.stop();var e=W("snap.util.getattr.stroke",this,!0).firstDefined();return o(o.deurl(e))||e}})(-1),W.on("snap.util.getattr.viewBox",function(){W.stop();var t=l(this.node,"viewBox");return t?(t=t.split(d),o._.box(+t[0],+t[1],+t[2],+t[3])):void 0})(-1),W.on("snap.util.getattr.points",function(){var t=l(this.node,"points");return W.stop(),t?t.split(d):void 0})(-1),W.on("snap.util.getattr.path",function(){var t=l(this.node,"d");return W.stop(),t})(-1),W.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1),W.on("snap.util.getattr.fontSize",m)(-1),W.on("snap.util.getattr.font-size",m)(-1)}),e.plugin(function(t,e,r,n,i){var f=/\S+/g,c=String,o=e.prototype;o.addClass=function(t){var e,r,n,i=c(t||"").match(f)||[],o=this.node,s=o.className.baseVal,a=s.match(f)||[];if(i.length){for(e=0;r=i[e++];)~a.indexOf(r)||a.push(r);s!=(n=a.join(" "))&&(o.className.baseVal=n)}return this},o.removeClass=function(t){var e,r,n,i,o=c(t||"").match(f)||[],s=this.node,a=s.className.baseVal,u=a.match(f)||[];if(u.length){for(e=0;n=o[e++];)~(r=u.indexOf(n))&&u.splice(r,1);a!=(i=u.join(" "))&&(s.className.baseVal=i)}return this},o.hasClass=function(t){return!!~(this.node.className.baseVal.match(f)||[]).indexOf(t)},o.toggleClass=function(t,e){if(null!=e)return e?this.addClass(t):this.removeClass(t);var r,n,i,o,s=(t||"").match(f)||[],a=this.node,u=a.className.baseVal,c=u.match(f)||[];for(r=0;i=s[r++];)~(n=c.indexOf(i))?c.splice(n,1):c.push(i);return u!=(o=c.join(" "))&&(a.className.baseVal=o),this}}),e.plugin(function(t,e,r,n,i){var c={"+":function(t,e){return t+e},"-":function(t,e){return t-e},"/":function(t,e){return t/e},"*":function(t,e){return t*e}},f=String,l=/[a-z]+$/i,h=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;function u(t){return t}W.on("snap.util.attr",function(t){var e=f(t).match(h);if(e){var r=W.nt(),n=r.substring(r.lastIndexOf(".")+1),i=this.attr(n),o={};W.stop();var s=e[3]||"",a=i.match(l),u=c[e[1]];if(t=a&&a==s?u(parseFloat(i),+e[2]):(i=this.asPX(n),u(this.asPX(n),this.asPX(n,e[2]+s))),isNaN(i)||isNaN(t))return;o[n]=t,this.attr(o)}})(-10),W.on("snap.util.equal",function(t,e){var r,n=f(this.attr(t)||""),i=f(e).match(h);if(i){W.stop();var o=i[3]||"",s=n.match(l),a=c[i[1]];return s&&s==o?{from:parseFloat(n),to:a(parseFloat(n),+i[2]),f:(r=s,function(t){return+t.toFixed(3)+r})}:{from:n=this.asPX(t),to:a(n,this.asPX(t,i[2]+o)),f:u}}})(-10)}),e.plugin(function(p,e,t,o,r){var n=t.prototype,c=p.is;n.rect=function(t,e,r,n,i,o){var s;return null==o&&(o=i),c(t,"object")&&"[object Object]"==t?s=t:null!=t&&(s={x:t,y:e,width:r,height:n},null!=i&&(s.rx=i,s.ry=o)),this.el("rect",s)},n.circle=function(t,e,r){var n;return c(t,"object")&&"[object Object]"==t?n=t:null!=t&&(n={cx:t,cy:e,r:r}),this.el("circle",n)};var a=function(){function i(){this.parentNode.removeChild(this)}return function(t,e){var r=o.doc.createElement("img"),n=o.doc.body;r.style.cssText="position:absolute;left:-9999em;top:-9999em",r.onload=function(){e.call(r),r.onload=r.onerror=null,n.removeChild(r)},r.onerror=i,n.appendChild(r),r.src=t}}();n.image=function(t,e,r,n,i){var o=this.el("image");if(c(t,"object")&&"src"in t)o.attr(t);else if(null!=t){var s={"xlink:href":t,preserveAspectRatio:"none"};null!=e&&null!=r&&(s.x=e,s.y=r),null!=n&&null!=i?(s.width=n,s.height=i):a(t,function(){p._.$(o.node,{width:this.offsetWidth,height:this.offsetHeight})}),p._.$(o.node,s)}return o},n.ellipse=function(t,e,r,n){var i;return c(t,"object")&&"[object Object]"==t?i=t:null!=t&&(i={cx:t,cy:e,rx:r,ry:n}),this.el("ellipse",i)},n.path=function(t){var e;return c(t,"object")&&!c(t,"array")?e=t:t&&(e={d:t}),this.el("path",e)},n.group=n.g=function(t){var e=this.el("g");return 1==arguments.length&&t&&!t.type?e.attr(t):arguments.length&&e.add(Array.prototype.slice.call(arguments,0)),e},n.svg=function(t,e,r,n,i,o,s,a){var u={};return c(t,"object")&&null==e?u=t:(null!=t&&(u.x=t),null!=e&&(u.y=e),null!=r&&(u.width=r),null!=n&&(u.height=n),null!=i&&null!=o&&null!=s&&null!=a&&(u.viewBox=[i,o,s,a])),this.el("svg",u)},n.mask=function(t){var e=this.el("mask");return 1==arguments.length&&t&&!t.type?e.attr(t):arguments.length&&e.add(Array.prototype.slice.call(arguments,0)),e},n.ptrn=function(t,e,r,n,i,o,s,a){if(c(t,"object"))var u=t;else u={patternUnits:"userSpaceOnUse"},t&&(u.x=t),e&&(u.y=e),null!=r&&(u.width=r),null!=n&&(u.height=n),u.viewBox=null!=i&&null!=o&&null!=s&&null!=a?[i,o,s,a]:[t||0,e||0,r||0,n||0];return this.el("pattern",u)},n.use=function(t){return null!=t?(t instanceof e&&(t.attr("id")||t.attr({id:p._.id(t)}),t=t.attr("id")),"#"==String(t).charAt()&&(t=t.substring(1)),this.el("use",{"xlink:href":"#"+t})):e.prototype.use.call(this)},n.symbol=function(t,e,r,n){var i={};return null!=t&&null!=e&&null!=r&&null!=n&&(i.viewBox=[t,e,r,n]),this.el("symbol",i)},n.text=function(t,e,r){var n={};return c(t,"object")?n=t:null!=t&&(n={x:t,y:e,text:r||""}),this.el("text",n)},n.line=function(t,e,r,n){var i={};return c(t,"object")?i=t:null!=t&&(i={x1:t,x2:r,y1:e,y2:n}),this.el("line",i)},n.polyline=function(t){1<arguments.length&&(t=Array.prototype.slice.call(arguments,0));var e={};return c(t,"object")&&!c(t,"array")?e=t:null!=t&&(e={points:t}),this.el("polyline",e)},n.polygon=function(t){1<arguments.length&&(t=Array.prototype.slice.call(arguments,0));var e={};return c(t,"object")&&!c(t,"array")?e=t:null!=t&&(e={points:t}),this.el("polygon",e)},function(){var u=p._.$;function a(){return this.selectAll("stop")}function c(t,e){var r=u("stop"),n={offset:+e+"%"};t=p.color(t),n["stop-color"]=t.hex,t.opacity<1&&(n["stop-opacity"]=t.opacity),u(r,n);for(var i,o=this.stops(),s=0;s<o.length;s++){if(e<parseFloat(o[s].attr("offset"))){this.node.insertBefore(r,o[s].node),i=!0;break}}return i||this.node.appendChild(r),this}function f(){if("linearGradient"==this.type){var t=u(this.node,"x1")||0,e=u(this.node,"x2")||1,r=u(this.node,"y1")||0,n=u(this.node,"y2")||0;return p._.box(t,r,math.abs(e-t),math.abs(n-r))}var i=this.node.cx||.5,o=this.node.cy||.5,s=this.node.r||0;return p._.box(i-s,o-s,2*s,2*s)}function s(t){var e=t,r=this.stops();if("string"==typeof t&&(e=W("snap.util.grad.parse",null,"l(0,0,0,1)"+t).firstDefined().stops),p.is(e,"array")){for(var n=0;n<r.length;n++)if(e[n]){var i=p.color(e[n].color),o={offset:e[n].offset+"%"};o["stop-color"]=i.hex,i.opacity<1&&(o["stop-opacity"]=i.opacity),r[n].attr(o)}else r[n].remove();for(n=r.length;n<e.length;n++)this.addStop(e[n].color,e[n].offset);return this}}function l(t,e,r,n,i){var o=p._.make("linearGradient",t);return o.stops=a,o.addStop=c,o.getBBox=f,o.setStops=s,null!=e&&u(o.node,{x1:e,y1:r,x2:n,y2:i}),o}function h(t,e,r,n,i,o){var s=p._.make("radialGradient",t);return s.stops=a,s.addStop=c,s.getBBox=f,null!=e&&u(s.node,{cx:e,cy:r,r:n}),null!=i&&null!=o&&u(s.node,{fx:i,fy:o}),s}n.gradient=function(t){return function(t,e){var r,n=W("snap.util.grad.parse",null,e).firstDefined();if(!n)return null;n.params.unshift(t),r="l"==n.type.toLowerCase()?l.apply(0,n.params):h.apply(0,n.params),n.type!=n.type.toLowerCase()&&u(r.node,{gradientUnits:"userSpaceOnUse"});for(var i=n.stops,o=i.length,s=0;s<o;s++){var a=i[s];r.addStop(a.color,a.offset)}return r}(this.defs,t)},n.gradientLinear=function(t,e,r,n){return l(this.defs,t,e,r,n)},n.gradientRadial=function(t,e,r,n,i){return h(this.defs,t,e,r,n,i)},n.toString=function(){var t,e=this.node.ownerDocument,r=e.createDocumentFragment(),n=e.createElement("div"),i=this.node.cloneNode(!0);return r.appendChild(n),n.appendChild(i),p._.$(i,{xmlns:"http://www.w3.org/2000/svg"}),t=n.innerHTML,r.removeChild(r.firstChild),t},n.toDataURL=function(){if(v&&v.btoa)return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(this)))},n.clear=function(){for(var t,e=this.node.firstChild;e;)t=e.nextSibling,"defs"!=e.tagName?e.parentNode.removeChild(e):n.clear.call({node:e}),e=t}}()}),e.plugin(function(q,y,t,e){var r=y.prototype,b=q.is,p=q._.clone,n="hasOwnProperty",i=/,?([a-z]),?/gi,w=parseFloat,X=Math,H=X.PI,E=X.min,x=X.max,m=X.pow,W=X.abs;function _(e){var r=_.ps=_.ps||{};return r[e]?r[e].sleep=100:r[e]={sleep:100},setTimeout(function(){for(var t in r)r[n](t)&&t!=e&&(r[t].sleep--,!r[t].sleep&&delete r[t])}),r[e]}function g(t,e,r,n){return null==t&&(t=e=r=n=0),null==e&&(e=t.y,r=t.width,n=t.height,t=t.x),{x:t,y:e,width:r,w:r,height:n,h:n,x2:t+r,y2:e+n,cx:t+r/2,cy:e+n/2,r1:X.min(r,n)/2,r2:X.max(r,n)/2,r0:X.sqrt(r*r+n*n)/2,path:l(t,e,r,n),vb:[t,e,r,n].join(" ")}}function T(){return this.join(",").replace(i,"$1")}function S(t){var e=p(t);return e.toString=T,e}function v(t,e,r,n,i,o,s,a,u){return null==u?B(t,e,r,n,i,o,s,a):A(t,e,r,n,i,o,s,a,function(t,e,r,n,i,o,s,a,u){if(u<0||B(t,e,r,n,i,o,s,a)<u)return;var c,f=.5,l=1-f;c=B(t,e,r,n,i,o,s,a,l);for(;.01<W(c-u);)c=B(t,e,r,n,i,o,s,a,l+=(c<u?1:-1)*(f/=2));return l}(t,e,r,n,i,o,s,a,u))}function o(p,d){function g(t){return+(+t).toFixed(3)}return q._.cacher(function(t,e,r){t instanceof y&&(t=t.attr("d"));for(var n,i,o,s,a,u="",c={},f=0,l=0,h=(t=F(t)).length;l<h;l++){if("M"==(o=t[l])[0])n=+o[1],i=+o[2];else{if(e<f+(s=v(n,i,o[1],o[2],o[3],o[4],o[5],o[6]))){if(d&&!c.start){if(u+=["C"+g((a=v(n,i,o[1],o[2],o[3],o[4],o[5],o[6],e-f)).start.x),g(a.start.y),g(a.m.x),g(a.m.y),g(a.x),g(a.y)],r)return u;c.start=u,u=["M"+g(a.x),g(a.y)+"C"+g(a.n.x),g(a.n.y),g(a.end.x),g(a.end.y),g(o[5]),g(o[6])].join(),f+=s,n=+o[5],i=+o[6];continue}if(!p&&!d)return a=v(n,i,o[1],o[2],o[3],o[4],o[5],o[6],e-f)}f+=s,n=+o[5],i=+o[6]}u+=o.shift()+o}return c.end=u,a=p?f:d?c:A(n,i,o[0],o[1],o[2],o[3],o[4],o[5],1)},null,q._.clone)}var s=o(1),a=o(),u=o(0,1);function A(t,e,r,n,i,o,s,a,u){var c=1-u,f=m(c,3),l=m(c,2),h=u*u,p=h*u,d=t+2*u*(r-t)+h*(i-2*r+t),g=e+2*u*(n-e)+h*(o-2*n+e),y=r+2*u*(i-r)+h*(s-2*i+r),v=n+2*u*(o-n)+h*(a-2*o+n);return{x:f*t+3*l*u*r+3*c*u*u*i+p*s,y:f*e+3*l*u*n+3*c*u*u*o+p*a,m:{x:d,y:g},n:{x:y,y:v},start:{x:c*t+u*r,y:c*e+u*n},end:{x:c*i+u*s,y:c*o+u*a},alpha:90-180*X.atan2(d-y,g-v)/H}}function I(t,e,r,n,i,o,s,a){q.is(t,"array")||(t=[t,e,r,n,i,o,s,a]);var u=D.apply(null,t);return g(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)}function k(t,e,r){return e>=t.x&&e<=t.x+t.width&&r>=t.y&&r<=t.y+t.height}function C(t,e){return t=g(t),k(e=g(e),t.x,t.y)||k(e,t.x2,t.y)||k(e,t.x,t.y2)||k(e,t.x2,t.y2)||k(t,e.x,e.y)||k(t,e.x2,e.y)||k(t,e.x,e.y2)||k(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}function O(t,e,r,n,i){return t*(t*(-3*e+9*r-9*n+3*i)+6*e-12*r+6*n)-3*e+3*r}function B(t,e,r,n,i,o,s,a,u){null==u&&(u=1);for(var c=(u=1<u?1:u<0?0:u)/2,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],l=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,p=0;p<12;p++){var d=c*f[p]+c,g=O(d,t,r,i,s),y=O(d,e,n,o,a),v=g*g+y*y;h+=l[p]*X.sqrt(v)}return c*h}function P(t,e,r,n,i,o,s,a){if(!(x(t,r)<E(i,s)||E(t,r)>x(i,s)||x(e,n)<E(o,a)||E(e,n)>x(o,a))){var u=(t-r)*(o-a)-(e-n)*(i-s);if(u){var c=((t*n-e*r)*(i-s)-(t-r)*(i*a-o*s))/u,f=((t*n-e*r)*(o-a)-(e-n)*(i*a-o*s))/u,l=+c.toFixed(2),h=+f.toFixed(2);if(!(l<+E(t,r).toFixed(2)||l>+x(t,r).toFixed(2)||l<+E(i,s).toFixed(2)||l>+x(i,s).toFixed(2)||h<+E(e,n).toFixed(2)||h>+x(e,n).toFixed(2)||h<+E(o,a).toFixed(2)||h>+x(o,a).toFixed(2)))return{x:c,y:f}}}}function L(t,e,r){if(!C(I(t),I(e)))return r?0:[];for(var n=~~(B.apply(0,t)/8),i=~~(B.apply(0,e)/8),o=[],s=[],a={},u=r?0:[],c=0;c<n+1;c++){var f=A.apply(0,t.concat(c/n));o.push({x:f.x,y:f.y,t:c/n})}for(c=0;c<i+1;c++)f=A.apply(0,e.concat(c/i)),s.push({x:f.x,y:f.y,t:c/i});for(c=0;c<n;c++)for(var l=0;l<i;l++){var h=o[c],p=o[c+1],d=s[l],g=s[l+1],y=W(p.x-h.x)<.001?"y":"x",v=W(g.x-d.x)<.001?"y":"x",m=P(h.x,h.y,p.x,p.y,d.x,d.y,g.x,g.y);if(m){if(a[m.x.toFixed(4)]==m.y.toFixed(4))continue;a[m.x.toFixed(4)]=m.y.toFixed(4);var b=h.t+W((m[y]-h[y])/(p[y]-h[y]))*(p.t-h.t),w=d.t+W((m[v]-d[v])/(g[v]-d[v]))*(g.t-d.t);0<=b&&b<=1&&0<=w&&w<=1&&(r?u++:u.push({x:m.x,y:m.y,t1:b,t2:w}))}}return u}function c(t,e,r){t=F(t),e=F(e);for(var n,i,o,s,a,u,c,f,l,h,p=r?0:[],d=0,g=t.length;d<g;d++){var y=t[d];if("M"==y[0])n=a=y[1],i=u=y[2];else{i="C"==y[0]?(n=(l=[n,i].concat(y.slice(1)))[6],l[7]):(l=[n,i,n,i,a,u,a,u],n=a,u);for(var v=0,m=e.length;v<m;v++){var b=e[v];if("M"==b[0])o=c=b[1],s=f=b[2];else{s="C"==b[0]?(o=(h=[o,s].concat(b.slice(1)))[6],h[7]):(h=[o,s,o,s,c,f,c,f],o=c,f);var w=L(l,h,r);if(r)p+=w;else{for(var _=0,E=w.length;_<E;_++)w[_].segment1=d,w[_].segment2=v,w[_].bez1=l,w[_].bez2=h;p=p.concat(w)}}}}}return p}function f(t){var e=_(t);if(e.bbox)return p(e.bbox);if(!t)return g();for(var r,n=0,i=0,o=[],s=[],a=0,u=(t=F(t)).length;a<u;a++)if("M"==(r=t[a])[0])n=r[1],i=r[2],o.push(n),s.push(i);else{var c=D(n,i,r[1],r[2],r[3],r[4],r[5],r[6]);o=o.concat(c.min.x,c.max.x),s=s.concat(c.min.y,c.max.y),n=r[5],i=r[6]}var f=E.apply(0,o),l=E.apply(0,s),h=g(f,l,x.apply(0,o)-f,x.apply(0,s)-l);return e.bbox=p(h),h}function l(t,e,r,n,i){if(i)return[["M",+t+ +i,e],["l",r-2*i,0],["a",i,i,0,0,1,i,i],["l",0,n-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-r,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-n],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",t,e],["l",r,0],["l",0,n],["l",-r,0],["z"]];return o.toString=T,o}function j(t,e,r,n,i){if(null==i&&null==n&&(n=r),t=+t,e=+e,r=+r,n=+n,null!=i)var o=Math.PI/180,s=t+r*Math.cos(-n*o),a=t+r*Math.cos(-i*o),u=[["M",s,e+r*Math.sin(-n*o)],["A",r,r,0,+(180<i-n),0,a,e+r*Math.sin(-i*o)]];else u=[["M",t,e],["m",0,-n],["a",r,n,0,1,1,0,2*n],["a",r,n,0,1,1,0,-2*n],["z"]];return u.toString=T,u}var h=q._unit2px,d={path:function(t){return t.attr("path")},circle:function(t){var e=h(t);return j(e.cx,e.cy,e.r)},ellipse:function(t){var e=h(t);return j(e.cx||0,e.cy||0,e.rx,e.ry)},rect:function(t){var e=h(t);return l(e.x||0,e.y||0,e.width,e.height,e.rx,e.ry)},image:function(t){var e=h(t);return l(e.x||0,e.y||0,e.width,e.height)},line:function(t){return"M"+[t.attr("x1")||0,t.attr("y1")||0,t.attr("x2"),t.attr("y2")]},polyline:function(t){return"M"+t.attr("points")},polygon:function(t){return"M"+t.attr("points")+"z"},deflt:function(t){var e=t.node.getBBox();return l(e.x,e.y,e.width,e.height)}};function N(t){var e=_(t);if(e.abs)return S(e.abs);if(b(t,"array")&&b(t&&t[0],"array")||(t=q.parsePathString(t)),!t||!t.length)return[["M",0,0]];var r,n=[],i=0,o=0,s=0,a=0,u=0;"M"==t[0][0]&&(s=i=+t[0][1],a=o=+t[0][2],u++,n[0]=["M",i,o]);for(var c,f,l=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),h=u,p=t.length;h<p;h++){if(n.push(c=[]),(r=(f=t[h])[0])!=r.toUpperCase())switch(c[0]=r.toUpperCase(),c[0]){case"A":c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=+f[6]+i,c[7]=+f[7]+o;break;case"V":c[1]=+f[1]+o;break;case"H":c[1]=+f[1]+i;break;case"R":for(var d=[i,o].concat(f.slice(1)),g=2,y=d.length;g<y;g++)d[g]=+d[g]+i,d[++g]=+d[g]+o;n.pop(),n=n.concat(U(d,l));break;case"O":n.pop(),(d=j(i,o,f[1],f[2])).push(d[0]),n=n.concat(d);break;case"U":n.pop(),n=n.concat(j(i,o,f[1],f[2],f[3])),c=["U"].concat(n[n.length-1].slice(-2));break;case"M":s=+f[1]+i,a=+f[2]+o;default:for(g=1,y=f.length;g<y;g++)c[g]=+f[g]+(g%2?i:o)}else if("R"==r)d=[i,o].concat(f.slice(1)),n.pop(),n=n.concat(U(d,l)),c=["R"].concat(f.slice(-2));else if("O"==r)n.pop(),(d=j(i,o,f[1],f[2])).push(d[0]),n=n.concat(d);else if("U"==r)n.pop(),n=n.concat(j(i,o,f[1],f[2],f[3])),c=["U"].concat(n[n.length-1].slice(-2));else for(var v=0,m=f.length;v<m;v++)c[v]=f[v];if("O"!=(r=r.toUpperCase()))switch(c[0]){case"Z":i=+s,o=+a;break;case"H":i=c[1];break;case"V":o=c[1];break;case"M":s=c[c.length-2],a=c[c.length-1];default:i=c[c.length-2],o=c[c.length-1]}}return n.toString=T,e.abs=S(n),n}function R(t,e,r,n){return[t,e,r,n,r,n]}function M(t,e,r,n,i,o){return[1/3*t+2/3*r,1/3*e+2/3*n,1/3*i+2/3*r,1/3*o+2/3*n,i,o]}function D(t,e,r,n,i,o,s,a){for(var u,c,f,l,h,p,d,g,y=[],v=[[],[]],m=0;m<2;++m)if(f=0==m?(c=6*t-12*r+6*i,u=-3*t+9*r-9*i+3*s,3*r-3*t):(c=6*e-12*n+6*o,u=-3*e+9*n-9*o+3*a,3*n-3*e),W(u)<1e-12){if(W(c)<1e-12)continue;0<(l=-f/c)&&l<1&&y.push(l)}else d=c*c-4*f*u,g=X.sqrt(d),d<0||(0<(h=(-c+g)/(2*u))&&h<1&&y.push(h),0<(p=(-c-g)/(2*u))&&p<1&&y.push(p));for(var b,w=y.length,_=w;w--;)b=1-(l=y[w]),v[0][w]=b*b*b*t+3*b*b*l*r+3*b*l*l*i+l*l*l*s,v[1][w]=b*b*b*e+3*b*b*l*n+3*b*l*l*o+l*l*l*a;return v[0][_]=t,v[1][_]=e,v[0][_+1]=s,v[1][_+1]=a,v[0].length=v[1].length=_+2,{min:{x:E.apply(0,v[0]),y:E.apply(0,v[1])},max:{x:x.apply(0,v[0]),y:x.apply(0,v[1])}}}function F(t,e){var r=!e&&_(t);if(!e&&r.curve)return S(r.curve);for(var o=N(t),s=e&&N(e),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=function(t,e,r){var n,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(function t(e,r,n,i,o,s,a,u,c,f){var l,h=120*H/180,p=H/180*(+o||0),d=[],g=q._.cacher(function(t,e,r){return{x:t*X.cos(r)-e*X.sin(r),y:t*X.sin(r)+e*X.cos(r)}});if(!n||!i)return[e,r,u,c,u,c];if(f)T=f[0],S=f[1],E=f[2],x=f[3];else{e=(l=g(e,r,-p)).x,r=l.y,u=(l=g(u,c,-p)).x,c=l.y,X.cos(H/180*o),X.sin(H/180*o);var y=(e-u)/2,v=(r-c)/2,m=y*y/(n*n)+v*v/(i*i);1<m&&(n*=m=X.sqrt(m),i*=m);var b=n*n,w=i*i,_=(s==a?-1:1)*X.sqrt(W((b*w-b*v*v-w*y*y)/(b*v*v+w*y*y))),E=_*n*v/i+(e+u)/2,x=_*-i*y/n+(r+c)/2,T=X.asin(((r-x)/i).toFixed(9)),S=X.asin(((c-x)/i).toFixed(9));(T=e<E?H-T:T)<0&&(T=2*H+T),(S=u<E?H-S:S)<0&&(S=2*H+S),a&&S<T&&(T-=2*H),!a&&T<S&&(S-=2*H)}var A=S-T;if(W(A)>h){var I=S,k=u,C=c;S=T+h*(a&&T<S?1:-1),d=t(u=E+n*X.cos(S),c=x+i*X.sin(S),n,i,o,0,a,k,C,[S,I,E,x])}A=S-T;var O=X.cos(T),B=X.sin(T),P=X.cos(S),L=X.sin(S),j=X.tan(A/4),N=4/3*n*j,R=4/3*i*j,M=[e,r],D=[e+N*B,r-R*O],F=[u+N*L,c-R*P],U=[u,c];if(D[0]=2*M[0]-D[0],D[1]=2*M[1]-D[1],f)return[D,F,U].concat(d);for(var z=[],Y=0,V=(d=[D,F,U].concat(d).join().split(",")).length;Y<V;Y++)z[Y]=Y%2?g(d[Y-1],d[Y],p).y:g(d[Y],d[Y+1],p).x;return z}.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":i="C"==r||"S"==r?(n=2*e.x-e.bx,2*e.y-e.by):(n=e.x,e.y),t=["C",n,i].concat(t.slice(1));break;case"T":e.qy="Q"==r||"T"==r?(e.qx=2*e.x-e.qx,2*e.y-e.qy):(e.qx=e.x,e.y),t=["C"].concat(M(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(M(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(R(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(R(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(R(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(R(e.x,e.y,e.X,e.Y))}return t},u=function(t,e){if(7<t[e].length){t[e].shift();for(var r=t[e];r.length;)f[e]="A",s&&(l[e]="A"),t.splice(e++,0,["C"].concat(r.splice(0,6)));t.splice(e,1),g=x(o.length,s&&s.length||0)}},c=function(t,e,r,n,i){t&&e&&"M"==t[i][0]&&"M"!=e[i][0]&&(e.splice(i,0,["M",n.x,n.y]),r.bx=0,r.by=0,r.x=t[i][1],r.y=t[i][2],g=x(o.length,s&&s.length||0))},f=[],l=[],h="",p="",d=0,g=x(o.length,s&&s.length||0);d<g;d++){o[d]&&(h=o[d][0]),"C"!=h&&(f[d]=h,d&&(p=f[d-1])),o[d]=a(o[d],n,p),"A"!=f[d]&&"C"==h&&(f[d]="C"),u(o,d),s&&(s[d]&&(h=s[d][0]),"C"!=h&&(l[d]=h,d&&(p=l[d-1])),s[d]=a(s[d],i,p),"A"!=l[d]&&"C"==h&&(l[d]="C"),u(s,d)),c(o,s,n,i,d),c(s,o,i,n,d);var y=o[d],v=s&&s[d],m=y.length,b=s&&v.length;n.x=y[m-2],n.y=y[m-1],n.bx=w(y[m-4])||n.x,n.by=w(y[m-3])||n.y,i.bx=s&&(w(v[b-4])||i.x),i.by=s&&(w(v[b-3])||i.y),i.x=s&&v[b-2],i.y=s&&v[b-1]}return s||(r.curve=S(o)),s?[o,s]:o}function U(t,e){for(var r=[],n=0,i=t.length;n<i-2*!e;n+=2){var o=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?i-4==n?o[3]={x:+t[0],y:+t[1]}:i-2==n&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4==n?o[3]=o[2]:n||(o[0]={x:+t[n],y:+t[n+1]}),r.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return r}q.path=_,q.path.getTotalLength=s,q.path.getPointAtLength=a,q.path.getSubpath=function(t,e,r){if(this.getTotalLength(t)-r<1e-6)return u(t,e).end;var n=u(t,r,1);return e?u(n,e).end:n},r.getTotalLength=function(){if(this.node.getTotalLength)return this.node.getTotalLength()},r.getPointAtLength=function(t){return a(this.attr("d"),t)},r.getSubpath=function(t,e){return q.path.getSubpath(this.attr("d"),t,e)},q._.box=g,q.path.findDotsAtSegment=A,q.path.bezierBBox=I,q.path.isPointInsideBBox=k,q.closest=function(t,e,r,n){for(var i=100,o=g(t-i/2,e-i/2,i,i),s=[],a=r[0].hasOwnProperty("x")?function(t){return{x:r[t].x,y:r[t].y}}:function(t){return{x:r[t],y:n[t]}},u=0;i<=1e6&&!u;){for(var c=0,f=r.length;c<f;c++){var l=a(c);if(k(o,l.x,l.y)){u++,s.push(l);break}}u||(o=g(t-(i*=2)/2,e-i/2,i,i))}if(1e6!=i){var h,p=1/0;for(c=0,f=s.length;c<f;c++){var d=q.len(t,e,s[c].x,s[c].y);d<p&&(p=d,s[c].len=d,h=s[c])}return h}},q.path.isBBoxIntersect=C,q.path.intersection=function(t,e){return c(t,e)},q.path.intersectionNumber=function(t,e){return c(t,e,1)},q.path.isPointInside=function(t,e,r){var n=f(t);return k(n,e,r)&&c(t,[["M",e,r],["H",n.x2+10]],1)%2==1},q.path.getBBox=f,q.path.get=d,q.path.toRelative=function(t){var e=_(t),r=String.prototype.toLowerCase;if(e.rel)return S(e.rel);q.is(t,"array")&&q.is(t&&t[0],"array")||(t=q.parsePathString(t));var n=[],i=0,o=0,s=0,a=0,u=0;"M"==t[0][0]&&(s=i=t[0][1],a=o=t[0][2],u++,n.push(["M",i,o]));for(var c=u,f=t.length;c<f;c++){var l=n[c]=[],h=t[c];if(h[0]!=r.call(h[0]))switch(l[0]=r.call(h[0]),l[0]){case"a":l[1]=h[1],l[2]=h[2],l[3]=h[3],l[4]=h[4],l[5]=h[5],l[6]=+(h[6]-i).toFixed(3),l[7]=+(h[7]-o).toFixed(3);break;case"v":l[1]=+(h[1]-o).toFixed(3);break;case"m":s=h[1],a=h[2];default:for(var p=1,d=h.length;p<d;p++)l[p]=+(h[p]-(p%2?i:o)).toFixed(3)}else{l=n[c]=[],"m"==h[0]&&(s=h[1]+i,a=h[2]+o);for(var g=0,y=h.length;g<y;g++)n[c][g]=h[g]}var v=n[c].length;switch(n[c][0]){case"z":i=s,o=a;break;case"h":i+=+n[c][v-1];break;case"v":o+=+n[c][v-1];break;default:i+=+n[c][v-2],o+=+n[c][v-1]}}return n.toString=T,e.rel=S(n),n},q.path.toAbsolute=N,q.path.toCubic=F,q.path.map=function(t,e){if(!e)return t;var r,n,i,o,s,a,u;for(i=0,s=(t=F(t)).length;i<s;i++)for(o=1,a=(u=t[i]).length;o<a;o+=2)r=e.x(u[o],u[o+1]),n=e.y(u[o],u[o+1]),u[o]=r,u[o+1]=n;return t},q.path.toString=T,q.path.clone=S}),e.plugin(function(l,t,e,r){var u=Math.max,c=Math.min,f=function(t){if(this.items=[],this.bindings={},this.length=0,this.type="set",t)for(var e=0,r=t.length;e<r;e++)t[e]&&(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},n=f.prototype;n.push=function(){for(var t,e,r=0,n=arguments.length;r<n;r++)(t=arguments[r])&&(this[e=this.items.length]=this.items[e]=t,this.length++);return this},n.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},n.forEach=function(t,e){for(var r=0,n=this.items.length;r<n;r++)if(!1===t.call(e,this.items[r],r))return this;return this},n.animate=function(r,n,i,t){"function"!=typeof i||i.length||(t=i,i=T.linear),r instanceof l._.Animation&&(t=r.callback,i=r.easing,n=i.dur,r=r.attr);var o=arguments;if(l.is(r,"array")&&l.is(o[o.length-1],"array"))var s=!0;var e,a=function(){e?this.b=e:e=this.b},u=0,c=this,f=t&&function(){++u==c.length&&t.call(this)};return this.forEach(function(t,e){W.once("snap.animcreated."+t.id,a),s?o[e]&&t.animate.apply(t,o[e]):t.animate(r,n,i,f)})},n.remove=function(){for(;this.length;)this.pop().remove();return this},n.bind=function(t,e,r){var n={};if("function"==typeof e)this.bindings[t]=e;else{var i=r||t;this.bindings[t]=function(t){n[i]=t,e.attr(n)}}return this},n.attr=function(t){var e={};for(var r in t)this.bindings[r]?this.bindings[r](t[r]):e[r]=t[r];for(var n=0,i=this.items.length;n<i;n++)this.items[n].attr(e);return this},n.clear=function(){for(;this.length;)this.pop()},n.splice=function(t,e,r){t=t<0?u(this.length+t,0):t,e=u(0,c(this.length-t,e));var n,i=[],o=[],s=[];for(n=2;n<arguments.length;n++)s.push(arguments[n]);for(n=0;n<e;n++)o.push(this[t+n]);for(;n<this.length-t;n++)i.push(this[t+n]);var a=s.length;for(n=0;n<a+i.length;n++)this.items[t+n]=this[t+n]=n<a?s[n]:i[n-a];for(n=this.items.length=this.length-=e-a;this[n];)delete this[n++];return new f(o)},n.exclude=function(t){for(var e=0,r=this.length;e<r;e++)if(this[e]==t)return this.splice(e,1),!0;return!1},n.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},n.getBBox=function(){for(var t=[],e=[],r=[],n=[],i=this.items.length;i--;)if(!this.items[i].removed){var o=this.items[i].getBBox();t.push(o.x),e.push(o.y),r.push(o.x+o.width),n.push(o.y+o.height)}return{x:t=c.apply(0,t),y:e=c.apply(0,e),x2:r=u.apply(0,r),y2:n=u.apply(0,n),width:r-t,height:n-e,cx:t+(r-t)/2,cy:e+(n-e)/2}},n.clone=function(t){t=new f;for(var e=0,r=this.items.length;e<r;e++)t.push(this.items[e].clone());return t},n.toString=function(){return"Snap‘s set"},n.type="set",l.Set=f,l.set=function(){var t=new f;return arguments.length&&t.push.apply(t,Array.prototype.slice.call(arguments,0)),t}}),e.plugin(function(l,t,e,r){var h={},p=/[%a-z]+$/i,d=String;function g(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}}function y(t){return t}function v(t){return t.join(" ")}function m(t){return l.rgb(t[0],t[1],t[2],t[3])}function b(t){var e,r,n,i,o,s,a=0,u=[];for(e=0,r=t.length;e<r;e++){for(o="[",s=['"'+t[e][0]+'"'],n=1,i=t[e].length;n<i;n++)s[n]="val["+a+++"]";o+=s+"]",u[e]=o}return Function("val","return Snap.path.toString.call(["+u+"])")}function w(t){for(var e=[],r=0,n=t.length;r<n;r++)for(var i=1,o=t[r].length;i<o;i++)e.push(t[r][i]);return e}function _(t){return isFinite(t)}h.stroke=h.fill="colour",t.prototype.equal=function(t,e){return W("snap.util.equal",this,t,e).firstDefined()},W.on("snap.util.equal",function(t,e){var r,n,i=d(this.attr(t)||""),o=this;if("colour"==h[t])return r=l.color(i),n=l.color(e),{from:[r.r,r.g,r.b,r.opacity],to:[n.r,n.g,n.b,n.opacity],f:m};if("viewBox"==t)return{from:r=this.attr(t).vb.split(" ").map(Number),to:n=e.split(" ").map(Number),f:v};if("transform"==t||"gradientTransform"==t||"patternTransform"==t)return"string"==typeof e&&(e=d(e).replace(/\.{3}|\u2026/g,i)),function(t,e,r){t=t||new l.Matrix,e=e||new l.Matrix,t=l.parseTransformString(t.toTransformString())||[],e=l.parseTransformString(e.toTransformString())||[];for(var n,i,o,s,a=Math.max(t.length,e.length),u=[],c=[],f=0;f<a;f++){if(o=t[f]||g(e[f]),s=e[f]||g(o),o[0]!=s[0]||"r"==o[0].toLowerCase()&&(o[2]!=s[2]||o[3]!=s[3])||"s"==o[0].toLowerCase()&&(o[3]!=s[3]||o[4]!=s[4])){t=l._.transform2matrix(t,r()),e=l._.transform2matrix(e,r()),u=[["m",t.a,t.b,t.c,t.d,t.e,t.f]],c=[["m",e.a,e.b,e.c,e.d,e.e,e.f]];break}for(u[f]=[],c[f]=[],n=0,i=Math.max(o.length,s.length);n<i;n++)n in o&&(u[f][n]=o[n]),n in s&&(c[f][n]=s[n])}return{from:w(u),to:w(c),f:b(u)}}(i=this.matrix,e=l._.rgTransform.test(e)?l._.transform2matrix(e,this.getBBox()):l._.transform2matrix(l._.svgTransform2string(e),this.getBBox()),function(){return o.getBBox(1)});if("d"==t||"path"==t)return{from:w((r=l.path.toCubic(i,e))[0]),to:w(r[1]),f:b(r[0])};if("points"==t)return{from:r=d(i).split(l._.separator),to:n=d(e).split(l._.separator),f:function(t){return t}};if(_(i)&&_(e))return{from:parseFloat(i),to:parseFloat(e),f:y};var s,a,u,c=i.match(p),f=d(e).match(p);return c&&(a=c,u=f,l.is(a,"array")&&l.is(u,"array")&&a.toString()==u.toString())?{from:parseFloat(i),to:parseFloat(e),f:(s=c,function(t){return+t.toFixed(3)+s})}:{from:this.asPX(t),to:this.asPX(t,e),f:y}})}),e.plugin(function(h,t,e,i){for(var r=t.prototype,p=("createTouch"in i.doc),n=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],d={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},g=function(t,e){var r="y"==t?"scrollTop":"scrollLeft",n=e&&e.node?e.node.ownerDocument:i.doc;return n[r in n.documentElement?"documentElement":"body"][r]},y=function(){return this.originalEvent.preventDefault()},v=function(){return this.originalEvent.stopPropagation()},f=[],l=function(t){for(var e,r=t.clientX,n=t.clientY,i=g("y"),o=g("x"),s=f.length;s--;){if(e=f[s],p){for(var a,u=t.touches&&t.touches.length;u--;)if((a=t.touches[u]).identifier==e.el._drag.id||e.el.node.contains(a.target)){r=a.clientX,n=a.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var c=e.el.node;c.nextSibling,c.parentNode,c.style.display;r+=o,n+=i,W("snap.drag.move."+e.el.id,e.move_scope||e.el,r-e.el._drag.x,n-e.el._drag.y,r,n,t)}},m=function(t){h.unmousemove(l).unmouseup(m);for(var e,r=f.length;r--;)(e=f[r]).el._drag={},W("snap.drag.end."+e.el.id,e.end_scope||e.start_scope||e.move_scope||e.el,t),W.off("snap.drag.*."+e.el.id);f=[]},o=n.length;o--;)!function(s){h[s]=r[s]=function(t,e){if(h.is(t,"function"))this.events=this.events||[],this.events.push({name:s,f:t,unbind:(u=this.node||document,c=s,f=t,l=e||this,i=p&&d[c]?d[c]:c,o=function(t){var e=g("y",l),r=g("x",l);if(p&&d.hasOwnProperty(c))for(var n=0,i=t.targetTouches&&t.targetTouches.length;n<i;n++)if(t.targetTouches[n].target==u||u.contains(t.targetTouches[n].target)){var o=t;(t=t.targetTouches[n]).originalEvent=o,t.preventDefault=y,t.stopPropagation=v;break}var s=t.clientX+r,a=t.clientY+e;return f.call(l,t,s,a)},c!==i&&u.addEventListener(c,o,!1),u.addEventListener(i,o,!1),function(){return c!==i&&u.removeEventListener(c,o,!1),u.removeEventListener(i,o,!1),!0})});else for(var r=0,n=this.events.length;r<n;r++)if(this.events[r].name==s)try{this.events[r].f.call(this)}catch(t){}var u,c,f,l,i,o;return this},h["un"+s]=r["un"+s]=function(t){for(var e=this.events||[],r=e.length;r--;)if(e[r].name==s&&(e[r].f==t||!t))return e[r].unbind(),e.splice(r,1),!e.length&&delete this.events,this;return this}}(n[o]);r.hover=function(t,e,r,n){return this.mouseover(t,r).mouseout(e,n||r)},r.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var b=[];r.drag=function(n,i,o,s,a,u){var r,c=this;if(!arguments.length)return c.drag(function(t,e){this.attr({transform:r+(r?"T":"t")+[t,e]})},function(){r=this.transform().local});function t(t,e,r){(t.originalEvent||t).preventDefault(),c._drag.x=e,c._drag.y=r,c._drag.id=t.identifier,!f.length&&h.mousemove(l).mouseup(m),f.push({el:c,move_scope:s,start_scope:a,end_scope:u}),i&&W.on("snap.drag.start."+c.id,i),n&&W.on("snap.drag.move."+c.id,n),o&&W.on("snap.drag.end."+c.id,o),W("snap.drag.start."+c.id,a||s||c,e,r,t)}function e(t,e,r){W("snap.draginit."+c.id,c,t,e,r)}return W.on("snap.draginit."+c.id,t),c._drag={},b.push({el:c,start:t,init:e}),c.mousedown(e),c},r.undrag=function(){for(var t=b.length;t--;)b[t].el==this&&(this.unmousedown(b[t].init),b.splice(t,1),W.unbind("snap.drag.*."+this.id),W.unbind("snap.draginit."+this.id));return!b.length&&h.unmousemove(l).unmouseup(m),this}}),e.plugin(function(o,s,t,e){s.prototype;var r=t.prototype,n=/^\s*url\((.+)\)/,a=String,u=o._.$;o.filter={},r.filter=function(t){var e=this;"svg"!=e.type&&(e=e.paper);var r=o.parse(a(t)),n=o._.id(),i=(e.node.offsetWidth,e.node.offsetHeight,u("filter"));return u(i,{id:n,filterUnits:"userSpaceOnUse"}),i.appendChild(r.node),e.defs.appendChild(i),new s(i)},W.on("snap.util.getattr.filter",function(){W.stop();var t=u(this.node,"filter");if(t){var e=a(t).match(n);return e&&o.select(e[1])}}),W.on("snap.util.attr.filter",function(t){if(t instanceof s&&"filter"==t.type){W.stop();var e=t.node.id;e||(u(t.node,{id:t.id}),e=t.id),u(this.node,{filter:o.url(e)})}t&&"none"!=t||(W.stop(),this.node.removeAttribute("filter"))}),o.filter.blur=function(t,e){null==t&&(t=2);var r=null==e?t:[t,e];return o.format('<feGaussianBlur stdDeviation="{def}"/>',{def:r})},o.filter.blur.toString=function(){return this()},o.filter.shadow=function(t,e,r,n,i){return null==i&&(null==n?(i=r,r=4,n="#000"):(i=n,n=r,r=4)),null==r&&(r=4),null==i&&(i=1),null==t&&(t=0,e=2),null==e&&(e=t),n=o.color(n),o.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:n,dx:t,dy:e,blur:r,opacity:i})},o.filter.shadow.toString=function(){return this()},o.filter.grayscale=function(t){return null==t&&(t=1),o.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},o.filter.grayscale.toString=function(){return this()},o.filter.sepia=function(t){return null==t&&(t=1),o.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},o.filter.sepia.toString=function(){return this()},o.filter.saturate=function(t){return null==t&&(t=1),o.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-t})},o.filter.saturate.toString=function(){return this()},o.filter.hueRotate=function(t){return t=t||0,o.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:t})},o.filter.hueRotate.toString=function(){return this()},o.filter.invert=function(t){return null==t&&(t=1),o.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:t,amount2:1-t})},o.filter.invert.toString=function(){return this()},o.filter.brightness=function(t){return null==t&&(t=1),o.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:t})},o.filter.brightness.toString=function(){return this()},o.filter.contrast=function(t){return null==t&&(t=1),o.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:t,amount2:.5-t/2})},o.filter.contrast.toString=function(){return this()}}),e.plugin(function(t,e,r,n,i){var o=t._.box,s=t.is,a=/^[^a-z]*([tbmlrc])/i,u=function(){return"T"+this.dx+","+this.dy};e.prototype.getAlign=function(t,e){null==e&&s(t,"string")&&(e=t,t=null);var r=(t=t||this.paper).getBBox?t.getBBox():o(t),n=this.getBBox(),i={};switch(e=(e=e&&e.match(a))?e[1].toLowerCase():"c"){case"t":i.dx=0,i.dy=r.y-n.y;break;case"b":i.dx=0,i.dy=r.y2-n.y2;break;case"m":i.dx=0,i.dy=r.cy-n.cy;break;case"l":i.dx=r.x-n.x,i.dy=0;break;case"r":i.dx=r.x2-n.x2,i.dy=0;break;default:i.dx=r.cx-n.cx,i.dy=0}return i.toString=u,i},e.prototype.align=function(t,e){return this.transform("..."+this.getAlign(t,e))}}),e.plugin(function(e,t,r,n){function i(t){t=t.split(/(?=#)/);var e=new String(t[5]);return e[50]=t[0],e[100]=t[1],e[200]=t[2],e[300]=t[3],e[400]=t[4],e[500]=t[5],e[600]=t[6],e[700]=t[7],e[800]=t[8],e[900]=t[9],t[10]&&(e.A100=t[10],e.A200=t[11],e.A400=t[12],e.A700=t[13]),e}e.mui={},e.flat={},e.mui.red=i("#ffebee#ffcdd2#ef9a9a#e57373#ef5350#f44336#e53935#d32f2f#c62828#b71c1c#ff8a80#ff5252#ff1744#d50000"),e.mui.pink=i("#FCE4EC#F8BBD0#F48FB1#F06292#EC407A#E91E63#D81B60#C2185B#AD1457#880E4F#FF80AB#FF4081#F50057#C51162"),e.mui.purple=i("#F3E5F5#E1BEE7#CE93D8#BA68C8#AB47BC#9C27B0#8E24AA#7B1FA2#6A1B9A#4A148C#EA80FC#E040FB#D500F9#AA00FF"),e.mui.deeppurple=i("#EDE7F6#D1C4E9#B39DDB#9575CD#7E57C2#673AB7#5E35B1#512DA8#4527A0#311B92#B388FF#7C4DFF#651FFF#6200EA"),e.mui.indigo=i("#E8EAF6#C5CAE9#9FA8DA#7986CB#5C6BC0#3F51B5#3949AB#303F9F#283593#1A237E#8C9EFF#536DFE#3D5AFE#304FFE"),e.mui.blue=i("#E3F2FD#BBDEFB#90CAF9#64B5F6#64B5F6#2196F3#1E88E5#1976D2#1565C0#0D47A1#82B1FF#448AFF#2979FF#2962FF"),e.mui.lightblue=i("#E1F5FE#B3E5FC#81D4FA#4FC3F7#29B6F6#03A9F4#039BE5#0288D1#0277BD#01579B#80D8FF#40C4FF#00B0FF#0091EA"),e.mui.cyan=i("#E0F7FA#B2EBF2#80DEEA#4DD0E1#26C6DA#00BCD4#00ACC1#0097A7#00838F#006064#84FFFF#18FFFF#00E5FF#00B8D4"),e.mui.teal=i("#E0F2F1#B2DFDB#80CBC4#4DB6AC#26A69A#009688#00897B#00796B#00695C#004D40#A7FFEB#64FFDA#1DE9B6#00BFA5"),e.mui.green=i("#E8F5E9#C8E6C9#A5D6A7#81C784#66BB6A#4CAF50#43A047#388E3C#2E7D32#1B5E20#B9F6CA#69F0AE#00E676#00C853"),e.mui.lightgreen=i("#F1F8E9#DCEDC8#C5E1A5#AED581#9CCC65#8BC34A#7CB342#689F38#558B2F#33691E#CCFF90#B2FF59#76FF03#64DD17"),e.mui.lime=i("#F9FBE7#F0F4C3#E6EE9C#DCE775#D4E157#CDDC39#C0CA33#AFB42B#9E9D24#827717#F4FF81#EEFF41#C6FF00#AEEA00"),e.mui.yellow=i("#FFFDE7#FFF9C4#FFF59D#FFF176#FFEE58#FFEB3B#FDD835#FBC02D#F9A825#F57F17#FFFF8D#FFFF00#FFEA00#FFD600"),e.mui.amber=i("#FFF8E1#FFECB3#FFE082#FFD54F#FFCA28#FFC107#FFB300#FFA000#FF8F00#FF6F00#FFE57F#FFD740#FFC400#FFAB00"),e.mui.orange=i("#FFF3E0#FFE0B2#FFCC80#FFB74D#FFA726#FF9800#FB8C00#F57C00#EF6C00#E65100#FFD180#FFAB40#FF9100#FF6D00"),e.mui.deeporange=i("#FBE9E7#FFCCBC#FFAB91#FF8A65#FF7043#FF5722#F4511E#E64A19#D84315#BF360C#FF9E80#FF6E40#FF3D00#DD2C00"),e.mui.brown=i("#EFEBE9#D7CCC8#BCAAA4#A1887F#8D6E63#795548#6D4C41#5D4037#4E342E#3E2723"),e.mui.grey=i("#FAFAFA#F5F5F5#EEEEEE#E0E0E0#BDBDBD#9E9E9E#757575#616161#424242#212121"),e.mui.bluegrey=i("#ECEFF1#CFD8DC#B0BEC5#90A4AE#78909C#607D8B#546E7A#455A64#37474F#263238"),e.flat.turquoise="#1abc9c",e.flat.greensea="#16a085",e.flat.sunflower="#f1c40f",e.flat.orange="#f39c12",e.flat.emerland="#2ecc71",e.flat.nephritis="#27ae60",e.flat.carrot="#e67e22",e.flat.pumpkin="#d35400",e.flat.peterriver="#3498db",e.flat.belizehole="#2980b9",e.flat.alizarin="#e74c3c",e.flat.pomegranate="#c0392b",e.flat.amethyst="#9b59b6",e.flat.wisteria="#8e44ad",e.flat.clouds="#ecf0f1",e.flat.silver="#bdc3c7",e.flat.wetasphalt="#34495e",e.flat.midnightblue="#2c3e50",e.flat.concrete="#95a5a6",e.flat.asbestos="#7f8c8d",e.importMUIColors=function(){for(var t in e.mui)e.mui.hasOwnProperty(t)&&(v[t]=e.mui[t])}}),e})},{eve:69}],103:[function(t,e,r){e.exports=n;var f=t("events").EventEmitter;function n(){f.call(this)}t("inherits")(n,f),n.Readable=t("readable-stream/readable.js"),n.Writable=t("readable-stream/writable.js"),n.Duplex=t("readable-stream/duplex.js"),n.Transform=t("readable-stream/transform.js"),n.PassThrough=t("readable-stream/passthrough.js"),(n.Stream=n).prototype.pipe=function(e,t){var r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",a));var o=!1;function s(){o||(o=!0,e.end())}function a(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function u(t){if(c(),0===f.listenerCount(this,"error"))throw t}function c(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",a),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return r.on("error",u),e.on("error",u),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e}},{events:70,inherits:72,"readable-stream/duplex.js":87,"readable-stream/passthrough.js":96,"readable-stream/readable.js":97,"readable-stream/transform.js":98,"readable-stream/writable.js":99}],104:[function(t,e,r){"use strict";var n=t("safe-buffer").Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=c,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=f,this.end=l,e=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(1<t.lastNeed&&1<e.length){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(2<t.lastNeed&&2<e.length&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2!=0)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1);var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(55296<=n&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function f(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}(r.StringDecoder=o).prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=s(e[n]);if(0<=i)return 0<i&&(t.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if(0<=(i=s(e[n])))return 0<i&&(t.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if(0<=(i=s(e[n])))return 0<i&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},{"safe-buffer":100}],105:[function(u,t,c){(function(t,e){var n=u("process/browser.js").nextTick,r=Function.prototype.apply,i=Array.prototype.slice,o={},s=0;function a(t,e){this._id=t,this._clearFn=e}c.setTimeout=function(){return new a(r.call(setTimeout,window,arguments),clearTimeout)},c.setInterval=function(){return new a(r.call(setInterval,window,arguments),clearInterval)},c.clearTimeout=c.clearInterval=function(t){t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},c.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},c.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},c._unrefActive=c.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},c.setImmediate="function"==typeof t?t:function(t){var e=s++,r=!(arguments.length<2)&&i.call(arguments,1);return o[e]=!0,n(function(){o[e]&&(r?t.apply(null,r):t.call(null),c.clearImmediate(e))}),e},c.clearImmediate="function"==typeof e?e:function(t){delete o[t]}}).call(this,u("timers").setImmediate,u("timers").clearImmediate)},{"process/browser.js":85,timers:105}],106:[function(t,e,r){var i=e.exports=function(t){return new o(t)};function o(t){this.value=t}function n(t,u,c){var f=[],l=[],h=!0;return function n(e){var t=c?p(e):e,i={},r=!0,o={node:t,node_:e,path:[].concat(f),parent:l[l.length-1],parents:l,key:f.slice(-1)[0],isRoot:0===f.length,level:f.length,circular:null,update:function(t,e){o.isRoot||(o.parent.node[o.key]=t),o.node=t,e&&(r=!1)},delete:function(t){delete o.parent.node[o.key],t&&(r=!1)},remove:function(t){g(o.parent.node)?o.parent.node.splice(o.key,1):delete o.parent.node[o.key],t&&(r=!1)},keys:null,before:function(t){i.before=t},after:function(t){i.after=t},pre:function(t){i.pre=t},post:function(t){i.post=t},stop:function(){h=!1},block:function(){r=!1}};if(!h)return o;function s(){if("object"==typeof o.node&&null!==o.node){o.keys&&o.node_===o.node||(o.keys=d(o.node)),o.isLeaf=0==o.keys.length;for(var t=0;t<l.length;t++)if(l[t].node_===e){o.circular=l[t];break}}else o.isLeaf=!0,o.keys=null;o.notLeaf=!o.isLeaf,o.notRoot=!o.isRoot}s();var a=u.call(o,o.node);return void 0!==a&&o.update&&o.update(a),i.before&&i.before.call(o,o.node),r&&("object"!=typeof o.node||null===o.node||o.circular||(l.push(o),s(),y(o.keys,function(t,e){f.push(t),i.pre&&i.pre.call(o,o.node[t],t);var r=n(o.node[t]);c&&v.call(o.node,t)&&(o.node[t]=r.node),r.isLast=e==o.keys.length-1,r.isFirst=0==e,i.post&&i.post.call(o,r),f.pop()}),l.pop()),i.after&&i.after.call(o,o.node)),o}(t).node}function p(e){if("object"!=typeof e||null===e)return e;var r;if(g(e))r=[];else if("[object Date]"===s(e))r=new Date(e.getTime?e.getTime():e);else if("[object RegExp]"===s(e))r=new RegExp(e);else if("[object Error]"===s(e))r={message:e.message};else if("[object Boolean]"===s(e))r=new Boolean(e);else if("[object Number]"===s(e))r=new Number(e);else if("[object String]"===s(e))r=new String(e);else if(Object.create&&Object.getPrototypeOf)r=Object.create(Object.getPrototypeOf(e));else if(e.constructor===Object)r={};else{var t=e.constructor&&e.constructor.prototype||e.__proto__||{},n=function(){};n.prototype=t,r=new n}return y(d(e),function(t){r[t]=e[t]}),r}o.prototype.get=function(t){for(var e=this.value,r=0;r<t.length;r++){var n=t[r];if(!e||!v.call(e,n)){e=void 0;break}e=e[n]}return e},o.prototype.has=function(t){for(var e=this.value,r=0;r<t.length;r++){var n=t[r];if(!e||!v.call(e,n))return!1;e=e[n]}return!0},o.prototype.set=function(t,e){for(var r=this.value,n=0;n<t.length-1;n++){var i=t[n];v.call(r,i)||(r[i]={}),r=r[i]}return r[t[n]]=e},o.prototype.map=function(t){return n(this.value,t,!0)},o.prototype.forEach=function(t){return this.value=n(this.value,t,!1),this.value},o.prototype.reduce=function(e,t){var r=1===arguments.length,n=r?this.value:t;return this.forEach(function(t){this.isRoot&&r||(n=e.call(this,n,t))}),n},o.prototype.paths=function(){var e=[];return this.forEach(function(t){e.push(this.path)}),e},o.prototype.nodes=function(){var e=[];return this.forEach(function(t){e.push(this.node)}),e},o.prototype.clone=function(){var i=[],o=[];return function e(r){for(var t=0;t<i.length;t++)if(i[t]===r)return o[t];if("object"!=typeof r||null===r)return r;var n=p(r);return i.push(r),o.push(n),y(d(r),function(t){n[t]=e(r[t])}),i.pop(),o.pop(),n}(this.value)};var d=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function s(t){return Object.prototype.toString.call(t)}var g=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},y=function(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r++)e(t[r],r,t)};y(d(o.prototype),function(n){i[n]=function(t){var e=[].slice.call(arguments,1),r=new o(t);return r[n].apply(r,e)}});var v=Object.hasOwnProperty||function(t,e){return e in t}},{}],107:[function(t,e,r){!function(o){"use strict";var g=function(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;e++)r[e]=t[e];return r},s=function(){throw new Error("no PRNG")},i=new Uint8Array(16),r=new Uint8Array(32);r[0]=9;var c=g(),f=g([1]),y=g([56129,1]),l=g([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=g([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),n=g([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),a=g([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=g([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function u(t,e,r,n){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r,t[e+4]=n>>24&255,t[e+5]=n>>16&255,t[e+6]=n>>8&255,t[e+7]=255&n}function d(t,e,r,n,i){var o,s=0;for(o=0;o<i;o++)s|=t[e+o]^r[n+o];return(1&s-1>>>8)-1}function v(t,e,r,n){return d(t,e,r,n,16)}function m(t,e,r,n){return d(t,e,r,n,32)}function b(t,e,r,n){!function(t,e,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,f=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,d=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,v=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=o,E=s,x=a,T=u,S=c,A=f,I=l,k=h,C=p,O=d,B=g,P=y,L=v,j=m,N=b,R=w,M=0;M<20;M+=2)_^=(i=(L^=(i=(C^=(i=(S^=(i=_+L|0)<<7|i>>>25)+_|0)<<9|i>>>23)+S|0)<<13|i>>>19)+C|0)<<18|i>>>14,A^=(i=(E^=(i=(j^=(i=(O^=(i=A+E|0)<<7|i>>>25)+A|0)<<9|i>>>23)+O|0)<<13|i>>>19)+j|0)<<18|i>>>14,B^=(i=(I^=(i=(x^=(i=(N^=(i=B+I|0)<<7|i>>>25)+B|0)<<9|i>>>23)+N|0)<<13|i>>>19)+x|0)<<18|i>>>14,R^=(i=(P^=(i=(k^=(i=(T^=(i=R+P|0)<<7|i>>>25)+R|0)<<9|i>>>23)+T|0)<<13|i>>>19)+k|0)<<18|i>>>14,_^=(i=(T^=(i=(x^=(i=(E^=(i=_+T|0)<<7|i>>>25)+_|0)<<9|i>>>23)+E|0)<<13|i>>>19)+x|0)<<18|i>>>14,A^=(i=(S^=(i=(k^=(i=(I^=(i=A+S|0)<<7|i>>>25)+A|0)<<9|i>>>23)+I|0)<<13|i>>>19)+k|0)<<18|i>>>14,B^=(i=(O^=(i=(C^=(i=(P^=(i=B+O|0)<<7|i>>>25)+B|0)<<9|i>>>23)+P|0)<<13|i>>>19)+C|0)<<18|i>>>14,R^=(i=(N^=(i=(j^=(i=(L^=(i=R+N|0)<<7|i>>>25)+R|0)<<9|i>>>23)+L|0)<<13|i>>>19)+j|0)<<18|i>>>14;_=_+o|0,E=E+s|0,x=x+a|0,T=T+u|0,S=S+c|0,A=A+f|0,I=I+l|0,k=k+h|0,C=C+p|0,O=O+d|0,B=B+g|0,P=P+y|0,L=L+v|0,j=j+m|0,N=N+b|0,R=R+w|0,t[0]=_>>>0&255,t[1]=_>>>8&255,t[2]=_>>>16&255,t[3]=_>>>24&255,t[4]=E>>>0&255,t[5]=E>>>8&255,t[6]=E>>>16&255,t[7]=E>>>24&255,t[8]=x>>>0&255,t[9]=x>>>8&255,t[10]=x>>>16&255,t[11]=x>>>24&255,t[12]=T>>>0&255,t[13]=T>>>8&255,t[14]=T>>>16&255,t[15]=T>>>24&255,t[16]=S>>>0&255,t[17]=S>>>8&255,t[18]=S>>>16&255,t[19]=S>>>24&255,t[20]=A>>>0&255,t[21]=A>>>8&255,t[22]=A>>>16&255,t[23]=A>>>24&255,t[24]=I>>>0&255,t[25]=I>>>8&255,t[26]=I>>>16&255,t[27]=I>>>24&255,t[28]=k>>>0&255,t[29]=k>>>8&255,t[30]=k>>>16&255,t[31]=k>>>24&255,t[32]=C>>>0&255,t[33]=C>>>8&255,t[34]=C>>>16&255,t[35]=C>>>24&255,t[36]=O>>>0&255,t[37]=O>>>8&255,t[38]=O>>>16&255,t[39]=O>>>24&255,t[40]=B>>>0&255,t[41]=B>>>8&255,t[42]=B>>>16&255,t[43]=B>>>24&255,t[44]=P>>>0&255,t[45]=P>>>8&255,t[46]=P>>>16&255,t[47]=P>>>24&255,t[48]=L>>>0&255,t[49]=L>>>8&255,t[50]=L>>>16&255,t[51]=L>>>24&255,t[52]=j>>>0&255,t[53]=j>>>8&255,t[54]=j>>>16&255,t[55]=j>>>24&255,t[56]=N>>>0&255,t[57]=N>>>8&255,t[58]=N>>>16&255,t[59]=N>>>24&255,t[60]=R>>>0&255,t[61]=R>>>8&255,t[62]=R>>>16&255,t[63]=R>>>24&255}(t,e,r,n)}function w(t,e,r,n){!function(t,e,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,f=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,d=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,v=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=0;_<20;_+=2)o^=(i=(v^=(i=(p^=(i=(c^=(i=o+v|0)<<7|i>>>25)+o|0)<<9|i>>>23)+c|0)<<13|i>>>19)+p|0)<<18|i>>>14,f^=(i=(s^=(i=(m^=(i=(d^=(i=f+s|0)<<7|i>>>25)+f|0)<<9|i>>>23)+d|0)<<13|i>>>19)+m|0)<<18|i>>>14,g^=(i=(l^=(i=(a^=(i=(b^=(i=g+l|0)<<7|i>>>25)+g|0)<<9|i>>>23)+b|0)<<13|i>>>19)+a|0)<<18|i>>>14,w^=(i=(y^=(i=(h^=(i=(u^=(i=w+y|0)<<7|i>>>25)+w|0)<<9|i>>>23)+u|0)<<13|i>>>19)+h|0)<<18|i>>>14,o^=(i=(u^=(i=(a^=(i=(s^=(i=o+u|0)<<7|i>>>25)+o|0)<<9|i>>>23)+s|0)<<13|i>>>19)+a|0)<<18|i>>>14,f^=(i=(c^=(i=(h^=(i=(l^=(i=f+c|0)<<7|i>>>25)+f|0)<<9|i>>>23)+l|0)<<13|i>>>19)+h|0)<<18|i>>>14,g^=(i=(d^=(i=(p^=(i=(y^=(i=g+d|0)<<7|i>>>25)+g|0)<<9|i>>>23)+y|0)<<13|i>>>19)+p|0)<<18|i>>>14,w^=(i=(b^=(i=(m^=(i=(v^=(i=w+b|0)<<7|i>>>25)+w|0)<<9|i>>>23)+v|0)<<13|i>>>19)+m|0)<<18|i>>>14;t[0]=o>>>0&255,t[1]=o>>>8&255,t[2]=o>>>16&255,t[3]=o>>>24&255,t[4]=f>>>0&255,t[5]=f>>>8&255,t[6]=f>>>16&255,t[7]=f>>>24&255,t[8]=g>>>0&255,t[9]=g>>>8&255,t[10]=g>>>16&255,t[11]=g>>>24&255,t[12]=w>>>0&255,t[13]=w>>>8&255,t[14]=w>>>16&255,t[15]=w>>>24&255,t[16]=l>>>0&255,t[17]=l>>>8&255,t[18]=l>>>16&255,t[19]=l>>>24&255,t[20]=h>>>0&255,t[21]=h>>>8&255,t[22]=h>>>16&255,t[23]=h>>>24&255,t[24]=p>>>0&255,t[25]=p>>>8&255,t[26]=p>>>16&255,t[27]=p>>>24&255,t[28]=d>>>0&255,t[29]=d>>>8&255,t[30]=d>>>16&255,t[31]=d>>>24&255}(t,e,r,n)}var _=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function E(t,e,r,n,i,o,s){var a,u,c=new Uint8Array(16),f=new Uint8Array(64);for(u=0;u<16;u++)c[u]=0;for(u=0;u<8;u++)c[u]=o[u];for(;64<=i;){for(b(f,c,s,_),u=0;u<64;u++)t[e+u]=r[n+u]^f[u];for(a=1,u=8;u<16;u++)a=a+(255&c[u])|0,c[u]=255&a,a>>>=8;i-=64,e+=64,n+=64}if(0<i)for(b(f,c,s,_),u=0;u<i;u++)t[e+u]=r[n+u]^f[u];return 0}function x(t,e,r,n,i){var o,s,a=new Uint8Array(16),u=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=n[s];for(;64<=r;){for(b(u,a,i,_),s=0;s<64;s++)t[e+s]=u[s];for(o=1,s=8;s<16;s++)o=o+(255&a[s])|0,a[s]=255&o,o>>>=8;r-=64,e+=64}if(0<r)for(b(u,a,i,_),s=0;s<r;s++)t[e+s]=u[s];return 0}function T(t,e,r,n,i){var o=new Uint8Array(32);w(o,n,i,_);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=n[a+16];return x(t,e,r,s,o)}function S(t,e,r,n,i,o,s){var a=new Uint8Array(32);w(a,o,s,_);for(var u=new Uint8Array(8),c=0;c<8;c++)u[c]=o[c+16];return E(t,e,r,n,i,u,a)}var A=function(t){var e,r,n,i,o,s,a,u;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,e=255&t[this.fin=0]|(255&t[1])<<8,this.r[0]=8191&e,r=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|r<<3),n=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(n>>>7|i<<9),o=255&t[8]|(255&t[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,s=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(o>>>14|s<<2),a=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(s>>>11|a<<5),u=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(a>>>8|u<<8),this.r[9]=u>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function I(t,e,r,n,i,o){var s=new A(o);return s.update(r,n,i),s.finish(t,e),0}function k(t,e,r,n,i,o){var s=new Uint8Array(16);return I(s,0,r,n,i,o),v(t,e,s,0)}function C(t,e,r,n,i){var o;if(r<32)return-1;for(S(t,0,e,0,r,n,i),I(t,16,t,32,r-32,t),o=0;o<16;o++)t[o]=0;return 0}function O(t,e,r,n,i){var o,s=new Uint8Array(32);if(r<32)return-1;if(T(s,0,32,n,i),0!==k(e,16,e,32,r-32,s))return-1;for(S(t,0,e,0,r,n,i),o=0;o<32;o++)t[o]=0;return 0}function B(t,e){var r;for(r=0;r<16;r++)t[r]=0|e[r]}function P(t){var e,r,n=1;for(e=0;e<16;e++)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-65536*n;t[0]+=n-1+37*(n-1)}function L(t,e,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(t[o]^e[o]),t[o]^=n,e[o]^=n}function j(t,e){var r,n,i,o=g(),s=g();for(r=0;r<16;r++)s[r]=e[r];for(P(s),P(s),P(s),n=0;n<2;n++){for(o[0]=s[0]-65517,r=1;r<15;r++)o[r]=s[r]-65535-(o[r-1]>>16&1),o[r-1]&=65535;o[15]=s[15]-32767-(o[14]>>16&1),i=o[15]>>16&1,o[14]&=65535,L(s,o,1-i)}for(r=0;r<16;r++)t[2*r]=255&s[r],t[2*r+1]=s[r]>>8}function N(t,e){var r=new Uint8Array(32),n=new Uint8Array(32);return j(r,t),j(n,e),m(r,0,n,0)}function R(t){var e=new Uint8Array(32);return j(e,t),1&e[0]}function M(t,e){var r;for(r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function D(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]+r[n]}function F(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]-r[n]}function U(t,e,r){var n,i,o=0,s=0,a=0,u=0,c=0,f=0,l=0,h=0,p=0,d=0,g=0,y=0,v=0,m=0,b=0,w=0,_=0,E=0,x=0,T=0,S=0,A=0,I=0,k=0,C=0,O=0,B=0,P=0,L=0,j=0,N=0,R=r[0],M=r[1],D=r[2],F=r[3],U=r[4],z=r[5],Y=r[6],V=r[7],q=r[8],X=r[9],H=r[10],W=r[11],G=r[12],J=r[13],K=r[14],Z=r[15];o+=(n=e[0])*R,s+=n*M,a+=n*D,u+=n*F,c+=n*U,f+=n*z,l+=n*Y,h+=n*V,p+=n*q,d+=n*X,g+=n*H,y+=n*W,v+=n*G,m+=n*J,b+=n*K,w+=n*Z,s+=(n=e[1])*R,a+=n*M,u+=n*D,c+=n*F,f+=n*U,l+=n*z,h+=n*Y,p+=n*V,d+=n*q,g+=n*X,y+=n*H,v+=n*W,m+=n*G,b+=n*J,w+=n*K,_+=n*Z,a+=(n=e[2])*R,u+=n*M,c+=n*D,f+=n*F,l+=n*U,h+=n*z,p+=n*Y,d+=n*V,g+=n*q,y+=n*X,v+=n*H,m+=n*W,b+=n*G,w+=n*J,_+=n*K,E+=n*Z,u+=(n=e[3])*R,c+=n*M,f+=n*D,l+=n*F,h+=n*U,p+=n*z,d+=n*Y,g+=n*V,y+=n*q,v+=n*X,m+=n*H,b+=n*W,w+=n*G,_+=n*J,E+=n*K,x+=n*Z,c+=(n=e[4])*R,f+=n*M,l+=n*D,h+=n*F,p+=n*U,d+=n*z,g+=n*Y,y+=n*V,v+=n*q,m+=n*X,b+=n*H,w+=n*W,_+=n*G,E+=n*J,x+=n*K,T+=n*Z,f+=(n=e[5])*R,l+=n*M,h+=n*D,p+=n*F,d+=n*U,g+=n*z,y+=n*Y,v+=n*V,m+=n*q,b+=n*X,w+=n*H,_+=n*W,E+=n*G,x+=n*J,T+=n*K,S+=n*Z,l+=(n=e[6])*R,h+=n*M,p+=n*D,d+=n*F,g+=n*U,y+=n*z,v+=n*Y,m+=n*V,b+=n*q,w+=n*X,_+=n*H,E+=n*W,x+=n*G,T+=n*J,S+=n*K,A+=n*Z,h+=(n=e[7])*R,p+=n*M,d+=n*D,g+=n*F,y+=n*U,v+=n*z,m+=n*Y,b+=n*V,w+=n*q,_+=n*X,E+=n*H,x+=n*W,T+=n*G,S+=n*J,A+=n*K,I+=n*Z,p+=(n=e[8])*R,d+=n*M,g+=n*D,y+=n*F,v+=n*U,m+=n*z,b+=n*Y,w+=n*V,_+=n*q,E+=n*X,x+=n*H,T+=n*W,S+=n*G,A+=n*J,I+=n*K,k+=n*Z,d+=(n=e[9])*R,g+=n*M,y+=n*D,v+=n*F,m+=n*U,b+=n*z,w+=n*Y,_+=n*V,E+=n*q,x+=n*X,T+=n*H,S+=n*W,A+=n*G,I+=n*J,k+=n*K,C+=n*Z,g+=(n=e[10])*R,y+=n*M,v+=n*D,m+=n*F,b+=n*U,w+=n*z,_+=n*Y,E+=n*V,x+=n*q,T+=n*X,S+=n*H,A+=n*W,I+=n*G,k+=n*J,C+=n*K,O+=n*Z,y+=(n=e[11])*R,v+=n*M,m+=n*D,b+=n*F,w+=n*U,_+=n*z,E+=n*Y,x+=n*V,T+=n*q,S+=n*X,A+=n*H,I+=n*W,k+=n*G,C+=n*J,O+=n*K,B+=n*Z,v+=(n=e[12])*R,m+=n*M,b+=n*D,w+=n*F,_+=n*U,E+=n*z,x+=n*Y,T+=n*V,S+=n*q,A+=n*X,I+=n*H,k+=n*W,C+=n*G,O+=n*J,B+=n*K,P+=n*Z,m+=(n=e[13])*R,b+=n*M,w+=n*D,_+=n*F,E+=n*U,x+=n*z,T+=n*Y,S+=n*V,A+=n*q,I+=n*X,k+=n*H,C+=n*W,O+=n*G,B+=n*J,P+=n*K,L+=n*Z,b+=(n=e[14])*R,w+=n*M,_+=n*D,E+=n*F,x+=n*U,T+=n*z,S+=n*Y,A+=n*V,I+=n*q,k+=n*X,C+=n*H,O+=n*W,B+=n*G,P+=n*J,L+=n*K,j+=n*Z,w+=(n=e[15])*R,s+=38*(E+=n*D),a+=38*(x+=n*F),u+=38*(T+=n*U),c+=38*(S+=n*z),f+=38*(A+=n*Y),l+=38*(I+=n*V),h+=38*(k+=n*q),p+=38*(C+=n*X),d+=38*(O+=n*H),g+=38*(B+=n*W),y+=38*(P+=n*G),v+=38*(L+=n*J),m+=38*(j+=n*K),b+=38*(N+=n*Z),o=(n=(o+=38*(_+=n*M))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),t[0]=o,t[1]=s,t[2]=a,t[3]=u,t[4]=c,t[5]=f,t[6]=l,t[7]=h,t[8]=p,t[9]=d,t[10]=g,t[11]=y,t[12]=v,t[13]=m,t[14]=b,t[15]=w}function z(t,e){U(t,e,e)}function Y(t,e){var r,n=g();for(r=0;r<16;r++)n[r]=e[r];for(r=253;0<=r;r--)z(n,n),2!==r&&4!==r&&U(n,n,e);for(r=0;r<16;r++)t[r]=n[r]}function V(t,e,r){var n,i,o=new Uint8Array(32),s=new Float64Array(80),a=g(),u=g(),c=g(),f=g(),l=g(),h=g();for(i=0;i<31;i++)o[i]=e[i];for(o[31]=127&e[31]|64,o[0]&=248,M(s,r),i=0;i<16;i++)u[i]=s[i],f[i]=a[i]=c[i]=0;for(a[0]=f[0]=1,i=254;0<=i;--i)L(a,u,n=o[i>>>3]>>>(7&i)&1),L(c,f,n),D(l,a,c),F(a,a,c),D(c,u,f),F(u,u,f),z(f,l),z(h,a),U(a,c,a),U(c,u,l),D(l,a,c),F(a,a,c),z(u,a),F(c,f,h),U(a,c,y),D(a,a,f),U(c,c,a),U(a,f,h),U(f,u,s),z(u,l),L(a,u,n),L(c,f,n);for(i=0;i<16;i++)s[i+16]=a[i],s[i+32]=c[i],s[i+48]=u[i],s[i+64]=f[i];var p=s.subarray(32),d=s.subarray(16);return Y(p,p),U(d,d,p),j(t,d),0}function q(t,e){return V(t,e,r)}function X(t,e){return s(e,32),q(t,e)}function H(t,e,r){var n=new Uint8Array(32);return V(n,r,e),w(t,i,n,_)}A.prototype.blocks=function(t,e,r){for(var n,i,o,s,a,u,c,f,l,h,p,d,g,y,v,m,b,w,_,E=this.fin?0:2048,x=this.h[0],T=this.h[1],S=this.h[2],A=this.h[3],I=this.h[4],k=this.h[5],C=this.h[6],O=this.h[7],B=this.h[8],P=this.h[9],L=this.r[0],j=this.r[1],N=this.r[2],R=this.r[3],M=this.r[4],D=this.r[5],F=this.r[6],U=this.r[7],z=this.r[8],Y=this.r[9];16<=r;)h=l=0,h+=(x+=8191&(n=255&t[e+0]|(255&t[e+1])<<8))*L,h+=(T+=8191&(n>>>13|(i=255&t[e+2]|(255&t[e+3])<<8)<<3))*(5*Y),h+=(S+=8191&(i>>>10|(o=255&t[e+4]|(255&t[e+5])<<8)<<6))*(5*z),h+=(A+=8191&(o>>>7|(s=255&t[e+6]|(255&t[e+7])<<8)<<9))*(5*U),l=(h+=(I+=8191&(s>>>4|(a=255&t[e+8]|(255&t[e+9])<<8)<<12))*(5*F))>>>13,h&=8191,h+=(k+=a>>>1&8191)*(5*D),h+=(C+=8191&(a>>>14|(u=255&t[e+10]|(255&t[e+11])<<8)<<2))*(5*M),h+=(O+=8191&(u>>>11|(c=255&t[e+12]|(255&t[e+13])<<8)<<5))*(5*R),h+=(B+=8191&(c>>>8|(f=255&t[e+14]|(255&t[e+15])<<8)<<8))*(5*N),p=l+=(h+=(P+=f>>>5|E)*(5*j))>>>13,p+=x*j,p+=T*L,p+=S*(5*Y),p+=A*(5*z),l=(p+=I*(5*U))>>>13,p&=8191,p+=k*(5*F),p+=C*(5*D),p+=O*(5*M),p+=B*(5*R),l+=(p+=P*(5*N))>>>13,p&=8191,d=l,d+=x*N,d+=T*j,d+=S*L,d+=A*(5*Y),l=(d+=I*(5*z))>>>13,d&=8191,d+=k*(5*U),d+=C*(5*F),d+=O*(5*D),d+=B*(5*M),g=l+=(d+=P*(5*R))>>>13,g+=x*R,g+=T*N,g+=S*j,g+=A*L,l=(g+=I*(5*Y))>>>13,g&=8191,g+=k*(5*z),g+=C*(5*U),g+=O*(5*F),g+=B*(5*D),y=l+=(g+=P*(5*M))>>>13,y+=x*M,y+=T*R,y+=S*N,y+=A*j,l=(y+=I*L)>>>13,y&=8191,y+=k*(5*Y),y+=C*(5*z),y+=O*(5*U),y+=B*(5*F),v=l+=(y+=P*(5*D))>>>13,v+=x*D,v+=T*M,v+=S*R,v+=A*N,l=(v+=I*j)>>>13,v&=8191,v+=k*L,v+=C*(5*Y),v+=O*(5*z),v+=B*(5*U),m=l+=(v+=P*(5*F))>>>13,m+=x*F,m+=T*D,m+=S*M,m+=A*R,l=(m+=I*N)>>>13,m&=8191,m+=k*j,m+=C*L,m+=O*(5*Y),m+=B*(5*z),b=l+=(m+=P*(5*U))>>>13,b+=x*U,b+=T*F,b+=S*D,b+=A*M,l=(b+=I*R)>>>13,b&=8191,b+=k*N,b+=C*j,b+=O*L,b+=B*(5*Y),w=l+=(b+=P*(5*z))>>>13,w+=x*z,w+=T*U,w+=S*F,w+=A*D,l=(w+=I*M)>>>13,w&=8191,w+=k*R,w+=C*N,w+=O*j,w+=B*L,_=l+=(w+=P*(5*Y))>>>13,_+=x*Y,_+=T*z,_+=S*U,_+=A*F,l=(_+=I*D)>>>13,_&=8191,_+=k*M,_+=C*R,_+=O*N,_+=B*j,x=h=8191&(l=(l=((l+=(_+=P*L)>>>13)<<2)+l|0)+(h&=8191)|0),T=p+=l>>>=13,S=d&=8191,A=g&=8191,I=y&=8191,k=v&=8191,C=m&=8191,O=b&=8191,B=w&=8191,P=_&=8191,e+=16,r-=16;this.h[0]=x,this.h[1]=T,this.h[2]=S,this.h[3]=A,this.h[4]=I,this.h[5]=k,this.h[6]=C,this.h[7]=O,this.h[8]=B,this.h[9]=P},A.prototype.finish=function(t,e){var r,n,i,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,s[0]=this.h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,n=(1^r)-1,o=0;o<10;o++)s[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|s[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},A.prototype.update=function(t,e,r){var n,i;if(this.leftover){for(r<(i=16-this.leftover)&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=t[e+n];if(r-=i,e+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(16<=r&&(i=r-r%16,this.blocks(t,e,i),e+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=t[e+n];this.leftover+=r}};var W=C,G=O;var J=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function K(t,e,r,n){for(var i,o,s,a,u,c,f,l,h,p,d,g,y,v,m,b,w,_,E,x,T,S,A,I,k,C,O=new Int32Array(16),B=new Int32Array(16),P=t[0],L=t[1],j=t[2],N=t[3],R=t[4],M=t[5],D=t[6],F=t[7],U=e[0],z=e[1],Y=e[2],V=e[3],q=e[4],X=e[5],H=e[6],W=e[7],G=0;128<=n;){for(E=0;E<16;E++)x=8*E+G,O[E]=r[x+0]<<24|r[x+1]<<16|r[x+2]<<8|r[x+3],B[E]=r[x+4]<<24|r[x+5]<<16|r[x+6]<<8|r[x+7];for(E=0;E<80;E++)if(i=P,o=L,s=j,a=N,h=U,p=z,d=Y,g=V,A=65535&(S=W),I=S>>>16,k=65535&(T=F),C=T>>>16,A+=65535&(S=((y=q)>>>14|(u=R)<<18)^(q>>>18|R<<14)^(R>>>9|q<<23)),I+=S>>>16,k+=65535&(T=(R>>>14|q<<18)^(R>>>18|q<<14)^(q>>>9|R<<23)),C+=T>>>16,A+=65535&(S=q&(v=X)^~q&(m=H)),I+=S>>>16,k+=65535&(T=R&(c=M)^~R&(f=D)),C+=T>>>16,T=J[2*E],A+=65535&(S=J[2*E+1]),I+=S>>>16,k+=65535&T,C+=T>>>16,T=O[E%16],I+=(S=B[E%16])>>>16,k+=65535&T,C+=T>>>16,k+=(I+=(A+=65535&S)>>>16)>>>16,A=65535&(S=_=65535&A|I<<16),I=S>>>16,k=65535&(T=w=65535&k|(C+=k>>>16)<<16),C=T>>>16,A+=65535&(S=(U>>>28|P<<4)^(P>>>2|U<<30)^(P>>>7|U<<25)),I+=S>>>16,k+=65535&(T=(P>>>28|U<<4)^(U>>>2|P<<30)^(U>>>7|P<<25)),C+=T>>>16,I+=(S=U&z^U&Y^z&Y)>>>16,k+=65535&(T=P&L^P&j^L&j),C+=T>>>16,l=65535&(k+=(I+=(A+=65535&S)>>>16)>>>16)|(C+=k>>>16)<<16,b=65535&A|I<<16,A=65535&(S=g),I=S>>>16,k=65535&(T=a),C=T>>>16,I+=(S=_)>>>16,k+=65535&(T=w),C+=T>>>16,L=i,j=o,N=s,R=a=65535&(k+=(I+=(A+=65535&S)>>>16)>>>16)|(C+=k>>>16)<<16,M=u,D=c,F=f,P=l,z=h,Y=p,V=d,q=g=65535&A|I<<16,X=y,H=v,W=m,U=b,E%16==15)for(x=0;x<16;x++)T=O[x],A=65535&(S=B[x]),I=S>>>16,k=65535&T,C=T>>>16,T=O[(x+9)%16],A+=65535&(S=B[(x+9)%16]),I+=S>>>16,k+=65535&T,C+=T>>>16,w=O[(x+1)%16],A+=65535&(S=((_=B[(x+1)%16])>>>1|w<<31)^(_>>>8|w<<24)^(_>>>7|w<<25)),I+=S>>>16,k+=65535&(T=(w>>>1|_<<31)^(w>>>8|_<<24)^w>>>7),C+=T>>>16,w=O[(x+14)%16],I+=(S=((_=B[(x+14)%16])>>>19|w<<13)^(w>>>29|_<<3)^(_>>>6|w<<26))>>>16,k+=65535&(T=(w>>>19|_<<13)^(_>>>29|w<<3)^w>>>6),C+=T>>>16,C+=(k+=(I+=(A+=65535&S)>>>16)>>>16)>>>16,O[x]=65535&k|C<<16,B[x]=65535&A|I<<16;A=65535&(S=U),I=S>>>16,k=65535&(T=P),C=T>>>16,T=t[0],I+=(S=e[0])>>>16,k+=65535&T,C+=T>>>16,C+=(k+=(I+=(A+=65535&S)>>>16)>>>16)>>>16,t[0]=P=65535&k|C<<16,e[0]=U=65535&A|I<<16,A=65535&(S=z),I=S>>>16,k=65535&(T=L),C=T>>>16,T=t[1],I+=(S=e[1])>>>16,k+=65535&T,C+=T>>>16,C+=(k+=(I+=(A+=65535&S)>>>16)>>>16)>>>16,t[1]=L=65535&k|C<<16,e[1]=z=65535&A|I<<16,A=65535&(S=Y),I=S>>>16,k=65535&(T=j),C=T>>>16,T=t[2],I+=(S=e[2])>>>16,k+=65535&T,C+=T>>>16,C+=(k+=(I+=(A+=65535&S)>>>16)>>>16)>>>16,t[2]=j=65535&k|C<<16,e[2]=Y=65535&A|I<<16,A=65535&(S=V),I=S>>>16,k=65535&(T=N),C=T>>>16,T=t[3],I+=(S=e[3])>>>16,k+=65535&T,C+=T>>>16,C+=(k+=(I+=(A+=65535&S)>>>16)>>>16)>>>16,t[3]=N=65535&k|C<<16,e[3]=V=65535&A|I<<16,A=65535&(S=q),I=S>>>16,k=65535&(T=R),C=T>>>16,T=t[4],I+=(S=e[4])>>>16,k+=65535&T,C+=T>>>16,C+=(k+=(I+=(A+=65535&S)>>>16)>>>16)>>>16,t[4]=R=65535&k|C<<16,e[4]=q=65535&A|I<<16,A=65535&(S=X),I=S>>>16,k=65535&(T=M),C=T>>>16,T=t[5],I+=(S=e[5])>>>16,k+=65535&T,C+=T>>>16,C+=(k+=(I+=(A+=65535&S)>>>16)>>>16)>>>16,t[5]=M=65535&k|C<<16,e[5]=X=65535&A|I<<16,A=65535&(S=H),I=S>>>16,k=65535&(T=D),C=T>>>16,T=t[6],I+=(S=e[6])>>>16,k+=65535&T,C+=T>>>16,C+=(k+=(I+=(A+=65535&S)>>>16)>>>16)>>>16,t[6]=D=65535&k|C<<16,e[6]=H=65535&A|I<<16,A=65535&(S=W),I=S>>>16,k=65535&(T=F),C=T>>>16,T=t[7],I+=(S=e[7])>>>16,k+=65535&T,C+=T>>>16,C+=(k+=(I+=(A+=65535&S)>>>16)>>>16)>>>16,t[7]=F=65535&k|C<<16,e[7]=W=65535&A|I<<16,G+=128,n-=128}return n}function Z(t,e,r){var n,i=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,K(i,o,e,r),r%=128,n=0;n<r;n++)s[n]=e[a-r+n];for(s[r]=128,s[(r=256-128*(r<112?1:0))-9]=0,u(s,r-8,a/536870912|0,a<<3),K(i,o,s,r),n=0;n<8;n++)u(t,8*n,i[n],o[n]);return 0}function $(t,e){var r=g(),n=g(),i=g(),o=g(),s=g(),a=g(),u=g(),c=g(),f=g();F(r,t[1],t[0]),F(f,e[1],e[0]),U(r,r,f),D(n,t[0],t[1]),D(f,e[0],e[1]),U(n,n,f),U(i,t[3],e[3]),U(i,i,h),U(o,t[2],e[2]),D(o,o,o),F(s,n,r),F(a,o,i),D(u,o,i),D(c,n,r),U(t[0],s,a),U(t[1],c,u),U(t[2],u,a),U(t[3],s,c)}function Q(t,e,r){var n;for(n=0;n<4;n++)L(t[n],e[n],r)}function tt(t,e){var r=g(),n=g(),i=g();Y(i,e[2]),U(r,e[0],i),U(n,e[1],i),j(t,n),t[31]^=R(r)<<7}function et(t,e,r){var n,i;for(B(t[0],c),B(t[1],f),B(t[2],f),B(t[3],c),i=255;0<=i;--i)Q(t,e,n=r[i/8|0]>>(7&i)&1),$(e,t),$(t,t),Q(t,e,n)}function rt(t,e){var r=[g(),g(),g(),g()];B(r[0],n),B(r[1],a),B(r[2],f),U(r[3],n,a),et(t,r,e)}function nt(t,e,r){var n,i=new Uint8Array(64),o=[g(),g(),g(),g()];for(r||s(e,32),Z(i,e,32),i[0]&=248,i[31]&=127,i[31]|=64,rt(o,i),tt(t,o),n=0;n<32;n++)e[n+32]=t[n];return 0}var it=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ot(t,e){var r,n,i,o;for(n=63;32<=n;--n){for(r=0,i=n-32,o=n-12;i<o;++i)e[i]+=r-16*e[n]*it[i-(n-32)],r=e[i]+128>>8,e[i]-=256*r;e[i]+=r,e[n]=0}for(i=r=0;i<32;i++)e[i]+=r-(e[31]>>4)*it[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=r*it[i];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=255&e[n]}function st(t){var e,r=new Float64Array(64);for(e=0;e<64;e++)r[e]=t[e];for(e=0;e<64;e++)t[e]=0;ot(t,r)}function at(t,e,r,n){var i,o,s=new Uint8Array(64),a=new Uint8Array(64),u=new Uint8Array(64),c=new Float64Array(64),f=[g(),g(),g(),g()];Z(s,n,32),s[0]&=248,s[31]&=127,s[31]|=64;var l=r+64;for(i=0;i<r;i++)t[64+i]=e[i];for(i=0;i<32;i++)t[32+i]=s[32+i];for(Z(u,t.subarray(32),r+32),st(u),rt(f,u),tt(t,f),i=32;i<64;i++)t[i]=n[i];for(Z(a,t,r+64),st(a),i=0;i<64;i++)c[i]=0;for(i=0;i<32;i++)c[i]=u[i];for(i=0;i<32;i++)for(o=0;o<32;o++)c[i+o]+=a[i]*s[o];return ot(t.subarray(32),c),l}function ut(t,e){var r=g(),n=g(),i=g(),o=g(),s=g(),a=g(),u=g();return B(t[2],f),M(t[1],e),z(i,t[1]),U(o,i,l),F(i,i,t[2]),D(o,t[2],o),z(s,o),z(a,s),U(u,a,s),U(r,u,i),U(r,r,o),function(t,e){var r,n=g();for(r=0;r<16;r++)n[r]=e[r];for(r=250;0<=r;r--)z(n,n),1!==r&&U(n,n,e);for(r=0;r<16;r++)t[r]=n[r]}(r,r),U(r,r,i),U(r,r,o),U(r,r,o),U(t[0],r,o),z(n,t[0]),U(n,n,o),N(n,i)&&U(t[0],t[0],p),z(n,t[0]),U(n,n,o),N(n,i)?-1:(R(t[0])===e[31]>>7&&F(t[0],c,t[0]),U(t[3],t[0],t[1]),0)}function ct(t,e,r,n){var i,o=new Uint8Array(32),s=new Uint8Array(64),a=[g(),g(),g(),g()],u=[g(),g(),g(),g()];if(-1,r<64)return-1;if(ut(u,n))return-1;for(i=0;i<r;i++)t[i]=e[i];for(i=0;i<32;i++)t[i+32]=n[i];if(Z(s,t,r),st(s),et(a,u,s),rt(u,e.subarray(32)),$(a,u),tt(o,a),r-=64,m(e,0,o,0)){for(i=0;i<r;i++)t[i]=0;return-1}for(i=0;i<r;i++)t[i]=e[i+64];return r}function ft(t,e){if(32!==t.length)throw new Error("bad key size");if(24!==e.length)throw new Error("bad nonce size")}function lt(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ht(t){for(var e=0;e<t.length;e++)t[e]=0}o.lowlevel={crypto_core_hsalsa20:w,crypto_stream_xor:S,crypto_stream:T,crypto_stream_salsa20_xor:E,crypto_stream_salsa20:x,crypto_onetimeauth:I,crypto_onetimeauth_verify:k,crypto_verify_16:v,crypto_verify_32:m,crypto_secretbox:C,crypto_secretbox_open:O,crypto_scalarmult:V,crypto_scalarmult_base:q,crypto_box_beforenm:H,crypto_box_afternm:W,crypto_box:function(t,e,r,n,i,o){var s=new Uint8Array(32);return H(s,i,o),W(t,e,r,n,s)},crypto_box_open:function(t,e,r,n,i,o){var s=new Uint8Array(32);return H(s,i,o),G(t,e,r,n,s)},crypto_box_keypair:X,crypto_hash:Z,crypto_sign:at,crypto_sign_keypair:nt,crypto_sign_open:ct,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64},o.randomBytes=function(t){var e=new Uint8Array(t);return s(e,t),e},o.secretbox=function(t,e,r){lt(t,e,r),ft(r,e);for(var n=new Uint8Array(32+t.length),i=new Uint8Array(n.length),o=0;o<t.length;o++)n[o+32]=t[o];return C(i,n,n.length,e,r),i.subarray(16)},o.secretbox.open=function(t,e,r){lt(t,e,r),ft(r,e);for(var n=new Uint8Array(16+t.length),i=new Uint8Array(n.length),o=0;o<t.length;o++)n[o+16]=t[o];return n.length<32?null:0!==O(i,n,n.length,e,r)?null:i.subarray(32)},o.secretbox.keyLength=32,o.secretbox.nonceLength=24,o.secretbox.overheadLength=16,o.scalarMult=function(t,e){if(lt(t,e),32!==t.length)throw new Error("bad n size");if(32!==e.length)throw new Error("bad p size");var r=new Uint8Array(32);return V(r,t,e),r},o.scalarMult.base=function(t){if(lt(t),32!==t.length)throw new Error("bad n size");var e=new Uint8Array(32);return q(e,t),e},o.scalarMult.scalarLength=32,o.scalarMult.groupElementLength=32,o.box=function(t,e,r,n){var i=o.box.before(r,n);return o.secretbox(t,e,i)},o.box.before=function(t,e){lt(t,e),function(t,e){if(32!==t.length)throw new Error("bad public key size");if(32!==e.length)throw new Error("bad secret key size")}(t,e);var r=new Uint8Array(32);return H(r,t,e),r},o.box.after=o.secretbox,o.box.open=function(t,e,r,n){var i=o.box.before(r,n);return o.secretbox.open(t,e,i)},o.box.open.after=o.secretbox.open,o.box.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(32);return X(t,e),{publicKey:t,secretKey:e}},o.box.keyPair.fromSecretKey=function(t){if(lt(t),32!==t.length)throw new Error("bad secret key size");var e=new Uint8Array(32);return q(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},o.box.publicKeyLength=32,o.box.secretKeyLength=32,o.box.sharedKeyLength=32,o.box.nonceLength=24,o.box.overheadLength=o.secretbox.overheadLength,o.sign=function(t,e){if(lt(t,e),64!==e.length)throw new Error("bad secret key size");var r=new Uint8Array(64+t.length);return at(r,t,t.length,e),r},o.sign.open=function(t,e){if(lt(t,e),32!==e.length)throw new Error("bad public key size");var r=new Uint8Array(t.length),n=ct(r,t,t.length,e);if(n<0)return null;for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=r[o];return i},o.sign.detached=function(t,e){for(var r=o.sign(t,e),n=new Uint8Array(64),i=0;i<n.length;i++)n[i]=r[i];return n},o.sign.detached.verify=function(t,e,r){if(lt(t,e,r),64!==e.length)throw new Error("bad signature size");if(32!==r.length)throw new Error("bad public key size");var n,i=new Uint8Array(64+t.length),o=new Uint8Array(64+t.length);for(n=0;n<64;n++)i[n]=e[n];for(n=0;n<t.length;n++)i[n+64]=t[n];return 0<=ct(o,i,i.length,r)},o.sign.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(64);return nt(t,e),{publicKey:t,secretKey:e}},o.sign.keyPair.fromSecretKey=function(t){if(lt(t),64!==t.length)throw new Error("bad secret key size");for(var e=new Uint8Array(32),r=0;r<e.length;r++)e[r]=t[32+r];return{publicKey:e,secretKey:new Uint8Array(t)}},o.sign.keyPair.fromSeed=function(t){if(lt(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=t[n];return nt(e,r,!0),{publicKey:e,secretKey:r}},o.sign.publicKeyLength=32,o.sign.secretKeyLength=64,o.sign.seedLength=32,o.sign.signatureLength=64,o.hash=function(t){lt(t);var e=new Uint8Array(64);return Z(e,t,t.length),e},o.hash.hashLength=64,o.verify=function(t,e){return lt(t,e),0!==t.length&&0!==e.length&&(t.length===e.length&&0===d(t,0,e,0,t.length))},o.setPRNG=function(t){s=t},function(){var i="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(i&&i.getRandomValues){o.setPRNG(function(t,e){var r,n=new Uint8Array(e);for(r=0;r<e;r+=65536)i.getRandomValues(n.subarray(r,r+Math.min(e-r,65536)));for(r=0;r<e;r++)t[r]=n[r];ht(n)})}else void 0!==t&&(i=t("crypto"))&&i.randomBytes&&o.setPRNG(function(t,e){var r,n=i.randomBytes(e);for(r=0;r<e;r++)t[r]=n[r];ht(n)})}()}(void 0!==e&&e.exports?e.exports:self.nacl=self.nacl||{})},{crypto:30}],108:[function(t,e,r){(function(r){function n(t){try{if(!r.localStorage)return!1}catch(t){return!1}var e=r.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}e.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],109:[function(t,e,r){arguments[4][3][0].apply(r,arguments)},{dup:3}],110:[function(h,t,I){(function(n,i){var a=/%[sdj%]/g;I.format=function(t){if(!w(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(u(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(t).replace(a,function(t){if("%%"===t)return"%";if(i<=r)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}}),s=n[r];r<i;s=n[++r])m(s)||!f(s)?o+=" "+s:o+=" "+u(s);return o},I.deprecate=function(t,e){if(_(i.process))return function(){return I.deprecate(t,e).apply(this,arguments)};if(!0===n.noDeprecation)return t;var r=!1;return function(){if(!r){if(n.throwDeprecation)throw new Error(e);n.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}};var t,o={};function u(t,e){var r={seen:[],stylize:c};return 3<=arguments.length&&(r.depth=arguments[2]),4<=arguments.length&&(r.colors=arguments[3]),v(e)?r.showHidden=e:e&&I._extend(r,e),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),p(r,t,r.depth)}function s(t,e){var r=u.styles[e];return r?"["+u.colors[r][0]+"m"+t+"["+u.colors[r][1]+"m":t}function c(t,e){return t}function p(e,r,n){if(e.customInspect&&r&&S(r.inspect)&&r.inspect!==I.inspect&&(!r.constructor||r.constructor.prototype!==r)){var t=r.inspect(n,e);return w(t)||(t=p(e,t,n)),t}var i=function(t,e){if(_(e))return t.stylize("undefined","undefined");if(w(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(b(e))return t.stylize(""+e,"number");if(v(e))return t.stylize(""+e,"boolean");if(m(e))return t.stylize("null","null")}(e,r);if(i)return i;var o,s=Object.keys(r),a=(o={},s.forEach(function(t,e){o[t]=!0}),o);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),T(r)&&(0<=s.indexOf("message")||0<=s.indexOf("description")))return d(r);if(0===s.length){if(S(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(E(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(x(r))return e.stylize(Date.prototype.toString.call(r),"date");if(T(r))return d(r)}var c,f="",l=!1,h=["{","}"];(y(r)&&(l=!0,h=["[","]"]),S(r))&&(f=" [Function"+(r.name?": "+r.name:"")+"]");return E(r)&&(f=" "+RegExp.prototype.toString.call(r)),x(r)&&(f=" "+Date.prototype.toUTCString.call(r)),T(r)&&(f=" "+d(r)),0!==s.length||l&&0!=r.length?n<0?E(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=l?function(e,r,n,i,t){for(var o=[],s=0,a=r.length;s<a;++s)A(r,String(s))?o.push(g(e,r,n,i,String(s),!0)):o.push("");return t.forEach(function(t){t.match(/^\d+$/)||o.push(g(e,r,n,i,t,!0))}),o}(e,r,n,a,s):s.map(function(t){return g(e,r,n,a,t,l)}),e.seen.pop(),function(t,e,r){if(60<t.reduce(function(t,e){return 0,0<=e.indexOf("\n")&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0))return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(c,f,h)):h[0]+f+h[1]}function d(t){return"["+Error.prototype.toString.call(t)+"]"}function g(t,e,r,n,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),A(n,i)||(s="["+i+"]"),a||(t.seen.indexOf(u.value)<0?-1<(a=m(r)?p(t,u.value,null):p(t,u.value,r-1)).indexOf("\n")&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),_(s)){if(o&&i.match(/^\d+$/))return a;s=(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),t.stylize(s,"string"))}return s+": "+a}function y(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function m(t){return null===t}function b(t){return"number"==typeof t}function w(t){return"string"==typeof t}function _(t){return void 0===t}function E(t){return f(t)&&"[object RegExp]"===e(t)}function f(t){return"object"==typeof t&&null!==t}function x(t){return f(t)&&"[object Date]"===e(t)}function T(t){return f(t)&&("[object Error]"===e(t)||t instanceof Error)}function S(t){return"function"==typeof t}function e(t){return Object.prototype.toString.call(t)}function r(t){return t<10?"0"+t.toString(10):t.toString(10)}I.debuglog=function(e){if(_(t)&&(t=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(t)){var r=n.pid;o[e]=function(){var t=I.format.apply(I,arguments);console.error("%s %d: %s",e,r,t)}}else o[e]=function(){};return o[e]},(I.inspect=u).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},I.isArray=y,I.isBoolean=v,I.isNull=m,I.isNullOrUndefined=function(t){return null==t},I.isNumber=b,I.isString=w,I.isSymbol=function(t){return"symbol"==typeof t},I.isUndefined=_,I.isRegExp=E,I.isObject=f,I.isDate=x,I.isError=T,I.isFunction=S,I.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},I.isBuffer=h("./support/isBuffer");var l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I.log=function(){var t,e;console.log("%s - %s",(t=new Date,e=[r(t.getHours()),r(t.getMinutes()),r(t.getSeconds())].join(":"),[t.getDate(),l[t.getMonth()],e].join(" ")),I.format.apply(I,arguments))},I.inherits=h("inherits"),I._extend=function(t,e){if(!e||!f(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}}).call(this,h("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":109,_process:85,inherits:72}],111:[function(e,r,t){("function"==typeof define&&define.amd?define:function(t){r.exports=t(e)})(function(t){var o=t("./when"),s=o.try,n=t("./lib/liftAll"),r=t("./lib/apply")(o.Promise),a=Array.prototype.slice;return{lift:i,liftAll:function(t,e,r){return n(i,e,r,t)},call:s,apply:function(t,e){return r(t,this,null==e?[]:a.call(e))},compose:function(n){var i=a.call(arguments,1);return function(){var r=this,t=a.call(arguments),e=s.apply(r,[n].concat(t));return o.reduce(i,function(t,e){return e.call(r,t)},e)}}};function i(t){var e=1<arguments.length?a.call(arguments,1):[];return function(){return r(t,this,e.concat(a.call(arguments)))}}})},{"./lib/apply":115,"./lib/liftAll":127,"./when":135}],112:[function(e,r,t){!function(t){"use strict";(typeof define==="function"&&define.amd?define:function(t){r.exports=t(e)})(function(t){return t("./makePromise")({scheduler:new(t("./Scheduler"))(t("./env").asap)})})}()},{"./Scheduler":113,"./env":125,"./makePromise":128}],113:[function(t,e,r){!function(t){"use strict";(typeof define==="function"&&define.amd?define:function(t){e.exports=t()})(function(){function t(t){this._async=t,this._running=!1,(this._queue=this)._queueLen=0,this._afterQueue={},this._afterQueueLen=0;var e=this;this.drain=function(){e._drain()}}return t.prototype.enqueue=function(t){this._queue[this._queueLen++]=t,this.run()},t.prototype.afterQueue=function(t){this._afterQueue[this._afterQueueLen++]=t,this.run()},t.prototype.run=function(){this._running||(this._running=!0,this._async(this.drain))},t.prototype._drain=function(){for(var t=0;t<this._queueLen;++t)this._queue[t].run(),this._queue[t]=void 0;for(this._queueLen=0,this._running=!1,t=0;t<this._afterQueueLen;++t)this._afterQueue[t].run(),this._afterQueue[t]=void 0;this._afterQueueLen=0},t})}()},{}],114:[function(t,e,r){!function(t){"use strict";(typeof define==="function"&&define.amd?define:function(t){e.exports=t()})(function(){function e(t){Error.call(this),this.message=t,this.name=e.name,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return(e.prototype=Object.create(Error.prototype)).constructor=e})}()},{}],115:[function(t,e,r){!function(t){"use strict";(typeof define==="function"&&define.amd?define:function(t){e.exports=t()})(function(){return t.tryCatchResolve=e,t;function t(s,a){return arguments.length<2&&(a=e),function(t,e,r){var n=s._defer(),i=r.length,o=new Array(i);return u({f:t,thisArg:e,args:r,params:o,i:i-1,call:a},n._handler),n};function u(t,e){if(t.i<0)return a(t.f,t.thisArg,t.params,e);s._handler(t.args[t.i]).fold(r,t,void 0,e)}function r(t,e,r){t.params[t.i]=e,t.i-=1,u(t,r)}}function e(t,e,r,n){try{n.resolve(t.apply(e,r))}catch(t){n.reject(t)}}})}()},{}],116:[function(e,r,t){!function(t){"use strict";(typeof define==="function"&&define.amd?define:function(t){r.exports=t(e)})(function(t){var c=t("../state"),f=t("../apply");return function(p){var i=f(p),r=p.resolve,n=p.all,o=Array.prototype.reduce,s=Array.prototype.reduceRight,a=Array.prototype.slice;return p.any=function(t){for(var e,r,n=p._defer(),i=n._handler,o=t.length>>>0,s=o,a=[],u=0;u<o;++u)if(void 0!==(r=t[u])||u in t){if(0<(e=p._handler(r)).state()){i.become(e),p._visitRemaining(t,u,e);break}e.visit(i,c,f)}else--s;0===s&&i.reject(new RangeError("any(): array must not be empty"));return n;function c(t){a=null,this.resolve(t)}function f(t){this.resolved||(a.push(t),0==--s&&this.reject(a))}},p.some=function(t,e){var r,n,i,o=p._defer(),s=o._handler,a=[],u=[],c=t.length>>>0,f=0;for(i=0;i<c;++i)(void 0!==(n=t[i])||i in t)&&++f;e=Math.max(e,0),r=f-e+1,(f=Math.min(e,f))<e?s.reject(new RangeError("some(): array must contain at least "+e+" item(s), but had "+f)):0===f&&s.resolve(a);for(i=0;i<c;++i)(void 0!==(n=t[i])||i in t)&&p._handler(n).visit(s,l,h,s.notify);return o;function l(t){this.resolved||(a.push(t),0==--f&&(u=null,this.resolve(a)))}function h(t){this.resolved||(u.push(t),0==--r&&(a=null,this.reject(u)))}},p.settle=function(t){return n(t.map(e))},p.map=function(t,e){return p._traverse(e,t)},p.filter=function(t,e){var r=a.call(t);return p._traverse(e,r).then(function(t){return function(t,e){for(var r=e.length,n=new Array(r),i=0,o=0;i<r;++i)e[i]&&(n[o++]=p._handler(t[i]).value);return n.length=o,n}(r,t)})},p.reduce=function(t,e){return 2<arguments.length?o.call(t,u(e),arguments[2]):o.call(t,u(e))},p.reduceRight=function(t,e){return 2<arguments.length?s.call(t,u(e),arguments[2]):s.call(t,u(e))},p.prototype.spread=function(e){return this.then(n).then(function(t){return e.apply(this,t)})},p;function e(t){var e;return t instanceof p&&(e=t._handler.join()),e&&0===e.state()||!e?r(t).then(c.fulfilled,c.rejected):(e._unreport(),c.inspect(e))}function u(n){return function(t,e,r){return i(n,void 0,[t,e,r])}}}})}()},{"../apply":115,"../state":129}],117:[function(t,e,r){!function(t){"use strict";(typeof define==="function"&&define.amd?define:function(t){e.exports=t()})(function(){return function(t){var u=t.resolve,s=t.reject,e=t.prototype.catch;function r(t,e,r,n){var i,o,s,a=t.call(e);return"object"!=typeof(s=a)&&"function"!=typeof s||null===s?r(n):(i=r,o=n,u(a).then(function(){return i(o)}))}return t.prototype.done=function(t,e){this._handler.visit(this._handler.receiver,t,e)},t.prototype.catch=t.prototype.otherwise=function(t){return arguments.length<2?e.call(this,t):"function"!=typeof t?this.ensure(n):e.call(this,(i=arguments[1],o=t,function(t){return e=t,((n=r=o)===Error||null!=n&&n.prototype instanceof Error?e instanceof r:r(e))?i.call(this,t):s(t);var e,r,n}));var i,o},t.prototype.finally=t.prototype.ensure=function(e){return"function"!=typeof e?this:this.then(function(t){return r(e,this,i,t)},function(t){return r(e,this,s,t)})},t.prototype.else=t.prototype.orElse=function(t){return this.then(void 0,function(){return t})},t.prototype.yield=function(t){return this.then(function(){return t})},t.prototype.tap=function(t){return this.then(t).yield(this)},t};function n(){throw new TypeError("catch predicate must be a function")}function i(t){return t}})}()},{}],118:[function(t,e,r){!function(t){"use strict";(typeof define==="function"&&define.amd?define:function(t){e.exports=t()})(function(){return function(i){return i.prototype.fold=function(n,t){var e=this._beget();return this._handler.fold(function(t,e,r){i._handler(t).fold(function(t,e,r){r.resolve(n.call(this,e,t))},e,this,r)},t,e._handler.receiver,e._handler),e},i}})}()},{}],119:[function(e,r,t){!function(t){"use strict";(typeof define==="function"&&define.amd?define:function(t){r.exports=t(e)})(function(t){var e=t("../state").inspect;return function(t){return t.prototype.inspect=function(){return e(t._handler(this))},t}})}()},{"../state":129}],120:[function(t,e,r){!function(t){"use strict";(typeof define==="function"&&define.amd?define:function(t){e.exports=t()})(function(){return function(t){var s=t.resolve;return t.iterate=function(e,t,r,n){return a(function(t){return[t,e(t)]},t,r,n)},t.unfold=a,t;function a(r,n,i,t){return s(t).then(function(e){return s(n(e)).then(function(t){return t?e:s(r(e)).spread(o)})});function o(t,e){return s(i(t)).then(function(){return a(r,n,i,e)})}}}})}()},{}],121:[function(t,e,r){!function(t){"use strict";(typeof define==="function"&&define.amd?define:function(t){e.exports=t()})(function(){return function(t){return t.prototype.progress=function(t){return this.then(void 0,void 0,t)},t}})}()},{}],122:[function(e,r,t){!function(t){"use strict";(typeof define==="function"&&define.amd?define:function(t){r.exports=t(e)})(function(t){var s=t("../env"),i=t("../TimeoutError");function a(t,e,r,n){return s.setTimer(function(){t(r,n,e)},e)}return function(t){function r(t,e,r){a(n,t,e,r)}function n(t,e){e.resolve(t)}function o(t,e,r){var n=void 0===t?new i("timed out after "+r+"ms"):t;e.reject(n)}return t.prototype.delay=function(t){var e=this._beget();return this._handler.fold(r,t,void 0,e._handler),e},t.prototype.timeout=function(t,e){var r=this._beget(),n=r._handler,i=a(o,t,e,r._handler);return this._handler.visit(n,function(t){s.clearTimer(i),this.resolve(t)},function(t){s.clearTimer(i),this.reject(t)},n.notify),r},t}})}()},{"../TimeoutError":114,"../env":125}],123:[function(e,r,t){!function(t){"use strict";(typeof define==="function"&&define.amd?define:function(t){r.exports=t(e)})(function(t){var l=t("../env").setTimer,h=t("../format");return function(t){var e,r=d,n=d;"undefined"!=typeof console&&(e=console,r=void 0!==e.error?function(t){e.error(t)}:function(t){e.log(t)},n=void 0!==e.info?function(t){e.info(t)}:function(t){e.log(t)}),t.onPotentiallyUnhandledRejection=function(t){c(a,t)},t.onPotentiallyUnhandledRejectionHandled=function(t){c(u,t)},t.onFatalRejection=function(t){c(p,t.value)};var i=[],o=[],s=null;function a(t){t.handled||(o.push(t),r("Potentially unhandled rejection ["+t.id+"] "+h.formatError(t.value)))}function u(t){var e=o.indexOf(t);0<=e&&(o.splice(e,1),n("Handled previous rejection ["+t.id+"] "+h.formatObject(t.value)))}function c(t,e){i.push(t,e),null===s&&(s=l(f,0))}function f(){for(s=null;0<i.length;)i.shift()(i.shift())}return t};function p(t){throw t}function d(){}})}()},{"../env":125,"../format":126}],124:[function(t,e,r){!function(t){"use strict";(typeof define==="function"&&define.amd?define:function(t){e.exports=t()})(function(){return function(t){return t.prototype.with=t.prototype.withThis=function(t){var e=this._beget(),r=e._handler;return r.receiver=t,this._handler.chain(r,t),e},t}})}()},{}],125:[function(e,r,t){(function(a){!function(t){"use strict";(typeof define==="function"&&define.amd?define:function(t){r.exports=t(e)})(function(t){var e,r="undefined"!=typeof setTimeout&&setTimeout,n=function(t,e){return setTimeout(t,e)},i=function(t){return clearTimeout(t)},o=function(t){return r(t,0)};if(void 0!==a&&"[object process]"===Object.prototype.toString.call(a))o=function(t){return a.nextTick(t)};else if(e="undefined"!=typeof MutationObserver&&MutationObserver||"undefined"!=typeof WebKitMutationObserver&&WebKitMutationObserver)o=function(t){var e,r=document.createTextNode("");new t(function(){var t=e;e=void 0,t()}).observe(r,{characterData:!0});var n=0;return function(t){e=t,r.data=n^=1}}(e);else if(!r){var s=t("vertx");n=function(t,e){return s.setTimer(e,t)},i=s.cancelTimer,o=s.runOnLoop||s.runOnContext}return{setTimer:n,clearTimer:i,asap:o}})}()}).call(this,e("_process"))},{_process:85}],126:[function(t,e,r){!function(t){"use strict";(typeof define==="function"&&define.amd?define:function(t){e.exports=t()})(function(){return{formatError:function(t){var e="object"==typeof t&&null!==t&&(t.stack||t.message)?t.stack||t.message:r(t);return t instanceof Error?e:e+" (WARNING: non-Error used)"},formatObject:r,tryStringify:n};function r(t){var e=String(t);return"[object Object]"===e&&"undefined"!=typeof JSON&&(e=n(t,e)),e}function n(t,e){try{return JSON.stringify(t)}catch(t){return e}}})}()},{}],127:[function(t,e,r){!function(t){"use strict";(typeof define==="function"&&define.amd?define:function(t){e.exports=t()})(function(){return function(n,i,t,o){return void 0===i&&(i=r),Object.keys(o).reduce(function(t,e){var r=o[e];return"function"==typeof r?i(t,n(r),e):t},void 0===t?"function"==typeof(e=o)?e.bind():Object.create(e):t);var e};function r(t,e,r){return t[r]=e,t}})}()},{}],128:[function(t,e,r){(function(D){!function(t){"use strict";(typeof define==="function"&&define.amd?define:function(t){e.exports=t()})(function(){return function(t){var r=t.scheduler,e=function(){{if(null!=D&&"function"==typeof D.emit)return function(t,e){return"unhandledRejection"===t?D.emit(t,e.value,e):D.emit(t,e)};if("undefined"!=typeof self&&function(){if("function"==typeof CustomEvent)try{var t=new CustomEvent("unhandledRejection");return t instanceof CustomEvent}catch(t){}return!1}())return o=self,s=CustomEvent,function(t,e){var r=new s(t,{detail:{reason:e.value,key:e},bubbles:!1,cancelable:!0});return!o.dispatchEvent(r)};if("undefined"!=typeof self&&function(){if("undefined"!=typeof document&&"function"==typeof document.createEvent)try{var t=document.createEvent("CustomEvent");return t.initCustomEvent("eventType",!1,!0,{}),!0}catch(t){}return!1}())return n=self,i=document,function(t,e){var r=i.createEvent("CustomEvent");return r.initCustomEvent(t,!1,!0,{reason:e.value,key:e}),!n.dispatchEvent(r)}}var n,i;var o,s;return M}(),n=Object.create||function(t){function e(){}return e.prototype=t,new e};function f(t,e){this._handler=t===d?e:function(t){var e=new v;try{t(function(t){e.resolve(t)},r,function(t){e.notify(t)})}catch(t){r(t)}return e;function r(t){e.reject(t)}}(t)}function i(t){return O(t)?t:new f(d,new m(h(t)))}function o(t){return new f(d,new m(new E(t)))}function s(){return S}function a(n,i,o){for(var t,e="function"==typeof i?function(t,e,r){r.resolved||l(o,c,t,n(i,e,t),r)}:c,r=new v,s=o.length>>>0,a=new Array(s),u=0;u<o.length&&!r.resolved;++u)void 0!==(t=o[u])||u in o?l(o,e,u,t,r):--s;return 0===s&&r.become(new w(a)),new f(d,r);function c(t,e,r){a[t]=e,0==--s&&r.become(new w(a))}}function l(t,e,r,n,i){if(B(n)){var o=O(a=n)?a._handler.join():p(a),s=o.state();0===s?o.fold(e,r,void 0,i):0<s?e(r,o.value,i):(i.become(o),u(t,r+1,o))}else e(r,n,i);var a}function u(t,e,r){for(var n=e;n<t.length;++n)c(h(t[n]),r)}function c(t,e){if(t!==e){var r=t.state();0===r?t.visit(t,void 0,t._unreport):r<0&&t._unreport()}}function h(t){return O(t)?t._handler.join():B(t)?p(t):new w(t)}function p(t){try{var e=t.then;return"function"==typeof e?new b(e,t):new w(t)}catch(t){return new E(t)}}function d(){}function g(){}f.resolve=i,f.reject=o,f.never=s,f._defer=function(){return new f(d,new v)},f._handler=h,f.prototype.then=function(t,e,r){var n=this._handler,i=n.join().state();if("function"!=typeof t&&0<i||"function"!=typeof e&&i<0)return new this.constructor(d,n);var o=this._beget(),s=o._handler;return n.chain(s,n.receiver,t,e,r),o},f.prototype.catch=function(t){return this.then(void 0,t)},f.prototype._beget=function(){return t=this._handler,e=this.constructor,r=new v(t.receiver,t.join().context),new e(d,r);var t,e,r},f.all=function(t){return a(R,null,t)},f.race=function(t){return"object"==typeof t&&null!==t?0===t.length?s():1===t.length?i(t[0]):function(t){var e,r,n,i=new v;for(e=0;e<t.length;++e)if(void 0!==(r=t[e])||e in t){if(0!==(n=h(r)).state()){i.become(n),u(t,e+1,n);break}n.visit(i,i.resolve,i.reject)}return new f(d,i)}(t):o(new TypeError("non-iterable passed to race()"))},f._traverse=function(t,e){return a(j,t,e)},f._visitRemaining=u,d.prototype.when=d.prototype.become=d.prototype.notify=d.prototype.fail=d.prototype._unreport=d.prototype._report=M,d.prototype._state=0,d.prototype.state=function(){return this._state},d.prototype.join=function(){for(var t=this;void 0!==t.handler;)t=t.handler;return t},d.prototype.chain=function(t,e,r,n,i){this.when({resolver:t,receiver:e,fulfilled:r,rejected:n,progress:i})},d.prototype.visit=function(t,e,r,n){this.chain(y,t,e,r,n)},d.prototype.fold=function(t,e,r,n){this.when(new C(t,e,r,n))},N(d,g),g.prototype.become=function(t){t.fail()};var y=new g;function v(t,e){f.createContext(this,e),this.consumers=void 0,this.receiver=t,this.handler=void 0,this.resolved=!1}function m(t){this.handler=t}function b(t,e){v.call(this),r.enqueue(new k(t,e,this))}function w(t){f.createContext(this),this.value=t}N(d,v),v.prototype._state=0,v.prototype.resolve=function(t){this.become(h(t))},v.prototype.reject=function(t){this.resolved||this.become(new E(t))},v.prototype.join=function(){if(!this.resolved)return this;for(var t=this;void 0!==t.handler;)if((t=t.handler)===this)return this.handler=new E(new TypeError("Promise cycle"));return t},v.prototype.run=function(){var t=this.consumers,e=this.handler;this.handler=this.handler.join(),this.consumers=void 0;for(var r=0;r<t.length;++r)e.when(t[r])},v.prototype.become=function(t){this.resolved||(this.resolved=!0,this.handler=t,void 0!==this.consumers&&r.enqueue(this),void 0!==this.context&&t._report(this.context))},v.prototype.when=function(t){this.resolved?r.enqueue(new A(t,this.handler)):void 0===this.consumers?this.consumers=[t]:this.consumers.push(t)},v.prototype.notify=function(t){this.resolved||r.enqueue(new I(t,this))},v.prototype.fail=function(t){var e=void 0===t?this.context:t;this.resolved&&this.handler.join().fail(e)},v.prototype._report=function(t){this.resolved&&this.handler.join()._report(t)},v.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},N(d,m),m.prototype.when=function(t){r.enqueue(new A(t,this))},m.prototype._report=function(t){this.join()._report(t)},m.prototype._unreport=function(){this.join()._unreport()},N(v,b),N(d,w),w.prototype._state=1,w.prototype.fold=function(t,e,r,n){!function(t,e,r,n,i){if("function"!=typeof t)return i.become(r);f.enterContext(r),function(t,e,r,n,i){try{t.call(n,e,r,i)}catch(t){i.become(new E(t))}}(t,e,r.value,n,i),f.exitContext()}(t,e,this,r,n)},w.prototype.when=function(t){P(t.fulfilled,this,t.receiver,t.resolver)};var _=0;function E(t){f.createContext(this),this.id=++_,this.value=t,this.handled=!1,this.reported=!1,this._report()}function x(t,e){this.rejection=t,this.context=e}function T(t){this.rejection=t}N(d,E),E.prototype._state=-1,E.prototype.fold=function(t,e,r,n){n.become(this)},E.prototype.when=function(t){"function"==typeof t.rejected&&this._unreport(),P(t.rejected,this,t.receiver,t.resolver)},E.prototype._report=function(t){r.afterQueue(new x(this,t))},E.prototype._unreport=function(){this.handled||(this.handled=!0,r.afterQueue(new T(this)))},E.prototype.fail=function(t){this.reported=!0,e("unhandledRejection",this),f.onFatalRejection(this,void 0===t?this.context:t)},x.prototype.run=function(){this.rejection.handled||this.rejection.reported||(this.rejection.reported=!0,e("unhandledRejection",this.rejection)||f.onPotentiallyUnhandledRejection(this.rejection,this.context))},T.prototype.run=function(){this.rejection.reported&&(e("rejectionHandled",this.rejection)||f.onPotentiallyUnhandledRejectionHandled(this.rejection))},f.createContext=f.enterContext=f.exitContext=f.onPotentiallyUnhandledRejection=f.onPotentiallyUnhandledRejectionHandled=f.onFatalRejection=M;var S=new f(d,new d);function A(t,e){this.continuation=t,this.handler=e}function I(t,e){this.handler=e,this.value=t}function k(t,e,r){this._then=t,this.thenable=e,this.resolver=r}function C(t,e,r,n){this.f=t,this.z=e,this.c=r,this.to=n,this.resolver=y,this.receiver=this}function O(t){return t instanceof f}function B(t){return("object"==typeof t||"function"==typeof t)&&null!==t}function P(t,e,r,n){if("function"!=typeof t)return n.become(e);f.enterContext(e),function(t,e,r,n){try{n.become(h(t.call(r,e)))}catch(t){n.become(new E(t))}}(t,e.value,r,n),f.exitContext()}function L(t,e,r,n,i){if("function"!=typeof t)return i.notify(e);f.enterContext(r),function(t,e,r,n){try{n.notify(t.call(r,e))}catch(t){n.notify(t)}}(t,e,n,i),f.exitContext()}function j(t,e,r){try{return t(e,r)}catch(t){return o(t)}}function N(t,e){e.prototype=n(t.prototype),e.prototype.constructor=e}function R(t,e){return e}function M(){}return A.prototype.run=function(){this.handler.join().when(this.continuation)},I.prototype.run=function(){var t=this.handler.consumers;if(void 0!==t)for(var e,r=0;r<t.length;++r)L((e=t[r]).progress,this.value,this.handler,e.receiver,e.resolver)},k.prototype.run=function(){var e=this.resolver;!function(t,e,r,n,i){try{t.call(e,r,n,i)}catch(t){n(t)}}(this._then,this.thenable,function(t){e.resolve(t)},function(t){e.reject(t)},function(t){e.notify(t)})},C.prototype.fulfilled=function(t){this.f.call(this.c,this.z,t,this.to)},C.prototype.rejected=function(t){this.to.reject(t)},C.prototype.progress=function(t){this.to.notify(t)},f}})}()}).call(this,t("_process"))},{_process:85}],129:[function(t,e,r){!function(t){"use strict";(typeof define==="function"&&define.amd?define:function(t){e.exports=t()})(function(){return{pending:t,fulfilled:n,rejected:r,inspect:function(t){var e=t.state();return 0===e?{state:"pending"}:0<e?n(t.value):r(t.value)}};function t(){return{state:"pending"}}function r(t){return{state:"rejected",reason:t}}function n(t){return{state:"fulfilled",value:t}}})}()},{}],130:[function(e,r,t){!function(t){"use strict";(typeof define==="function"&&define.amd?define:function(t){r.exports=t(e)})(function(t){var e=new(t("./monitor/PromiseMonitor"))(new(t("./monitor/ConsoleReporter")));return function(t){return e.monitor(t)}})}()},{"./monitor/ConsoleReporter":131,"./monitor/PromiseMonitor":132}],131:[function(e,r,t){!function(t){"use strict";(typeof define==="function"&&define.amd?define:function(t){r.exports=t(e)})(function(t){var r=t("./error");function e(){this._previouslyReported=!1}function o(){}return(e.prototype=function(){var t,e,r,n;if("undefined"==typeof console)t=e=o;else{var i=console;"function"==typeof i.error&&"function"==typeof i.dir?(e=function(t){i.error(t)},t=function(t){i.log(t)},"function"==typeof i.groupCollapsed&&(r=function(t){i.groupCollapsed(t)},n=function(){i.groupEnd()})):t=e=void 0!==i.log&&"undefined"!=typeof JSON?function(t){if("string"!=typeof t)try{t=JSON.stringify(t)}catch(t){}i.log(t)}:o}return{msg:t,warn:e,groupStart:r||e,groupEnd:n||o}}()).log=function(t){if(0!==t.length){this._previouslyReported=!0,this.groupStart("[promises] Unhandled rejections: "+t.length);try{this._log(t)}finally{this.groupEnd()}}else this._previouslyReported&&(this._previouslyReported=!1,this.msg("[promises] All previously unhandled rejections have now been handled"))},e.prototype._log=function(t){for(var e=0;e<t.length;++e)this.warn(r.format(t[e]))},e})}()},{"./error":134}],132:[function(e,r,t){!function(t){"use strict";(typeof define==="function"&&define.amd?define:function(t){r.exports=t(e)})(function(t){var r=/[\s\(\/\\](node|module|timers)\.js:|when([\/\\]{1,2}(lib|monitor|es6-shim)[\/\\]{1,2}|\.js)|(new\sPromise)\b|(\b(PromiseMonitor|ConsoleReporter|Scheduler|RunHandlerTask|ProgressTask|Promise|.*Handler)\.[\w_]\w\w+\b)|\b(tryCatch\w+|getHandler\w*)\b/i,n=t("../lib/env").setTimer,i=t("./error"),o=[];function e(t){this.logDelay=0,this.stackFilter=r,this.stackJumpSeparator="from execution context:",this.filterDuplicateFrames=!0,"function"==typeof(this._reporter=t).configurePromiseMonitor&&t.configurePromiseMonitor(this),this._traces=[],this._traceTask=0;var e=this;this._doLogTraces=function(){e._logTraces()}}function s(t,e,r){1<e.length&&(e[0]=r,t.push.apply(t,e))}function a(e,t){return t.filter(function(t){return!e.test(t)})}function u(t){return!t.handler.handled}return e.prototype.monitor=function(t){var r=this;return t.createContext=function(t,e){t.context=r.createContext(t,e)},t.enterContext=function(t){o.push(t.context)},t.exitContext=function(){o.pop()},t.onPotentiallyUnhandledRejection=function(t,e){return r.addTrace(t,e)},t.onPotentiallyUnhandledRejectionHandled=function(t){return r.removeTrace(t)},t.onFatalRejection=function(t,e){return r.fatal(t,e)},this},e.prototype.createContext=function(t,e){var r={parent:e||o[o.length-1],stack:void 0};return i.captureStack(r,t.constructor),r},e.prototype.addTrace=function(t,e){var r,n;for(n=this._traces.length-1;0<=n&&(r=this._traces[n]).handler!==t;--n);0<=n?r.extraContext=e:this._traces.push({handler:t,extraContext:e}),this.logTraces()},e.prototype.removeTrace=function(){this.logTraces()},e.prototype.fatal=function(t,e){var r=new Error;r.stack=this._createLongTrace(t.value,t.context,e).join("\n"),n(function(){throw r},0)},e.prototype.logTraces=function(){this._traceTask||(this._traceTask=n(this._doLogTraces,this.logDelay))},e.prototype._logTraces=function(){this._traceTask=void 0,this._traces=this._traces.filter(u),this._reporter.log(this.formatTraces(this._traces))},e.prototype.formatTraces=function(t){return t.map(function(t){return this._createLongTrace(t.handler.value,t.handler.context,t.extraContext)},this)},e.prototype._createLongTrace=function(t,e,r){var n=i.parse(t)||[String(t)+" (WARNING: non-Error used)"];return n=a(this.stackFilter,n),this._appendContext(n,e),this._appendContext(n,r),this.filterDuplicateFrames?this._removeDuplicates(n):n},e.prototype._removeDuplicates=function(t){var n={},i=this.stackJumpSeparator,o=0;return t.reduceRight(function(t,e,r){return 0===r?t.unshift(e):e===i?0<o&&(t.unshift(e),o=0):n[e]||(n[e]=!0,t.unshift(e),++o),t},[])},e.prototype._appendContext=function(t,e){t.push.apply(t,this._createTrace(e))},e.prototype._createTrace=function(t){for(var e,r=[];t;)(e=i.parse(t))&&s(r,e=a(this.stackFilter,e),this.stackJumpSeparator),t=t.parent;return r},e})}()},{"../lib/env":125,"./error":134}],133:[function(e,r,t){!function(t){"use strict";(typeof define==="function"&&define.amd?define:function(t){r.exports=t(e)})(function(t){return t("../monitor")(t("../when").Promise)})}()},{"../monitor":130,"../when":135}],134:[function(t,e,r){!function(t){"use strict";(typeof define==="function"&&define.amd?define:function(t){e.exports=t()})(function(){var t,e,r;function n(e){try{throw new Error}catch(t){e.stack=t.stack}}function i(t){t.stack=(new Error).stack}function o(t){return function(t){for(var e=!1,r="",n=0;n<t.length;++n)e?r+="\n"+t[n]:(r+=t[n],e=!0);return r}(t)}function s(t){var e=new Error;return e.stack=o(t),e}return e=Error.captureStackTrace?(t=function(t){return t&&t.stack&&t.stack.split("\n")},r=o,Error.captureStackTrace):(t=function(t){var e=t&&t.stack&&t.stack.split("\n");return e&&t.message&&e.unshift(t.message),e},"string"!=typeof(new Error).stack?(r=o,n):(r=s,i)),{parse:t,format:r,captureStack:e}})}()},{}],135:[function(e,r,t){!function(t){"use strict";(typeof define==="function"&&define.amd?define:function(t){r.exports=t(e)})(function(t){var e=t("./lib/decorators/timed"),r=t("./lib/decorators/array"),n=t("./lib/decorators/flow"),i=t("./lib/decorators/fold"),o=t("./lib/decorators/inspect"),s=t("./lib/decorators/iterate"),a=t("./lib/decorators/progress"),u=t("./lib/decorators/with"),c=t("./lib/decorators/unhandledRejection"),f=t("./lib/TimeoutError"),l=[r,n,i,s,a,o,u,e,c].reduce(function(t,e){return e(t)},t("./lib/Promise")),h=t("./lib/apply")(l);function p(t,e,r,n){var i=l.resolve(t);return arguments.length<2?i:i.then(e,r,n)}function d(n){return function(){for(var t=0,e=arguments.length,r=new Array(e);t<e;++t)r[t]=arguments[t];return h(n,this,r)}}function g(t){for(var e=0,r=arguments.length-1,n=new Array(r);e<r;++e)n[e]=arguments[e+1];return h(t,this,n)}function y(){var e=l._defer();function t(t){e._handler.resolve(t)}function r(t){e._handler.reject(t)}function n(t){e._handler.notify(t)}this.promise=e,this.resolve=t,this.reject=r,this.notify=n,this.resolver={resolve:t,reject:r,notify:n}}return p.promise=function(t){return new l(t)},p.resolve=l.resolve,p.reject=l.reject,p.lift=d,p.try=g,p.attempt=g,p.iterate=l.iterate,p.unfold=l.unfold,p.join=function(){return l.all(arguments)},p.all=function(t){return p(t,l.all)},p.settle=function(t){return p(t,l.settle)},p.any=d(l.any),p.some=d(l.some),p.race=d(l.race),p.map=function(t,e){return p(t,function(t){return l.map(t,e)})},p.filter=function(t,e){return p(t,function(t){return l.filter(t,e)})},p.reduce=d(l.reduce),p.reduceRight=d(l.reduceRight),p.isPromiseLike=function(t){return t&&"function"==typeof t.then},p.Promise=l,p.defer=function(){return new y},p.TimeoutError=f,p})}()},{"./lib/Promise":112,"./lib/TimeoutError":114,"./lib/apply":115,"./lib/decorators/array":116,"./lib/decorators/flow":117,"./lib/decorators/fold":118,"./lib/decorators/inspect":119,"./lib/decorators/iterate":120,"./lib/decorators/progress":121,"./lib/decorators/timed":122,"./lib/decorators/unhandledRejection":123,"./lib/decorators/with":124}],136:[function(t,e,r){(function(){"use strict";r.stripBOM=function(t){return"\ufeff"===t[0]?t.substring(1):t}}).call(this)},{}],137:[function(t,e,r){(function(){"use strict";var n,i,e,h,p,d={}.hasOwnProperty;n=t("xmlbuilder"),i=t("./defaults").defaults,h=function(t){return"string"==typeof t&&(0<=t.indexOf("&")||0<=t.indexOf(">")||0<=t.indexOf("<"))},p=function(t){return"<![CDATA["+e(t)+"]]>"},e=function(t){return t.replace("]]>","]]]]><![CDATA[>")},r.Builder=function(){function t(t){var e,r,n;for(e in this.options={},r=i[.2])d.call(r,e)&&(n=r[e],this.options[e]=n);for(e in t)d.call(t,e)&&(n=t[e],this.options[e]=n)}return t.prototype.buildObject=function(t){var u,c,f,e,r,l;return u=this.options.attrkey,c=this.options.charkey,1===Object.keys(t).length&&this.options.rootName===i[.2].rootName?t=t[r=Object.keys(t)[0]]:r=this.options.rootName,l=this,f=function(t,e){var r,n,i,o,s,a;if("object"!=typeof e)l.options.cdata&&h(e)?t.raw(p(e)):t.txt(e);else if(Array.isArray(e)){for(o in e)if(d.call(e,o))for(s in n=e[o])i=n[s],t=f(t.ele(s),i).up()}else for(s in e)if(d.call(e,s))if(n=e[s],s===u){if("object"==typeof n)for(r in n)a=n[r],t=t.att(r,a)}else if(s===c)t=l.options.cdata&&h(n)?t.raw(p(n)):t.txt(n);else if(Array.isArray(n))for(o in n)d.call(n,o)&&(t="string"==typeof(i=n[o])?l.options.cdata&&h(i)?t.ele(s).raw(p(i)).up():t.ele(s,i).up():f(t.ele(s),i).up());else t="object"==typeof n?f(t.ele(s),n).up():"string"==typeof n&&l.options.cdata&&h(n)?t.ele(s).raw(p(n)).up():(null==n&&(n=""),t.ele(s,n.toString()).up());return t},e=n.create(r,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),f(e,t).end(this.options.renderOpts)},t}()}).call(this)},{"./defaults":138,xmlbuilder:163}],138:[function(t,e,r){(function(){r.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(this)},{}],139:[function(t,e,c){(function(){"use strict";var n,i,r,p,d,o,u,s,a=function(t,e){return function(){return t.apply(e,arguments)}},g={}.hasOwnProperty;u=t("sax"),r=t("events"),n=t("./bom"),o=t("./processors"),s=t("timers").setImmediate,i=t("./defaults").defaults,p=function(t){return"object"==typeof t&&null!=t&&0===Object.keys(t).length},d=function(t,e,r){var n,i;for(n=0,i=t.length;n<i;n++)e=(0,t[n])(e,r);return e},c.Parser=function(t){function e(t){var e,r,n;if(this.parseString=a(this.parseString,this),this.reset=a(this.reset,this),this.assignOrPush=a(this.assignOrPush,this),this.processAsync=a(this.processAsync,this),!(this instanceof c.Parser))return new c.Parser(t);for(e in this.options={},r=i[.2])g.call(r,e)&&(n=r[e],this.options[e]=n);for(e in t)g.call(t,e)&&(n=t[e],this.options[e]=n);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(o.normalize)),this.reset()}return function(t,e){for(var r in e)g.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,r.EventEmitter),e.prototype.processAsync=function(){var t,e;try{return this.remaining.length<=this.options.chunkSize?(t=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(t),this.saxParser.close()):(t=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(t),s(this.processAsync))}catch(t){if(e=t,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(e)}},e.prototype.assignOrPush=function(t,e,r){return e in t?(t[e]instanceof Array||(t[e]=[t[e]]),t[e].push(r)):this.options.explicitArray?t[e]=[r]:t[e]=r},e.prototype.reset=function(){var s,f,r,l,e,t,a,h,n;return this.removeAllListeners(),this.saxParser=u.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=(e=this,function(t){if(e.saxParser.resume(),!e.saxParser.errThrown)return e.saxParser.errThrown=!0,e.emit("error",t)}),this.saxParser.onend=(t=this,function(){if(!t.saxParser.ended)return t.saxParser.ended=!0,t.emit("end",t.resultObject)}),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,l=[],s=this.options.attrkey,f=this.options.charkey,this.saxParser.onopentag=(a=this,function(t){var e,r,n,i,o;if((n={})[f]="",!a.options.ignoreAttrs)for(e in o=t.attributes)g.call(o,e)&&(s in n||a.options.mergeAttrs||(n[s]={}),r=a.options.attrValueProcessors?d(a.options.attrValueProcessors,t.attributes[e],e):t.attributes[e],i=a.options.attrNameProcessors?d(a.options.attrNameProcessors,e):e,a.options.mergeAttrs?a.assignOrPush(n,i,r):n[s][i]=r);return n["#name"]=a.options.tagNameProcessors?d(a.options.tagNameProcessors,t.name):t.name,a.options.xmlns&&(n[a.options.xmlnskey]={uri:t.uri,local:t.local}),l.push(n)}),this.saxParser.onclosetag=(h=this,function(){var t,e,r,n,i,o,s,a,u,c;if(o=l.pop(),i=o["#name"],h.options.explicitChildren&&h.options.preserveChildrenOrder||delete o["#name"],!0===o.cdata&&(t=o.cdata,delete o.cdata),u=l[l.length-1],o[f].match(/^\s*$/)&&!t?(e=o[f],delete o[f]):(h.options.trim&&(o[f]=o[f].trim()),h.options.normalize&&(o[f]=o[f].replace(/\s{2,}/g," ").trim()),o[f]=h.options.valueProcessors?d(h.options.valueProcessors,o[f],i):o[f],1===Object.keys(o).length&&f in o&&!h.EXPLICIT_CHARKEY&&(o=o[f])),p(o)&&(o=""!==h.options.emptyTag?h.options.emptyTag:e),null!=h.options.validator&&(c="/"+function(){var t,e,r;for(r=[],t=0,e=l.length;t<e;t++)n=l[t],r.push(n["#name"]);return r}().concat(i).join("/"),function(){var e;try{o=h.options.validator(c,u&&u[i],o)}catch(t){return e=t,h.emit("error",e)}}()),h.options.explicitChildren&&!h.options.mergeAttrs&&"object"==typeof o)if(h.options.preserveChildrenOrder){if(u){for(r in u[h.options.childkey]=u[h.options.childkey]||[],s={},o)g.call(o,r)&&(s[r]=o[r]);u[h.options.childkey].push(s),delete o["#name"],1===Object.keys(o).length&&f in o&&!h.EXPLICIT_CHARKEY&&(o=o[f])}}else n={},h.options.attrkey in o&&(n[h.options.attrkey]=o[h.options.attrkey],delete o[h.options.attrkey]),!h.options.charsAsChildren&&h.options.charkey in o&&(n[h.options.charkey]=o[h.options.charkey],delete o[h.options.charkey]),0<Object.getOwnPropertyNames(o).length&&(n[h.options.childkey]=o),o=n;return 0<l.length?h.assignOrPush(u,i,o):(h.options.explicitRoot&&(a=o,(o={})[i]=a),h.resultObject=o,h.saxParser.ended=!0,h.emit("end",h.resultObject))}),r=function(t){var e,r;if(r=l[l.length-1])return r[f]+=t,n.options.explicitChildren&&n.options.preserveChildrenOrder&&n.options.charsAsChildren&&(n.options.includeWhiteChars||""!==t.replace(/\\n/g,"").trim())&&(r[n.options.childkey]=r[n.options.childkey]||[],(e={"#name":"__text__"})[f]=t,n.options.normalize&&(e[f]=e[f].replace(/\s{2,}/g," ").trim()),r[n.options.childkey].push(e)),r},(n=this).saxParser.ontext=r,this.saxParser.oncdata=function(t){var e;if(e=r(t))return e.cdata=!0}},e.prototype.parseString=function(t,e){var r;null!=e&&"function"==typeof e&&(this.on("end",function(t){return this.reset(),e(null,t)}),this.on("error",function(t){return this.reset(),e(t)}));try{return""===(t=t.toString()).trim()?(this.emit("end",null),!0):(t=n.stripBOM(t),this.options.async?(this.remaining=t,s(this.processAsync),this.saxParser):this.saxParser.write(t).close())}catch(t){if(r=t,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",r),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw r}},e}(),c.parseString=function(t,e,r){var n,i;return null!=r?("function"==typeof r&&(n=r),"object"==typeof e&&(i=e)):("function"==typeof e&&(n=e),i={}),new c.Parser(i).parseString(t,n)}}).call(this)},{"./bom":136,"./defaults":138,"./processors":140,events:70,sax:101,timers:105}],140:[function(t,e,r){(function(){"use strict";var e;e=new RegExp(/(?!xmlns)^.*:/),r.normalize=function(t){return t.toLowerCase()},r.firstCharLowerCase=function(t){return t.charAt(0).toLowerCase()+t.slice(1)},r.stripPrefix=function(t){return t.replace(e,"")},r.parseNumbers=function(t){return isNaN(t)||(t=t%1==0?parseInt(t,10):parseFloat(t)),t},r.parseBooleans=function(t){return/^(?:true|false)$/i.test(t)&&(t="true"===t.toLowerCase()),t}}).call(this)},{}],141:[function(o,t,s){(function(){"use strict";var t,e,r,n,i={}.hasOwnProperty;e=o("./defaults"),t=o("./builder"),r=o("./parser"),n=o("./processors"),s.defaults=e.defaults,s.processors=n,s.ValidationError=function(t){function e(t){this.message=t}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,Error),e}(),s.Builder=t.Builder,s.Parser=r.Parser,s.parseString=r.parseString}).call(this)},{"./builder":137,"./defaults":138,"./parser":139,"./processors":140}],142:[function(t,o,e){(function(){var t,r,e,s,n,i,a=[].slice,u={}.hasOwnProperty;t=function(){var t,e,r,n,i,o;if(o=arguments[0],i=2<=arguments.length?a.call(arguments,1):[],s(Object.assign))Object.assign.apply(null,arguments);else for(t=0,r=i.length;t<r;t++)if(null!=(n=i[t]))for(e in n)u.call(n,e)&&(o[e]=n[e]);return o},s=function(t){return!!t&&"[object Function]"===Object.prototype.toString.call(t)},n=function(t){var e;return!!t&&("function"==(e=typeof t)||"object"===e)},r=function(t){return s(Array.isArray)?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},e=function(t){var e;if(r(t))return!t.length;for(e in t)if(u.call(t,e))return!1;return!0},i=function(t){var e,r;return n(t)&&(r=Object.getPrototypeOf(t))&&(e=r.constructor)&&"function"==typeof e&&e instanceof e&&Function.prototype.toString.call(e)===Function.prototype.toString.call(Object)},o.exports.assign=t,o.exports.isFunction=s,o.exports.isObject=n,o.exports.isArray=r,o.exports.isEmpty=e,o.exports.isPlainObject=i}).call(this)},{}],143:[function(t,e,r){(function(){e.exports=function(){function t(t,e,r){if(this.options=t.options,this.stringify=t.stringify,null==e)throw new Error("Missing attribute name of element "+t.name);if(null==r)throw new Error("Missing attribute value for attribute "+e+" of element "+t.name);this.name=this.stringify.attName(e),this.value=this.stringify.attValue(r)}return t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(t){return this.options.writer.set(t).attribute(this)},t}()}).call(this)},{}],144:[function(t,r,e){(function(){var e,i={}.hasOwnProperty;e=t("./XMLNode"),r.exports=function(t){function r(t,e){if(r.__super__.constructor.call(this,t),null==e)throw new Error("Missing CDATA text");this.text=this.stringify.cdata(e)}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,e),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.set(t).cdata(this)},r}()}).call(this)},{"./XMLNode":155}],145:[function(t,r,e){(function(){var e,i={}.hasOwnProperty;e=t("./XMLNode"),r.exports=function(t){function r(t,e){if(r.__super__.constructor.call(this,t),null==e)throw new Error("Missing comment text");this.text=this.stringify.comment(e)}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,e),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.set(t).comment(this)},r}()}).call(this)},{"./XMLNode":155}],146:[function(t,r,e){(function(){var e,i={}.hasOwnProperty;e=t("./XMLNode"),r.exports=function(t){function s(t,e,r,n,i,o){if(s.__super__.constructor.call(this,t),null==e)throw new Error("Missing DTD element name");if(null==r)throw new Error("Missing DTD attribute name");if(!n)throw new Error("Missing DTD attribute type");if(!i)throw new Error("Missing DTD attribute default");if(0!==i.indexOf("#")&&(i="#"+i),!i.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");if(o&&!i.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT");this.elementName=this.stringify.eleName(e),this.attributeName=this.stringify.attName(r),this.attributeType=this.stringify.dtdAttType(n),this.defaultValue=this.stringify.dtdAttDefault(o),this.defaultValueType=i}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(s,e),s.prototype.toString=function(t){return this.options.writer.set(t).dtdAttList(this)},s}()}).call(this)},{"./XMLNode":155}],147:[function(t,r,e){(function(){var e,i={}.hasOwnProperty;e=t("./XMLNode"),r.exports=function(t){function n(t,e,r){if(n.__super__.constructor.call(this,t),null==e)throw new Error("Missing DTD element name");r||(r="(#PCDATA)"),Array.isArray(r)&&(r="("+r.join(",")+")"),this.name=this.stringify.eleName(e),this.value=this.stringify.dtdElementValue(r)}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(n,e),n.prototype.toString=function(t){return this.options.writer.set(t).dtdElement(this)},n}()}).call(this)},{"./XMLNode":155}],148:[function(t,r,e){(function(){var e,o,s={}.hasOwnProperty;o=t("./Utility").isObject,e=t("./XMLNode"),r.exports=function(t){function i(t,e,r,n){if(i.__super__.constructor.call(this,t),null==r)throw new Error("Missing entity name");if(null==n)throw new Error("Missing entity value");if(this.pe=!!e,this.name=this.stringify.eleName(r),o(n)){if(!n.pubID&&!n.sysID)throw new Error("Public and/or system identifiers are required for an external entity");if(n.pubID&&!n.sysID)throw new Error("System identifier is required for a public external entity");if(null!=n.pubID&&(this.pubID=this.stringify.dtdPubID(n.pubID)),null!=n.sysID&&(this.sysID=this.stringify.dtdSysID(n.sysID)),null!=n.nData&&(this.nData=this.stringify.dtdNData(n.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity")}else this.value=this.stringify.dtdEntityValue(n)}return function(t,e){for(var r in e)s.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(i,e),i.prototype.toString=function(t){return this.options.writer.set(t).dtdEntity(this)},i}()}).call(this)},{"./Utility":142,"./XMLNode":155}],149:[function(t,r,e){(function(){var e,i={}.hasOwnProperty;e=t("./XMLNode"),r.exports=function(t){function n(t,e,r){if(n.__super__.constructor.call(this,t),null==e)throw new Error("Missing notation name");if(!r.pubID&&!r.sysID)throw new Error("Public or system identifiers are required for an external entity");this.name=this.stringify.eleName(e),null!=r.pubID&&(this.pubID=this.stringify.dtdPubID(r.pubID)),null!=r.sysID&&(this.sysID=this.stringify.dtdSysID(r.sysID))}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(n,e),n.prototype.toString=function(t){return this.options.writer.set(t).dtdNotation(this)},n}()}).call(this)},{"./XMLNode":155}],150:[function(t,r,e){(function(){var e,s,i={}.hasOwnProperty;s=t("./Utility").isObject,e=t("./XMLNode"),r.exports=function(t){function o(t,e,r,n){var i;o.__super__.constructor.call(this,t),s(e)&&(e=(i=e).version,r=i.encoding,n=i.standalone),e||(e="1.0"),this.version=this.stringify.xmlVersion(e),null!=r&&(this.encoding=this.stringify.xmlEncoding(r)),null!=n&&(this.standalone=this.stringify.xmlStandalone(n))}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(o,e),o.prototype.toString=function(t){return this.options.writer.set(t).declaration(this)},o}()}).call(this)},{"./Utility":142,"./XMLNode":155}],151:[function(t,r,e){(function(){var s,n,i,a,e,u,c={}.hasOwnProperty;u=t("./Utility").isObject,e=t("./XMLNode"),s=t("./XMLDTDAttList"),i=t("./XMLDTDEntity"),n=t("./XMLDTDElement"),a=t("./XMLDTDNotation"),r.exports=function(t){function o(t,e,r){var n,i;o.__super__.constructor.call(this,t),this.documentObject=t,u(e)&&(e=(n=e).pubID,r=n.sysID),null==r&&(r=(i=[e,r])[0],e=i[1]),null!=e&&(this.pubID=this.stringify.dtdPubID(e)),null!=r&&(this.sysID=this.stringify.dtdSysID(r))}return function(t,e){for(var r in e)c.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(o,e),o.prototype.element=function(t,e){var r;return r=new n(this,t,e),this.children.push(r),this},o.prototype.attList=function(t,e,r,n,i){var o;return o=new s(this,t,e,r,n,i),this.children.push(o),this},o.prototype.entity=function(t,e){var r;return r=new i(this,!1,t,e),this.children.push(r),this},o.prototype.pEntity=function(t,e){var r;return r=new i(this,!0,t,e),this.children.push(r),this},o.prototype.notation=function(t,e){var r;return r=new a(this,t,e),this.children.push(r),this},o.prototype.toString=function(t){return this.options.writer.set(t).docType(this)},o.prototype.ele=function(t,e){return this.element(t,e)},o.prototype.att=function(t,e,r,n,i){return this.attList(t,e,r,n,i)},o.prototype.ent=function(t,e){return this.entity(t,e)},o.prototype.pent=function(t,e){return this.pEntity(t,e)},o.prototype.not=function(t,e){return this.notation(t,e)},o.prototype.up=function(){return this.root()||this.documentObject},o}()}).call(this)},{"./Utility":142,"./XMLDTDAttList":146,"./XMLDTDElement":147,"./XMLDTDEntity":148,"./XMLDTDNotation":149,"./XMLNode":155}],152:[function(t,e,r){(function(){var r,n,i,o,s={}.hasOwnProperty;o=t("./Utility").isPlainObject,r=t("./XMLNode"),i=t("./XMLStringifier"),n=t("./XMLStringWriter"),e.exports=function(t){function e(t){e.__super__.constructor.call(this,null),t||(t={}),t.writer||(t.writer=new n),this.options=t,this.stringify=new i(t),this.isDocument=!0}return function(t,e){for(var r in e)s.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,r),e.prototype.end=function(t){var e;return t?o(t)&&(e=t,t=this.options.writer.set(e)):t=this.options.writer,t.document(this)},e.prototype.toString=function(t){return this.options.writer.set(t).document(this)},e}()}).call(this)},{"./Utility":142,"./XMLNode":155,"./XMLStringWriter":159,"./XMLStringifier":160}],153:[function(e,_,t){(function(){var i,r,n,s,o,a,u,c,f,l,h,p,d,g,y,v,m,b,t,w={}.hasOwnProperty;t=e("./Utility"),m=t.isObject,v=t.isFunction,b=t.isPlainObject,l=e("./XMLElement"),r=e("./XMLCData"),n=e("./XMLComment"),p=e("./XMLRaw"),y=e("./XMLText"),h=e("./XMLProcessingInstruction"),c=e("./XMLDeclaration"),f=e("./XMLDocType"),s=e("./XMLDTDAttList"),a=e("./XMLDTDEntity"),o=e("./XMLDTDElement"),u=e("./XMLDTDNotation"),i=e("./XMLAttribute"),g=e("./XMLStringifier"),d=e("./XMLStringWriter"),_.exports=function(){function t(t,e,r){var n;t||(t={}),t.writer?b(t.writer)&&(n=t.writer,t.writer=new d(n)):t.writer=new d(t),this.options=t,this.writer=t.writer,this.stringify=new g(t),this.onDataCallback=e||function(){},this.onEndCallback=r||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return t.prototype.node=function(t,e,r){var n;if(null==t)throw new Error("Missing node name");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node");return this.openCurrent(),t=t.valueOf(),null==e&&(e={}),e=e.valueOf(),m(e)||(r=(n=[e,r])[0],e=n[1]),this.currentNode=new l(this,t,e),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=r&&this.text(r),this},t.prototype.element=function(t,e,r){return this.currentNode&&this.currentNode instanceof f?this.dtdElement.apply(this,arguments):this.node(t,e,r)},t.prototype.attribute=function(t,e){var r,n;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode");if(null!=t&&(t=t.valueOf()),m(t))for(r in t)w.call(t,r)&&(n=t[r],this.attribute(r,n));else v(e)&&(e=e.apply()),this.options.skipNullAttributes&&null==e||(this.currentNode.attributes[t]=new i(this,t,e));return this},t.prototype.text=function(t){var e;return this.openCurrent(),e=new y(this,t),this.onData(this.writer.text(e,this.currentLevel+1)),this},t.prototype.cdata=function(t){var e;return this.openCurrent(),e=new r(this,t),this.onData(this.writer.cdata(e,this.currentLevel+1)),this},t.prototype.comment=function(t){var e;return this.openCurrent(),e=new n(this,t),this.onData(this.writer.comment(e,this.currentLevel+1)),this},t.prototype.raw=function(t){var e;return this.openCurrent(),e=new p(this,t),this.onData(this.writer.raw(e,this.currentLevel+1)),this},t.prototype.instruction=function(t,e){var r,n,i,o,s;if(this.openCurrent(),null!=t&&(t=t.valueOf()),null!=e&&(e=e.valueOf()),Array.isArray(t))for(r=0,o=t.length;r<o;r++)n=t[r],this.instruction(n);else if(m(t))for(n in t)w.call(t,n)&&(i=t[n],this.instruction(n,i));else v(e)&&(e=e.apply()),s=new h(this,t,e),this.onData(this.writer.processingInstruction(s,this.currentLevel+1));return this},t.prototype.declaration=function(t,e,r){var n;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node");return n=new c(this,t,e,r),this.onData(this.writer.declaration(n,this.currentLevel+1)),this},t.prototype.doctype=function(t,e,r){if(this.openCurrent(),null==t)throw new Error("Missing root node name");if(this.root)throw new Error("dtd() must come before the root node");return this.currentNode=new f(this,e,r),this.currentNode.rootNodeName=t,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},t.prototype.dtdElement=function(t,e){var r;return this.openCurrent(),r=new o(this,t,e),this.onData(this.writer.dtdElement(r,this.currentLevel+1)),this},t.prototype.attList=function(t,e,r,n,i){var o;return this.openCurrent(),o=new s(this,t,e,r,n,i),this.onData(this.writer.dtdAttList(o,this.currentLevel+1)),this},t.prototype.entity=function(t,e){var r;return this.openCurrent(),r=new a(this,!1,t,e),this.onData(this.writer.dtdEntity(r,this.currentLevel+1)),this},t.prototype.pEntity=function(t,e){var r;return this.openCurrent(),r=new a(this,!0,t,e),this.onData(this.writer.dtdEntity(r,this.currentLevel+1)),this},t.prototype.notation=function(t,e){var r;return this.openCurrent(),r=new u(this,t,e),this.onData(this.writer.dtdNotation(r,this.currentLevel+1)),this},t.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},t.prototype.end=function(){for(;0<=this.currentLevel;)this.up();return this.onEnd()},t.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},t.prototype.openNode=function(t){if(!t.isOpen)return!this.root&&0===this.currentLevel&&t instanceof l&&(this.root=t),this.onData(this.writer.openNode(t,this.currentLevel)),t.isOpen=!0},t.prototype.closeNode=function(t){if(!t.isClosed)return this.onData(this.writer.closeNode(t,this.currentLevel)),t.isClosed=!0},t.prototype.onData=function(t){return this.documentStarted=!0,this.onDataCallback(t)},t.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},t.prototype.ele=function(){return this.element.apply(this,arguments)},t.prototype.nod=function(t,e,r){return this.node(t,e,r)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.ins=function(t,e){return this.instruction(t,e)},t.prototype.dec=function(t,e,r){return this.declaration(t,e,r)},t.prototype.dtd=function(t,e,r){return this.doctype(t,e,r)},t.prototype.e=function(t,e,r){return this.element(t,e,r)},t.prototype.n=function(t,e,r){return this.node(t,e,r)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.i=function(t,e){return this.instruction(t,e)},t.prototype.att=function(){return this.currentNode&&this.currentNode instanceof f?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.a=function(){return this.currentNode&&this.currentNode instanceof f?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.ent=function(t,e){return this.entity(t,e)},t.prototype.pent=function(t,e){return this.pEntity(t,e)},t.prototype.not=function(t,e){return this.notation(t,e)},t}()}).call(this)},{"./Utility":142,"./XMLAttribute":143,"./XMLCData":144,"./XMLComment":145,"./XMLDTDAttList":146,"./XMLDTDElement":147,"./XMLDTDEntity":148,"./XMLDTDNotation":149,"./XMLDeclaration":150,"./XMLDocType":151,"./XMLElement":154,"./XMLProcessingInstruction":156,"./XMLRaw":157,"./XMLStringWriter":159,"./XMLStringifier":160,"./XMLText":161}],154:[function(r,n,t){(function(){var i,e,o,s,t,a={}.hasOwnProperty;t=r("./Utility"),s=t.isObject,o=t.isFunction,e=r("./XMLNode"),i=r("./XMLAttribute"),n.exports=function(t){function n(t,e,r){if(n.__super__.constructor.call(this,t),null==e)throw new Error("Missing element name");this.name=this.stringify.eleName(e),this.attributes={},null!=r&&this.attribute(r),t.isDocument&&(this.isRoot=!0,(this.documentObject=t).rootObject=this)}return function(t,e){for(var r in e)a.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(n,e),n.prototype.clone=function(){var t,e,r,n;for(e in(r=Object.create(this)).isRoot&&(r.documentObject=null),r.attributes={},n=this.attributes)a.call(n,e)&&(t=n[e],r.attributes[e]=t.clone());return r.children=[],this.children.forEach(function(t){var e;return((e=t.clone()).parent=r).children.push(e)}),r},n.prototype.attribute=function(t,e){var r,n;if(null!=t&&(t=t.valueOf()),s(t))for(r in t)a.call(t,r)&&(n=t[r],this.attribute(r,n));else o(e)&&(e=e.apply()),this.options.skipNullAttributes&&null==e||(this.attributes[t]=new i(this,t,e));return this},n.prototype.removeAttribute=function(t){var e,r,n;if(null==t)throw new Error("Missing attribute name");if(t=t.valueOf(),Array.isArray(t))for(r=0,n=t.length;r<n;r++)e=t[r],delete this.attributes[e];else delete this.attributes[t];return this},n.prototype.toString=function(t){return this.options.writer.set(t).element(this)},n.prototype.att=function(t,e){return this.attribute(t,e)},n.prototype.a=function(t,e){return this.attribute(t,e)},n}()}).call(this)},{"./Utility":142,"./XMLAttribute":143,"./XMLNode":155}],155:[function(e,c,t){(function(){var r,n,o,l,s,a,i,u,p,d,g,t,y={}.hasOwnProperty;t=e("./Utility"),g=t.isObject,d=t.isFunction,p=t.isEmpty,a=u=i=l=o=n=r=s=null,c.exports=function(){function t(t){this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],s||(s=e("./XMLElement"),r=e("./XMLCData"),n=e("./XMLComment"),o=e("./XMLDeclaration"),l=e("./XMLDocType"),i=e("./XMLRaw"),u=e("./XMLText"),a=e("./XMLProcessingInstruction"))}return t.prototype.element=function(t,e,r){var n,i,o,s,a,u,c,f,l,h;if((u=null)==e&&(e={}),e=e.valueOf(),g(e)||(r=(l=[e,r])[0],e=l[1]),null!=t&&(t=t.valueOf()),Array.isArray(t))for(o=0,c=t.length;o<c;o++)i=t[o],u=this.element(i);else if(d(t))u=this.element(t.apply());else if(g(t)){for(a in t)if(y.call(t,a))if(h=t[a],d(h)&&(h=h.apply()),g(h)&&p(h)&&(h=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===a.indexOf(this.stringify.convertAttKey))u=this.attribute(a.substr(this.stringify.convertAttKey.length),h);else if(!this.options.separateArrayItems&&Array.isArray(h))for(s=0,f=h.length;s<f;s++)i=h[s],(n={})[a]=i,u=this.element(n);else g(h)?(u=this.element(a)).element(h):u=this.element(a,h)}else u=!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===t.indexOf(this.stringify.convertTextKey)?this.text(r):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===t.indexOf(this.stringify.convertCDataKey)?this.cdata(r):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===t.indexOf(this.stringify.convertCommentKey)?this.comment(r):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===t.indexOf(this.stringify.convertRawKey)?this.raw(r):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===t.indexOf(this.stringify.convertPIKey)?this.instruction(t.substr(this.stringify.convertPIKey.length),r):this.node(t,e,r);if(null==u)throw new Error("Could not create any elements with: "+t);return u},t.prototype.insertBefore=function(t,e,r){var n,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i),n=this.parent.element(t,e,r),Array.prototype.push.apply(this.parent.children,o),n},t.prototype.insertAfter=function(t,e,r){var n,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i+1),n=this.parent.element(t,e,r),Array.prototype.push.apply(this.parent.children,o),n},t.prototype.remove=function(){var t;if(this.isRoot)throw new Error("Cannot remove the root element");return t=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[t,t-t+1].concat([])),this.parent},t.prototype.node=function(t,e,r){var n,i;return null!=t&&(t=t.valueOf()),e||(e={}),e=e.valueOf(),g(e)||(r=(i=[e,r])[0],e=i[1]),n=new s(this,t,e),null!=r&&n.text(r),this.children.push(n),n},t.prototype.text=function(t){var e;return e=new u(this,t),this.children.push(e),this},t.prototype.cdata=function(t){var e;return e=new r(this,t),this.children.push(e),this},t.prototype.comment=function(t){var e;return e=new n(this,t),this.children.push(e),this},t.prototype.commentBefore=function(t){var e,r;return e=this.parent.children.indexOf(this),r=this.parent.children.splice(e),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.commentAfter=function(t){var e,r;return e=this.parent.children.indexOf(this),r=this.parent.children.splice(e+1),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.raw=function(t){var e;return e=new i(this,t),this.children.push(e),this},t.prototype.instruction=function(t,e){var r,n,i,o,s;if(null!=t&&(t=t.valueOf()),null!=e&&(e=e.valueOf()),Array.isArray(t))for(o=0,s=t.length;o<s;o++)r=t[o],this.instruction(r);else if(g(t))for(r in t)y.call(t,r)&&(n=t[r],this.instruction(r,n));else d(e)&&(e=e.apply()),i=new a(this,t,e),this.children.push(i);return this},t.prototype.instructionBefore=function(t,e){var r,n;return r=this.parent.children.indexOf(this),n=this.parent.children.splice(r),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.instructionAfter=function(t,e){var r,n;return r=this.parent.children.indexOf(this),n=this.parent.children.splice(r+1),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.declaration=function(t,e,r){var n,i;return n=this.document(),i=new o(n,t,e,r),n.children[0]instanceof o?n.children[0]=i:n.children.unshift(i),n.root()||n},t.prototype.doctype=function(t,e){var r,n,i,o,s,a,u,c,f;for(r=this.document(),n=new l(r,t,e),i=o=0,a=(c=r.children).length;o<a;i=++o)if(c[i]instanceof l)return r.children[i]=n;for(i=s=0,u=(f=r.children).length;s<u;i=++s)if(f[i].isRoot)return r.children.splice(i,0,n),n;return r.children.push(n),n},t.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},t.prototype.root=function(){var t;for(t=this;t;){if(t.isDocument)return t.rootObject;if(t.isRoot)return t;t=t.parent}},t.prototype.document=function(){var t;for(t=this;t;){if(t.isDocument)return t;t=t.parent}},t.prototype.end=function(t){return this.document().end(t)},t.prototype.prev=function(){var t;if((t=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node");return this.parent.children[t-1]},t.prototype.next=function(){var t;if(-1===(t=this.parent.children.indexOf(this))||t===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[t+1]},t.prototype.importDocument=function(t){var e;return(e=t.root().clone()).parent=this,e.isRoot=!1,this.children.push(e),this},t.prototype.ele=function(t,e,r){return this.element(t,e,r)},t.prototype.nod=function(t,e,r){return this.node(t,e,r)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.ins=function(t,e){return this.instruction(t,e)},t.prototype.doc=function(){return this.document()},t.prototype.dec=function(t,e,r){return this.declaration(t,e,r)},t.prototype.dtd=function(t,e){return this.doctype(t,e)},t.prototype.e=function(t,e,r){return this.element(t,e,r)},t.prototype.n=function(t,e,r){return this.node(t,e,r)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.i=function(t,e){return this.instruction(t,e)},t.prototype.u=function(){return this.up()},t.prototype.importXMLBuilder=function(t){return this.importDocument(t)},t}()}).call(this)},{"./Utility":142,"./XMLCData":144,"./XMLComment":145,"./XMLDeclaration":150,"./XMLDocType":151,"./XMLElement":154,"./XMLProcessingInstruction":156,"./XMLRaw":157,"./XMLText":161}],156:[function(t,r,e){(function(){var e,i={}.hasOwnProperty;e=t("./XMLNode"),r.exports=function(t){function n(t,e,r){if(n.__super__.constructor.call(this,t),null==e)throw new Error("Missing instruction target");this.target=this.stringify.insTarget(e),r&&(this.value=this.stringify.insValue(r))}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(t){return this.options.writer.set(t).processingInstruction(this)},n}()}).call(this)},{"./XMLNode":155}],157:[function(t,r,e){(function(){var e,i={}.hasOwnProperty;e=t("./XMLNode"),r.exports=function(t){function r(t,e){if(r.__super__.constructor.call(this,t),null==e)throw new Error("Missing raw text");this.value=this.stringify.raw(e)}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,e),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.set(t).raw(this)},r}()}).call(this)},{"./XMLNode":155}],158:[function(t,r,e){(function(){var f,l,s,a,u,c,h,p,d,g,y,v,e,m={}.hasOwnProperty;h=t("./XMLDeclaration"),p=t("./XMLDocType"),f=t("./XMLCData"),l=t("./XMLComment"),d=t("./XMLElement"),y=t("./XMLRaw"),v=t("./XMLText"),g=t("./XMLProcessingInstruction"),s=t("./XMLDTDAttList"),a=t("./XMLDTDElement"),u=t("./XMLDTDEntity"),c=t("./XMLDTDNotation"),e=t("./XMLWriterBase"),r.exports=function(t){function r(t,e){r.__super__.constructor.call(this,e),this.stream=t}return function(t,e){for(var r in e)m.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,e),r.prototype.document=function(t){var e,r,n,i,o,s,a,u;for(r=0,i=(s=t.children).length;r<i;r++)(e=s[r]).isLastRootNode=!1;for(t.children[t.children.length-1].isLastRootNode=!0,u=[],n=0,o=(a=t.children).length;n<o;n++)switch(e=a[n],!1){case!(e instanceof h):u.push(this.declaration(e));break;case!(e instanceof p):u.push(this.docType(e));break;case!(e instanceof l):u.push(this.comment(e));break;case!(e instanceof g):u.push(this.processingInstruction(e));break;default:u.push(this.element(e))}return u},r.prototype.attribute=function(t){return this.stream.write(" "+t.name+'="'+t.value+'"')},r.prototype.cdata=function(t,e){return this.stream.write(this.space(e)+"<![CDATA["+t.text+"]]>"+this.endline(t))},r.prototype.comment=function(t,e){return this.stream.write(this.space(e)+"\x3c!-- "+t.text+" --\x3e"+this.endline(t))},r.prototype.declaration=function(t,e){return this.stream.write(this.space(e)),this.stream.write('<?xml version="'+t.version+'"'),null!=t.encoding&&this.stream.write(' encoding="'+t.encoding+'"'),null!=t.standalone&&this.stream.write(' standalone="'+t.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(t))},r.prototype.docType=function(t,e){var r,n,i,o;if(e||(e=0),this.stream.write(this.space(e)),this.stream.write("<!DOCTYPE "+t.root().name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),0<t.children.length){for(this.stream.write(" ["),this.stream.write(this.endline(t)),n=0,i=(o=t.children).length;n<i;n++)switch(r=o[n],!1){case!(r instanceof s):this.dtdAttList(r,e+1);break;case!(r instanceof a):this.dtdElement(r,e+1);break;case!(r instanceof u):this.dtdEntity(r,e+1);break;case!(r instanceof c):this.dtdNotation(r,e+1);break;case!(r instanceof f):this.cdata(r,e+1);break;case!(r instanceof l):this.comment(r,e+1);break;case!(r instanceof g):this.processingInstruction(r,e+1);break;default:throw new Error("Unknown DTD node type: "+r.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(t))},r.prototype.element=function(t,e){var r,n,i,o,s,a,u,c;for(s in e||(e=0),c=this.space(e),this.stream.write(c+"<"+t.name),a=t.attributes)m.call(a,s)&&(r=a[s],this.attribute(r));if(0===t.children.length||t.children.every(function(t){return""===t.value}))this.allowEmpty?this.stream.write("></"+t.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&1===t.children.length&&null!=t.children[0].value)this.stream.write(">"),this.stream.write(t.children[0].value),this.stream.write("</"+t.name+">");else{for(this.stream.write(">"+this.newline),i=0,o=(u=t.children).length;i<o;i++)switch(n=u[i],!1){case!(n instanceof f):this.cdata(n,e+1);break;case!(n instanceof l):this.comment(n,e+1);break;case!(n instanceof d):this.element(n,e+1);break;case!(n instanceof y):this.raw(n,e+1);break;case!(n instanceof v):this.text(n,e+1);break;case!(n instanceof g):this.processingInstruction(n,e+1);break;default:throw new Error("Unknown XML node type: "+n.constructor.name)}this.stream.write(c+"</"+t.name+">")}return this.stream.write(this.endline(t))},r.prototype.processingInstruction=function(t,e){return this.stream.write(this.space(e)+"<?"+t.target),t.value&&this.stream.write(" "+t.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(t))},r.prototype.raw=function(t,e){return this.stream.write(this.space(e)+t.value+this.endline(t))},r.prototype.text=function(t,e){return this.stream.write(this.space(e)+t.value+this.endline(t))},r.prototype.dtdAttList=function(t,e){return this.stream.write(this.space(e)+"<!ATTLIST "+t.elementName+" "+t.attributeName+" "+t.attributeType),"#DEFAULT"!==t.defaultValueType&&this.stream.write(" "+t.defaultValueType),t.defaultValue&&this.stream.write(' "'+t.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},r.prototype.dtdElement=function(t,e){return this.stream.write(this.space(e)+"<!ELEMENT "+t.name+" "+t.value),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},r.prototype.dtdEntity=function(t,e){return this.stream.write(this.space(e)+"<!ENTITY"),t.pe&&this.stream.write(" %"),this.stream.write(" "+t.name),t.value?this.stream.write(' "'+t.value+'"'):(t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),t.nData&&this.stream.write(" NDATA "+t.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},r.prototype.dtdNotation=function(t,e){return this.stream.write(this.space(e)+"<!NOTATION "+t.name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.pubID?this.stream.write(' PUBLIC "'+t.pubID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},r.prototype.endline=function(t){return t.isLastRootNode?"":this.newline},r}()}).call(this)},{"./XMLCData":144,"./XMLComment":145,"./XMLDTDAttList":146,"./XMLDTDElement":147,"./XMLDTDEntity":148,"./XMLDTDNotation":149,"./XMLDeclaration":150,"./XMLDocType":151,"./XMLElement":154,"./XMLProcessingInstruction":156,"./XMLRaw":157,"./XMLText":161,"./XMLWriterBase":162}],159:[function(t,e,r){(function(){var g,y,a,u,c,f,s,l,v,m,b,w,r,_={}.hasOwnProperty;s=t("./XMLDeclaration"),l=t("./XMLDocType"),g=t("./XMLCData"),y=t("./XMLComment"),v=t("./XMLElement"),b=t("./XMLRaw"),w=t("./XMLText"),m=t("./XMLProcessingInstruction"),a=t("./XMLDTDAttList"),u=t("./XMLDTDElement"),c=t("./XMLDTDEntity"),f=t("./XMLDTDNotation"),r=t("./XMLWriterBase"),e.exports=function(t){function e(t){e.__super__.constructor.call(this,t)}return function(t,e){for(var r in e)_.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,r),e.prototype.document=function(t){var e,r,n,i,o;for(this.textispresent=!1,i="",r=0,n=(o=t.children).length;r<n;r++)e=o[r],i+=function(){switch(!1){case!(e instanceof s):return this.declaration(e);case!(e instanceof l):return this.docType(e);case!(e instanceof y):return this.comment(e);case!(e instanceof m):return this.processingInstruction(e);default:return this.element(e,0)}}.call(this);return this.pretty&&i.slice(-this.newline.length)===this.newline&&(i=i.slice(0,-this.newline.length)),i},e.prototype.attribute=function(t){return" "+t.name+'="'+t.value+'"'},e.prototype.cdata=function(t,e){return this.space(e)+"<![CDATA["+t.text+"]]>"+this.newline},e.prototype.comment=function(t,e){return this.space(e)+"\x3c!-- "+t.text+" --\x3e"+this.newline},e.prototype.declaration=function(t,e){var r;return r=this.space(e),r+='<?xml version="'+t.version+'"',null!=t.encoding&&(r+=' encoding="'+t.encoding+'"'),null!=t.standalone&&(r+=' standalone="'+t.standalone+'"'),r+=this.spacebeforeslash+"?>",r+=this.newline},e.prototype.docType=function(t,e){var r,n,i,o,s;if(e||(e=0),o=this.space(e),o+="<!DOCTYPE "+t.root().name,t.pubID&&t.sysID?o+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(o+=' SYSTEM "'+t.sysID+'"'),0<t.children.length){for(o+=" [",o+=this.newline,n=0,i=(s=t.children).length;n<i;n++)r=s[n],o+=function(){switch(!1){case!(r instanceof a):return this.dtdAttList(r,e+1);case!(r instanceof u):return this.dtdElement(r,e+1);case!(r instanceof c):return this.dtdEntity(r,e+1);case!(r instanceof f):return this.dtdNotation(r,e+1);case!(r instanceof g):return this.cdata(r,e+1);case!(r instanceof y):return this.comment(r,e+1);case!(r instanceof m):return this.processingInstruction(r,e+1);default:throw new Error("Unknown DTD node type: "+r.constructor.name)}}.call(this);o+="]"}return o+=this.spacebeforeslash+">",o+=this.newline},e.prototype.element=function(t,e){var r,n,i,o,s,a,u,c,f,l,h,p,d;for(u in e||(e=0),d=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),c="",c+=(p=this.space(e))+"<"+t.name,f=t.attributes)_.call(f,u)&&(r=f[u],c+=this.attribute(r));if(0===t.children.length||t.children.every(function(t){return""===t.value}))this.allowEmpty?c+="></"+t.name+">"+this.newline:c+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&1===t.children.length&&null!=t.children[0].value)c+=">",c+=t.children[0].value,c+="</"+t.name+">"+this.newline;else{if(this.dontprettytextnodes)for(i=0,s=(l=t.children).length;i<s;i++)if(null!=(n=l[i]).value){this.textispresent++,d=!0;break}for(this.textispresent&&(this.newline="",this.pretty=!1,p=this.space(e)),c+=">"+this.newline,o=0,a=(h=t.children).length;o<a;o++)n=h[o],c+=function(){switch(!1){case!(n instanceof g):return this.cdata(n,e+1);case!(n instanceof y):return this.comment(n,e+1);case!(n instanceof v):return this.element(n,e+1);case!(n instanceof b):return this.raw(n,e+1);case!(n instanceof w):return this.text(n,e+1);case!(n instanceof m):return this.processingInstruction(n,e+1);default:throw new Error("Unknown XML node type: "+n.constructor.name)}}.call(this);d&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),c+=p+"</"+t.name+">"+this.newline}return c},e.prototype.processingInstruction=function(t,e){var r;return r=this.space(e)+"<?"+t.target,t.value&&(r+=" "+t.value),r+=this.spacebeforeslash+"?>"+this.newline},e.prototype.raw=function(t,e){return this.space(e)+t.value+this.newline},e.prototype.text=function(t,e){return this.space(e)+t.value+this.newline},e.prototype.dtdAttList=function(t,e){var r;return r=this.space(e)+"<!ATTLIST "+t.elementName+" "+t.attributeName+" "+t.attributeType,"#DEFAULT"!==t.defaultValueType&&(r+=" "+t.defaultValueType),t.defaultValue&&(r+=' "'+t.defaultValue+'"'),r+=this.spacebeforeslash+">"+this.newline},e.prototype.dtdElement=function(t,e){return this.space(e)+"<!ELEMENT "+t.name+" "+t.value+this.spacebeforeslash+">"+this.newline},e.prototype.dtdEntity=function(t,e){var r;return r=this.space(e)+"<!ENTITY",t.pe&&(r+=" %"),r+=" "+t.name,t.value?r+=' "'+t.value+'"':(t.pubID&&t.sysID?r+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(r+=' SYSTEM "'+t.sysID+'"'),t.nData&&(r+=" NDATA "+t.nData)),r+=this.spacebeforeslash+">"+this.newline},e.prototype.dtdNotation=function(t,e){var r;return r=this.space(e)+"<!NOTATION "+t.name,t.pubID&&t.sysID?r+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.pubID?r+=' PUBLIC "'+t.pubID+'"':t.sysID&&(r+=' SYSTEM "'+t.sysID+'"'),r+=this.spacebeforeslash+">"+this.newline},e.prototype.openNode=function(t,e){var r,n,i,o;if(e||(e=0),t instanceof v){for(n in i=this.space(e)+"<"+t.name,o=t.attributes)_.call(o,n)&&(r=o[n],i+=this.attribute(r));return i+=(t.children?">":"/>")+this.newline}return i=this.space(e)+"<!DOCTYPE "+t.rootNodeName,t.pubID&&t.sysID?i+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(i+=' SYSTEM "'+t.sysID+'"'),i+=(t.children?" [":">")+this.newline},e.prototype.closeNode=function(t,e){switch(e||(e=0),!1){case!(t instanceof v):return this.space(e)+"</"+t.name+">"+this.newline;case!(t instanceof l):return this.space(e)+"]>"+this.newline}},e}()}).call(this)},{"./XMLCData":144,"./XMLComment":145,"./XMLDTDAttList":146,"./XMLDTDElement":147,"./XMLDTDEntity":148,"./XMLDTDNotation":149,"./XMLDeclaration":150,"./XMLDocType":151,"./XMLElement":154,"./XMLProcessingInstruction":156,"./XMLRaw":157,"./XMLText":161,"./XMLWriterBase":162}],160:[function(t,e,r){(function(){var s={}.hasOwnProperty;e.exports=function(){function t(t){var e,r,n,i,o;for(n in this.assertLegalChar=(e=this.assertLegalChar,r=this,function(){return e.apply(r,arguments)}),t||(t={}),this.noDoubleEncoding=t.noDoubleEncoding,i=t.stringify||{})s.call(i,n)&&(o=i[n],this[n]=o)}return t.prototype.eleName=function(t){return t=""+t||"",this.assertLegalChar(t)},t.prototype.eleText=function(t){return t=""+t||"",this.assertLegalChar(this.elEscape(t))},t.prototype.cdata=function(t){return t=(t=""+t||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(t)},t.prototype.comment=function(t){if((t=""+t||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+t);return this.assertLegalChar(t)},t.prototype.raw=function(t){return""+t||""},t.prototype.attName=function(t){return""+t||""},t.prototype.attValue=function(t){return t=""+t||"",this.attEscape(t)},t.prototype.insTarget=function(t){return""+t||""},t.prototype.insValue=function(t){if((t=""+t||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+t);return t},t.prototype.xmlVersion=function(t){if(!(t=""+t||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+t);return t},t.prototype.xmlEncoding=function(t){if(!(t=""+t||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+t);return t},t.prototype.xmlStandalone=function(t){return t?"yes":"no"},t.prototype.dtdPubID=function(t){return""+t||""},t.prototype.dtdSysID=function(t){return""+t||""},t.prototype.dtdElementValue=function(t){return""+t||""},t.prototype.dtdAttType=function(t){return""+t||""},t.prototype.dtdAttDefault=function(t){return null!=t?""+t||"":t},t.prototype.dtdEntityValue=function(t){return""+t||""},t.prototype.dtdNData=function(t){return""+t||""},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(t){var e;if(e=t.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/))throw new Error("Invalid character in string: "+t+" at index "+e.index);return t},t.prototype.elEscape=function(t){var e;return e=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},t.prototype.attEscape=function(t){var e;return e=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},t}()}).call(this)},{}],161:[function(t,r,e){(function(){var e,i={}.hasOwnProperty;e=t("./XMLNode"),r.exports=function(t){function r(t,e){if(r.__super__.constructor.call(this,t),null==e)throw new Error("Missing element text");this.value=this.stringify.eleText(e)}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,e),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.set(t).text(this)},r}()}).call(this)},{"./XMLNode":155}],162:[function(t,e,r){(function(){var f={}.hasOwnProperty;e.exports=function(){function t(t){var e,r,n,i,o,s,a,u,c;for(e in t||(t={}),this.pretty=t.pretty||!1,this.allowEmpty=null!=(r=t.allowEmpty)&&r,this.pretty?(this.indent=null!=(n=t.indent)?n:"  ",this.newline=null!=(i=t.newline)?i:"\n",this.offset=null!=(o=t.offset)?o:0,this.dontprettytextnodes=null!=(s=t.dontprettytextnodes)?s:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=null!=(a=t.spacebeforeslash)?a:"",!0===this.spacebeforeslash&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,u=t.writer||{})f.call(u,e)&&(c=u[e],this[e]=c)}return t.prototype.set=function(t){var e,r,n;for(e in t||(t={}),"pretty"in t&&(this.pretty=t.pretty),"allowEmpty"in t&&(this.allowEmpty=t.allowEmpty),this.pretty?(this.indent="indent"in t?t.indent:"  ",this.newline="newline"in t?t.newline:"\n",this.offset="offset"in t?t.offset:0,this.dontprettytextnodes="dontprettytextnodes"in t?t.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in t?t.spacebeforeslash:"",!0===this.spacebeforeslash&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,r=t.writer||{})f.call(r,e)&&(n=r[e],this[e]=n);return this},t.prototype.space=function(t){var e;return this.pretty&&0<(e=(t||0)+this.offset+1)?new Array(e).join(this.indent):""},t}()}).call(this)},{}],163:[function(n,u,t){(function(){var s,i,r,e,a,o,t;t=n("./Utility"),a=t.assign,o=t.isFunction,s=n("./XMLDocument"),i=n("./XMLDocumentCB"),e=n("./XMLStringWriter"),r=n("./XMLStreamWriter"),u.exports.create=function(t,e,r,n){var i,o;if(null==t)throw new Error("Root element needs a name");return n=a({},e,r,n),o=(i=new s(n)).element(t),n.headless||(i.declaration(n),null==n.pubID&&null==n.sysID||i.doctype(n)),o},u.exports.begin=function(t,e,r){var n;return o(t)&&(e=(n=[t,e])[0],r=n[1],t={}),e?new i(t,e,r):new s(t)},u.exports.stringWriter=function(t){return new e(t)},u.exports.streamWriter=function(t,e){return new r(t,e)}}).call(this)},{"./Utility":142,"./XMLDocument":152,"./XMLDocumentCB":153,"./XMLStreamWriter":158,"./XMLStringWriter":159}],164:[function(t,e,r){var a=t("xml2js").parseString,n=t("traverse");function u(t){"string"==typeof t||t instanceof String?this.url=t:this.json=t}function c(t,e){n(t).forEach(function(t){-1!==e.indexOf(this.key)&&(Array.isArray(t)||(this.update([t]),c(t,e)))})}u.prototype.init=function(t,r){if(t="function"==typeof t?(r=t,{}):t||{},this.url||t.url){t.url=t.url||this.url,t.checkTagConsistency=!0,t.explicitArray=["widget"];var n=this;t.callback=function(t,e){t?r(t):(n.json=e.config,r())},u.loadXMLasJSON(t)}else this.json?r():r(Error("Neither a URL nor a json configuration have been passed!"))},u.loadXMLasJSON=function(r){var t=(r=r||{}).url||"data/config.xml",e=r.trim||!0,n=r.checkTagConsistency||!1,i=!(!r.explicitArray||Array.isArray(r.explicitArray))&&r.explicitArray,o=Array.isArray(r.explicitArray)?r.explicitArray:[],s=new XMLHttpRequest;s.onreadystatechange=function(){4==s.readyState&&(200==s.status?a(s.responseText,{trim:e,explicitArray:i,attrkey:"attr"},function(t,e){t&&r.callback(t),n&&u._unify(e),0<o.length&&c(e,o),r.callback(void 0,e)}):r.callback(Error("File loading error:",s.status)))},s.open("GET",t,!0),s.send()},u._unify=function(t){var e=[];n(t).forEach(function(t){-1===e.indexOf(this.key)&&Array.isArray(t)&&e.push(this.key)}),c(t,e)},u.prototype.get=function(t){var e=t.split("."),r=n(this.json).get(e);if(void 0===r)throw Error("Configuration does not contain an element named "+t);return r},u.prototype.has=function(t){var e=t.split(".");return n(this.json).has(e)},u.prototype.set=function(t,e){var r=t.split(".");n(this.json).set(r,e)},e.exports=u},{traverse:106,xml2js:141}],165:[function(t,e,r){function n(t){this.o=t}r.macros=function(t){return new n(t)},n.prototype.mangleScope=function(t){"/"!=t[0]&&(t=(this.o.config.has("rsb.prefix")?this.o.config.get("rsb.prefix"):"")+"/"+t);return t}},{}],166:[function(r,t,e){(function(t){var e=r("./ui");t.KogniJS||(t.KogniJS={}),KogniJS.UI=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ui":168}],167:[function(t,e,r){"use strict";function n(t,e){this.state=0,this.target=t,this.id=t.getAttribute("id"),this.callback=e,this.rad=0,this.isDone=!1}n.prototype.trigger=function(){var t;0==this.state&&(this.setup(),this.interval=setInterval((t=this,function(){t.tick()}),100),this.state=1),this.timeout=5},n.prototype.setup=function(){this.rad=0,this.w=this.target.offsetWidth,this.h=this.target.offsetHeight,this.pl=this.target.offsetLeft,this.pt=this.target.offsetTop;var t=document.createElement("template");t.innerHTML=n.template.format(this.id,this.w,this.h,this.pl,this.pt),this.target.appendChild(t.content.firstChild),this.canvas=document.getElementById("timer_"+this.id),this.ctx=this.canvas.getContext("2d")},n.prototype.tick=function(){this.isDone||(this.ctx.clearRect(0,0,this.w,this.h),this.ctx.strokeStyle="white",this.ctx.lineWidth=30,this.ctx.beginPath(),this.ctx.arc(this.w/2,this.h/2,this.h/3,0,this.rad*Math.PI*2),this.ctx.stroke(),this.rad+=.05,1.04<this.rad&&(this.callback(),this.isDone=!0)),this.timeout-=1,this.timeout<0&&(this.canvas.remove(),this.canvas=0,this.ctx=0,this.isDone=!1,this.state=0,clearInterval(this.interval))},n.template='<canvas id="timer_{0}" width="{1}px" height="{2}px" class="choiceTimer" style="position: absolute; left: {3}px; top:{4}px;"></canvas>',e.exports=n},{}],168:[function(require,module,exports){var traverse=require("traverse"),PointingOverlay=require("./pointing"),macros=require("./helpers").macros,RSB=require("kognijs-rsb"),KogniConfig=require("./config"),Animate;try{Animate=require("kognijs-animate")}catch(t){console.log("KogniJS-Animate has not been found."),Animate=null}function KogniUI(t,e){this.configPath=t||void 0,this.model=e||void 0,this.pointingEnabled=!1,this.modelObservers=[],this.widgetDefinitions={}}KogniUI.Config=KogniConfig,KogniUI.prototype.init=function(i){this.config=new KogniConfig(this.configPath),this.rsb=new RSB;var o=this;this.config.init(function(t){if(t)return i(t);Animate&&o.config.has("projection")&&(o.projection=Animate.createProjection(o.config.get("projection"),o.model),o.projection.init());var e=o.config.has("rsb.host")?o.config.get("rsb.host"):void 0;if(!o.config.has("rsb"))return console.log("No connection in configuration. skip RSB bindings"),i();o.rsb.connect(e,function(e){if(e)return i(e);try{if(o.config.has("rsb.pointing.path")&&o.usePointing(),o.config.has("rsb.canvasList.canvas")){var t=o.config.get("rsb.canvasList.canvas");if(!(t instanceof Array))(r=[]).push(t),t=r;t.forEach(function(t){o.enableRemoteCanvas(t)})}if(o.config.has("rsb.contentList.content")){var r,n=o.config.get("rsb.contentList.content");if(!(n instanceof Array))(r=[]).push(n),n=r;n.forEach(function(t){o.enableRemoteContent(t)})}o.projection&&o.config.has("widgetList.widget")&&o._loadWidgets(),o.model&&(o.modelObservers=o.bindModelToRSB(o.model))}catch(t){e=t}i(e)})})},KogniUI.prototype.usePointing=function(){this.rsb.createListener({scope:macros(this).mangleScope(this.config.get("rsb.pointing.path")),type:this.config.get("rsb.pointing.type"),callback:function(t){KogniUI.clickSim(t.x*window.innerWidth,t.y*window.innerHeight)}}),this.pointingEnabled=!0},KogniUI.prototype.enableRemoteContent=function(t){var e=document.getElementById(t);if(!e)throw new Error("KogniUI.prototype.enableRemoteContent: no component found with id "+t);this.rsb.createListener({scope:macros(this).mangleScope(t+"/html"),type:RSB.STRING,callback:function(t){e.innerHTML=t}})},KogniUI.prototype.enableRemoteCanvas=function(componentId){var parent=document.getElementById(componentId);if(!parent)throw new Error("KogniUI.prototype.enableRemoteCanvas: no component found with id "+componentId);var w=parent.offsetWidth,h=parent.offsetHeight,pl=parent.offsetLeft,pt=parent.offsetTop,template=document.createElement("template");template.innerHTML=CANVAS_TEMPLATE.format(componentId,w,h,pl,pt),parent.appendChild(template.content.firstChild);var canvas=document.getElementById(componentId+"_canvas"),ctx=canvas.getContext("2d");this.rsb.createListener({scope:macros(this).mangleScope(componentId+"/canvas"),type:RSB.STRING,callback:function(string){var context=ctx;eval(string)}})},KogniUI.prototype.enablePointing=function(t,e){var r=document.getElementById(t);if(!r)throw new Error("KogniUI.prototype.enablePointing: no component found with id "+t);this.pointingEnabled||this.usePointing(),r.pointing=new PointingOverlay(r,e),r.addEventListener("click",function(t){r.pointing.trigger()})},KogniUI.prototype.bindModelToRSB=function(s){var a=[];if(!this.config.has("rsb.viewmodel"))return a;var t=this.config.get("rsb.viewmodel"),u=this;return traverse(t).forEach(function(t){if("attr"==this.key){var e,r=this.path.slice(0,-1),n=r.join("/"),i=!1;if(n=t.scope?t.scope:"model/"+n,t.bidirectional&&(i="true"===t.bidirectional?n:t.bidirectional),i){var o=u.rsb.createInformer({scope:macros(u).mangleScope(i),type:t.type});a.push({target:r,informer:o}),e=function(t){o.block=!0,traverse(s).set(r,t)}}else e=function(t){traverse(s).set(r,t)};traverse(s).has(r)||traverse(s).set(r,RSB.getDefault(t.type)),u.rsb.createListener({scope:macros(u).mangleScope(n),type:t.type,callback:e})}}),a},KogniUI.prototype._loadWidgets=function(){var n=this;this.config.get("widgetList.widget").forEach(function(r){try{if(r.type.endsWith(".xml")){document.createElementNS("http://www.w3.org/2000/svg","svg");var t=r.scope.replace(/\//g,"_");Animate.createWidget(r.type,{id:t,projection:n.projection},function(t,e){if(t)throw t;e.timeoutTime=r.timeout,e.useObjectReference=r.useObjectReference,n.projection.widgets[r.scope]=e,n.rsb.createListener({scope:macros(n).mangleScope(r.scope),type:r.value,callback:function(t){e.update(t)}})})}else if(r.type in n.widgetDefinitions){var e=new n.widgetDefinitions[r.type](n.projection);e.timeoutTime=r.timeout,n.projection.widgets[r.scope]=e,n.rsb.createListener({scope:macros(n).mangleScope(r.scope),type:r.value,callback:function(t){e.update(t)}})}}catch(t){console.log("Error during loadWidgets:",r.type,t)}})},KogniUI.clickSim=function(t,e){var r=document.elementFromPoint(t,e);if(r){var n=r.getBoundingClientRect(),i={bubbles:!0,cancelable:!0,view:window,isTrusted:!0,clientX:t,clientY:e,offsetX:t-n.left,offsetY:e-n.top},o=new MouseEvent("mousedown",i);r.dispatchEvent(o);var s=new MouseEvent("mouseup",i);r.dispatchEvent(s);var a=new MouseEvent("click",i);r.dispatchEvent(a)}},module.exports=KogniUI;var CANVAS_TEMPLATE='<canvas id="{0}_canvas" width="{1}px" height="{2}px" style="position: absolute; left: {3}px; top: {4}px;"></canvas>';String.prototype.format||(String.prototype.format=function(){var r=arguments;return this.replace(/{(\d+)}/g,function(t,e){return void 0!==r[e]?r[e]:t})})},{"./config":164,"./helpers":165,"./pointing":167,"kognijs-animate":75,"kognijs-rsb":78,traverse:106}]},{},[166]);